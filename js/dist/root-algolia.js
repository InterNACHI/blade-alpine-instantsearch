var BladeAlpineInstantSearch=function(){"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var e,t=(function(e,t){e.exports=function(){function e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r(r){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?t(Object(i),!0).forEach(function(t){e(r,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))})}return r}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t,r="algoliasearch-client-js-".concat(e.key),i=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(i().getItem(r)||"{}")};return{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var r=JSON.stringify(e),n=a()[r];return Promise.all([n||t(),void 0!==n])}).then(function(e){var t=n(e,2),i=t[0];return Promise.all([i,t[1]||r.miss(i)])}).then(function(e){return n(e,1)[0]})},set:function(e,t){return Promise.resolve().then(function(){var n=a();return n[JSON.stringify(e)]=t,i().setItem(r,JSON.stringify(n)),t})},delete:function(e){return Promise.resolve().then(function(){var t=a();delete t[JSON.stringify(e)],i().setItem(r,JSON.stringify(t))})},clear:function(){return Promise.resolve().then(function(){i().removeItem(r)})}}}function o(e){var t=i(e.caches),r=t.shift();return void 0===r?{get:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then(function(e){return Promise.all([e,r.miss(e)])}).then(function(e){return n(e,1)[0]})},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return r.get(e,n,i).catch(function(){return o({caches:t}).get(e,n,i)})},set:function(e,n){return r.set(e,n).catch(function(){return o({caches:t}).set(e,n)})},delete:function(e){return r.delete(e).catch(function(){return o({caches:t}).delete(e)})},clear:function(){return r.clear().catch(function(){return o({caches:t}).clear()})}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(r,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(r);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var o=n(),c=i&&i.miss||function(){return Promise.resolve()};return o.then(function(e){return c(e)}).then(function(){return o})},set:function(r,n){return t[JSON.stringify(r)]=e.serializable?JSON.stringify(n):n,Promise.resolve(n)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function s(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[r],e[r]=n}return e}function u(e,t){return t?(Object.keys(t).forEach(function(r){e[r]=t[r](e)}),e):e}function f(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=0;return e.replace(/%s/g,function(){return encodeURIComponent(r[i++])})}function l(e,t){var r=e||{},n=r.data||{};return Object.keys(r).forEach(function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(n[e]=r[e])}),{data:Object.entries(n).length>0?n:void 0,timeout:r.timeout||t,headers:r.headers||{},queryParameters:r.queryParameters||{},cacheable:r.cacheable}}var h={Read:1,Write:2,Any:3};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return r(r({},e),{},{status:t,lastUpdate:Date.now()})}function p(e){return"string"==typeof e?{protocol:"https",url:e,accept:h.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||h.Any}}var g="GET",m="POST";function v(e,t,n,a){var o=[],c=function(e,t){if(e.method!==g&&(void 0!==e.data||void 0!==t.data)){var n=Array.isArray(e.data)?e.data:r(r({},e.data),t.data);return JSON.stringify(n)}}(n,a),s=function(e,t){var n=r(r({},e.headers),t.headers),i={};return Object.keys(n).forEach(function(e){var t=n[e];i[e.toLowerCase()]=t}),i}(e,a),u=n.method,f=n.method!==g?{}:r(r({},n.data),a.data),l=r(r(r({"x-algolia-agent":e.userAgent.value},e.queryParameters),f),a.queryParameters),h=0,m=function t(r,i){var f=r.pop();if(void 0===f)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:w(o)};var p={data:c,headers:s,method:u,url:b(f,n.path,l),connectTimeout:i(h,e.timeouts.connect),responseTimeout:i(h,a.timeout)},g=function(e){var t={request:p,response:e,host:f,triesLeft:r.length};return o.push(t),t},m={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(n){var a=g(n);return n.isTimedOut&&h++,Promise.all([e.logger.info("Retryable failure",S(a)),e.hostsCache.set(f,d(f,n.isTimedOut?3:2))]).then(function(){return t(r,i)})},onFail:function(e){throw g(e),function(e,t){var r=e.content,n=e.status,i=r;try{i=JSON.parse(r).message}catch(e){}return function(e,t,r){return{name:"ApiError",message:e,status:t,transporterStackTrace:r}}(i,n,t)}(e,w(o))}};return e.requester.send(p).then(function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){return!e.isTimedOut&&0==~~e.status}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,m)})};return function(e,t){return Promise.all(t.map(function(t){return e.get(t,function(){return Promise.resolve(d(t))})})).then(function(e){var r=e.filter(function(e){return function(e){return 1===e.status||Date.now()-e.lastUpdate>12e4}(e)}),n=e.filter(function(e){return function(e){return 3===e.status&&Date.now()-e.lastUpdate<=12e4}(e)}),a=[].concat(i(r),i(n));return{getTimeout:function(e,t){return(0===n.length&&0===e?1:n.length+3+e)*t},statelessHosts:a.length>0?a.map(function(e){return p(e)}):t}})}(e.hostsCache,t).then(function(e){return m(i(e.statelessHosts).reverse(),e.getTimeout)})}function y(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var r="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(r)&&(t.value="".concat(t.value).concat(r)),t}};return t}function b(e,t,r){var n=O(r),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return n.length&&(i+="?".concat(n)),i}function O(e){return Object.keys(e).map(function(t){return f("%s=%s",t,(r=e[t],"[object Object]"===Object.prototype.toString.call(r)||"[object Array]"===Object.prototype.toString.call(r)?JSON.stringify(e[t]):e[t]));var r}).join("&")}function w(e){return e.map(function(e){return S(e)})}function S(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return r(r({},e),{},{request:r(r({},e.request),{},{headers:r(r({},e.request.headers),t)})})}var j=function(e){return function(t,r){return t.method===g?e.transporter.read(t,r):e.transporter.write(t,r)}},P=function(e){return function(t){return u({transporter:e.transporter,appId:e.appId,indexName:t},(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).methods)}},R=function(e){return function(t,n){var i=t.map(function(e){return r(r({},e),{},{params:O(e.params||{})})});return e.transporter.read({method:m,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},n)}},E=function(e){return function(t,n){return Promise.all(t.map(function(t){var i=t.params,a=i.facetName,o=i.facetQuery,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(i,["facetName","facetQuery"]);return P(e)(t.indexName,{methods:{searchForFacetValues:I}}).searchForFacetValues(a,o,r(r({},n),c))}))}},F=function(e){return function(t,r,n){return e.transporter.read({method:m,path:f("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:r},cacheable:!0},n)}},x=function(e){return function(t,r){return e.transporter.read({method:m,path:f("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},r)}},I=function(e){return function(t,r,n){return e.transporter.read({method:m,path:f("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:r},cacheable:!0},n)}};function A(e,t,i){var f={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise(function(t){var r=new XMLHttpRequest;r.open(e.method,e.url,!0),Object.keys(e.headers).forEach(function(t){return r.setRequestHeader(t,e.headers[t])});var n,i=function(e,n){return setTimeout(function(){r.abort(),t({status:0,content:n,isTimedOut:!0})},1e3*e)},a=i(e.connectTimeout,"Connection timeout");r.onreadystatechange=function(){r.readyState>r.OPENED&&void 0===n&&(clearTimeout(a),n=i(e.responseTimeout,"Socket timeout"))},r.onerror=function(){0===r.status&&(clearTimeout(a),clearTimeout(n),t({content:r.responseText||"Network request failed",status:r.status,isTimedOut:!1}))},r.onload=function(){clearTimeout(a),clearTimeout(n),t({content:r.responseText,status:r.status,isTimedOut:!1})},r.send(e.data)})}},logger:{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}},responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:o({caches:[a({key:"".concat("4.12.1","-").concat(e)}),c()]}),userAgent:y("4.12.1").add({segment:"Browser",version:"lite"}),authMode:0};return function(e){var t=e.appId,i=function(e,t,r){var n={"x-algolia-api-key":r,"x-algolia-application-id":t};return{headers:function(){return 1===e?n:{}},queryParameters:function(){return 0===e?n:{}}}}(void 0!==e.authMode?e.authMode:1,t,e.apiKey),a=function(e){var t={hostsCache:e.hostsCache,logger:e.logger,requester:e.requester,requestsCache:e.requestsCache,responsesCache:e.responsesCache,timeouts:e.timeouts,userAgent:e.userAgent,headers:e.headers,queryParameters:e.queryParameters,hosts:e.hosts.map(function(e){return p(e)}),read:function(e,r){var i=l(r,t.timeouts.read),a=function(){return v(t,t.hosts.filter(function(e){return 0!=(e.accept&h.Read)}),e,i)};if(!0!==(void 0!==i.cacheable?i.cacheable:e.cacheable))return a();var o={request:e,mappedRequestOptions:i,transporter:{queryParameters:t.queryParameters,headers:t.headers}};return t.responsesCache.get(o,function(){return t.requestsCache.get(o,function(){return t.requestsCache.set(o,a()).then(function(e){return Promise.all([t.requestsCache.delete(o),e])},function(e){return Promise.all([t.requestsCache.delete(o),Promise.reject(e)])}).then(function(e){return n(e,2)[1]})})},{miss:function(e){return t.responsesCache.set(o,e)}})},write:function(e,r){return v(t,t.hosts.filter(function(e){return 0!=(e.accept&h.Write)}),e,l(r,t.timeouts.write))}};return t}(r(r({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:h.Read},{url:"".concat(t,".algolia.net"),accept:h.Write}].concat(s([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:r(r(r({},i.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:r(r({},i.queryParameters()),e.queryParameters)}));return u({transporter:a,appId:t,addAlgoliaAgent:function(e,t){a.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then(function(){})}},e.methods)}(r(r(r({},f),i),{},{methods:{search:R,searchForFacetValues:E,multipleQueries:R,multipleSearchForFacetValues:E,customRequest:j,initIndex:function(e){return function(t){return P(e)(t,{methods:{search:x,searchForFacetValues:I,findAnswers:F}})}}}}))}return A.version="4.12.1",A}()}(e={exports:{}}),e.exports);function r(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function n(e,t){if(e===t)return e;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&"__proto__"!==i){var a=t[i],o=e[i];void 0!==o&&void 0===a||(e[i]=r(o)&&r(a)?n(o,a):"object"==typeof(c=a)&&null!==c?n(Array.isArray(c)?[]:{},c):c)}var c;return e}var i=function(e){r(e)||(e={});for(var t=1,i=arguments.length;t<i;t++){var a=arguments[t];r(a)&&n(e,a)}return e},a=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(e,t){return Object.keys(Object(t)).forEach(function(r){void 0!==t[r]&&(void 0!==e[r]&&delete e[r],e[r]=t[r])}),e},{})},o=function(e,t){return e.filter(function(r,n){return t.indexOf(r)>-1&&e.indexOf(r)===n})},c=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]},s=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")},u=function(e,t){if(null===e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i},f=function(e){return e&&Object.keys(e).length>0},l={addRefinement:function(e,t,r){if(l.isRefined(e,t,r))return e;var n=""+r,i=e[t]?e[t].concat(n):[n],o={};return o[t]=i,a({},o,e)},removeRefinement:function(e,t,r){if(void 0===r)return l.clearRefinement(e,function(e,r){return t===r});var n=""+r;return l.clearRefinement(e,function(e,r){return t===r&&n===e})},toggleRefinement:function(e,t,r){if(void 0===r)throw new Error("toggleRefinement should be used with a value");return l.isRefined(e,t,r)?l.removeRefinement(e,t,r):l.addRefinement(e,t,r)},clearRefinement:function(e,t,r){if(void 0===t)return f(e)?{}:e;if("string"==typeof t)return u(e,[t]);if("function"==typeof t){var n=!1,i=Object.keys(e).reduce(function(i,a){var o=e[a]||[],c=o.filter(function(e){return!t(e,a,r)});return c.length!==o.length&&(n=!0),i[a]=c,i},{});return n?i:e}},isRefined:function(e,t,r){var n=!!e[t]&&e[t].length>0;return void 0!==r&&n?-1!==e[t].indexOf(""+r):n}},h=l;function d(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(e,r){return d(t[r],e)}):e===t}function p(e){var t,r=e?p._parseNumbers(e):{};void 0===r.userToken||null!==(t=r.userToken)&&/^[a-zA-Z0-9_-]{1,64}$/.test(t)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=r.facets||[],this.disjunctiveFacets=r.disjunctiveFacets||[],this.hierarchicalFacets=r.hierarchicalFacets||[],this.facetsRefinements=r.facetsRefinements||{},this.facetsExcludes=r.facetsExcludes||{},this.disjunctiveFacetsRefinements=r.disjunctiveFacetsRefinements||{},this.numericRefinements=r.numericRefinements||{},this.tagRefinements=r.tagRefinements||[],this.hierarchicalFacetsRefinements=r.hierarchicalFacetsRefinements||{};var n=this;Object.keys(r).forEach(function(e){-1===p.PARAMETERS.indexOf(e)&&void 0!==r[e]&&(n[e]=r[e])})}p.PARAMETERS=Object.keys(new p),p._parseNumbers=function(e){if(e instanceof p)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(r){var n=e[r];if("string"==typeof n){var i=parseFloat(n);t[r]=isNaN(i)?n:i}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(e){return Array.isArray(e)?e.map(function(e){return parseFloat(e)}):e})),e.numericRefinements){var r={};Object.keys(e.numericRefinements).forEach(function(t){var n=e.numericRefinements[t]||{};r[t]={},Object.keys(n).forEach(function(e){var i=n[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});r[t][e]=i})}),t.numericRefinements=r}return i({},e,t)},p.make=function(e){var t=new p(e);return(e.hierarchicalFacets||[]).forEach(function(e){if(e.rootPath){var r=t.getHierarchicalRefinement(e.name);r.length>0&&0!==r[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(r=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),t},p.validate=function(e,t){var r=t||{};return e.tagFilters&&r.tagRefinements&&r.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&r.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&r.numericRefinements&&f(r.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):f(e.numericRefinements)&&r.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},p.prototype={constructor:p,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:h.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:h.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:h.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:h.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,r){var n=s(r);if(this.isNumericRefined(e,t,n))return this;var a=i({},this.numericRefinements);return a[e]=i({},a[e]),a[e][t]?(a[e][t]=a[e][t].slice(),a[e][t].push(n)):a[e][t]=[n],this.setQueryParameters({numericRefinements:a})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,r){return void 0!==r?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,i){return i===e&&n.op===t&&d(n.val,s(r))})}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(r,n){return n===e&&r.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(t,r){return r===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return f(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return u(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,r=this.numericRefinements,n=Object.keys(r).reduce(function(n,i){var a=r[i],o={};return a=a||{},Object.keys(a).forEach(function(r){var n=a[r]||[],c=[];n.forEach(function(t){e({val:t,op:r},i,"numeric")||c.push(t)}),c.length!==n.length&&(t=!0),o[r]=c}),n[i]=o,n},{});return t?n:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:h.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:h.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:h.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(t){return t!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(t){return t!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(t){return t.name!==e})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:h.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:h.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:h.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter(function(t){return t!==e})};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:h.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:h.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:h.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={},i=void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+r));return n[e]=i?-1===t.indexOf(r)?[]:[t.slice(0,t.lastIndexOf(r))]:[t],this.setQueryParameters({hierarchicalFacetsRefinements:a({},n,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var r={};return r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:a({},r,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:a({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&h.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&h.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&h.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var r=this.getHierarchicalRefinement(e);return t?-1!==r.indexOf(t):r.length>0},isNumericRefined:function(e,t,r){if(void 0===r&&void 0===t)return!!this.numericRefinements[e];var n=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===r||!n)return n;var i,a=s(r),o=void 0!==(i=a,c(this.numericRefinements[e][t],function(e){return d(e,i)}));return n&&o},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=o(Object.keys(this.numericRefinements).filter(function(t){return Object.keys(e.numericRefinements[t]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(t){return e.disjunctiveFacetsRefinements[t].length>0}).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return o(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(t){return e.hierarchicalFacetsRefinements[t].length>0}))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return-1===e.indexOf(t)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},r=this;return Object.keys(this).forEach(function(n){var i=r[n];-1===e.indexOf(n)&&void 0!==i&&(t[n]=i)}),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var r={};return r[e]=t,this.setQueryParameters(r)},setQueryParameters:function(e){if(!e)return this;var t=p.validate(this,e);if(t)throw t;var r=this,n=p._parseNumbers(e),i=Object.keys(this).reduce(function(e,t){return e[t]=r[t],e},{}),a=Object.keys(n).reduce(function(e,t){var r=void 0!==n[t];return void 0===e[t]||r?(r&&(e[t]=n[t]),e):u(e,[t])},i);return new this.constructor(a)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return c(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(r).map(function(e){return e.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var g=p;function m(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=void 0!==t,a=null===t;if(!a&&e>t||n&&i||!r)return 1;if(!n&&e<t||a&&r||!i)return-1}return 0}var v=function(e,t,r){if(!Array.isArray(e))return[];Array.isArray(r)||(r=[]);var n=e.map(function(e,r){return{criteria:t.map(function(t){return e[t]}),index:r,value:e}});return n.sort(function(e,t){for(var n=-1;++n<e.criteria.length;){var i=m(e.criteria[n],t.criteria[n]);if(i)return n>=r.length?i:"desc"===r[n]?-i:i}return e.index-t.index}),n.map(function(e){return e.value})},y=function(e){return Array.isArray(e)?e.filter(Boolean):[]},b=function(e,t){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1},O=function(e,t){var r=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var n=t.split(":"),i=c(r,function(e){return e[0]===n[0]});return n.length>1||!i?(e[0].push(n[0]),e[1].push(n[1]),e):(e[0].push(i[0]),e[1].push(i[1]),e)},[[],[]])};function w(e){var t={};return e.forEach(function(e,r){t[e]=r}),t}function S(e,t,r){t&&t[r]&&(e.stats=t[r])}function j(e,t){var r=t[0];this._rawResults=t;var n=this;Object.keys(r).forEach(function(e){n[e]=r[e]}),this.processingTimeMS=t.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var o=e.getRefinedDisjunctiveFacets(),s=w(e.facets),u=w(e.disjunctiveFacets),f=1,l=r.facets||{};Object.keys(l).forEach(function(t){var i,a=l[t],o=(i=t,c(e.hierarchicalFacets,function(e){return(e.attributes||[]).indexOf(i)>-1}));if(o){var f=o.attributes.indexOf(t),h=b(e.hierarchicalFacets,function(e){return e.name===o.name});n.hierarchicalFacets[h][f]={attribute:t,data:a,exhaustive:r.exhaustiveFacetsCount}}else{var d,p=-1!==e.disjunctiveFacets.indexOf(t),g=-1!==e.facets.indexOf(t);p&&(n.disjunctiveFacets[d=u[t]]={name:t,data:a,exhaustive:r.exhaustiveFacetsCount},S(n.disjunctiveFacets[d],r.facets_stats,t)),g&&(n.facets[d=s[t]]={name:t,data:a,exhaustive:r.exhaustiveFacetsCount},S(n.facets[d],r.facets_stats,t))}}),this.hierarchicalFacets=y(this.hierarchicalFacets),o.forEach(function(o){var c=t[f],s=c&&c.facets?c.facets:{},l=e.getHierarchicalFacetByName(o);Object.keys(s).forEach(function(t){var o,f=s[t];if(l){o=b(e.hierarchicalFacets,function(e){return e.name===l.name});var h=b(n.hierarchicalFacets[o],function(e){return e.attribute===t});if(-1===h)return;n.hierarchicalFacets[o][h].data=i({},n.hierarchicalFacets[o][h].data,f)}else n.disjunctiveFacets[o=u[t]]={name:t,data:a({},f,r.facets&&r.facets[t]||{}),exhaustive:c.exhaustiveFacetsCount},S(n.disjunctiveFacets[o],c.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach(function(r){!n.disjunctiveFacets[o].data[r]&&e.disjunctiveFacetsRefinements[t].indexOf(r)>-1&&(n.disjunctiveFacets[o].data[r]=0)})}),f++}),e.getRefinedHierarchicalFacets().forEach(function(r){var i=e.getHierarchicalFacetByName(r),o=e._getHierarchicalFacetSeparator(i),c=e.getHierarchicalRefinement(r);if(!(0===c.length||c[0].split(o).length<2)){var s=t[f],u=s&&s.facets?s.facets:{};Object.keys(u).forEach(function(t){var r=u[t],s=b(e.hierarchicalFacets,function(e){return e.name===i.name}),f=b(n.hierarchicalFacets[s],function(e){return e.attribute===t});if(-1!==f){var l={};if(c.length>0){var h=c[0].split(o)[0];l[h]=n.hierarchicalFacets[s][f].data[h]}n.hierarchicalFacets[s][f].data=a(l,r,n.hierarchicalFacets[s][f].data)}}),f++}}),Object.keys(e.facetsExcludes).forEach(function(t){var i=e.facetsExcludes[t],a=s[t];n.facets[a]={name:t,data:r.facets[t],exhaustive:r.exhaustiveFacetsCount},i.forEach(function(e){n.facets[a]=n.facets[a]||{name:t},n.facets[a].data=n.facets[a].data||{},n.facets[a].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(function(e){return function(t,r){var n=e.hierarchicalFacets[r],i=e.hierarchicalFacetsRefinements[n.name]&&e.hierarchicalFacetsRefinements[n.name][0]||"",a=e._getHierarchicalFacetSeparator(n),o=e._getHierarchicalRootPath(n),s=e._getHierarchicalShowParentLevel(n),u=O(e._getHierarchicalFacetSortBy(n)),f=t.every(function(e){return e.exhaustive}),l=function(e,t,r,n,i){return function(a,o,s){var u=a;if(s>0){var f=0;for(u=a;f<s;){var l=u&&Array.isArray(u.data)?u.data:[];u=c(l,function(e){return e.isRefined}),f++}}if(u){var h=Object.keys(o.data).map(function(e){return[e,o.data[e]]}).filter(function(e){return function(e,t,r,n,i,a){return(!i||0===e.indexOf(i)&&i!==e)&&(!i&&-1===e.indexOf(n)||i&&e.split(n).length-i.split(n).length==1||-1===e.indexOf(n)&&-1===r.indexOf(n)||0===r.indexOf(e)||0===e.indexOf(t+n)&&(a||0===e.indexOf(r)))}(e[0],u.path||r,i,t,r,n)});u.data=v(h.map(function(e){return function(e,t,r,n,i){var a=t.split(r);return{name:a[a.length-1].trim(),path:t,count:e,isRefined:n===t||0===n.indexOf(t+r),exhaustive:i,data:null}}(e[1],e[0],t,i,o.exhaustive)}),e[0],e[1])}return a}}(u,a,o,s,i),h=t;return o&&(h=t.slice(o.split(a).length)),h.reduce(l,{name:e.hierarchicalFacets[r].name,count:null,isRefined:!0,path:null,exhaustive:f,data:null})}}(e)),this.facets=y(this.facets),this.disjunctiveFacets=y(this.disjunctiveFacets),this._state=e}function P(e,t,r,n){if(n=n||0,Array.isArray(t))return e(t,r[n]);if(!t.data||0===t.data.length)return t;var i=t.data.map(function(t){return P(e,t,r,n+1)}),o=e(i,r[n]);return a({data:o},t)}function R(e,t){var r=c(e,function(e){return e.name===t});return r&&r.stats}function E(e,t,r,n,i){var a=c(i,function(e){return e.name===r});return{type:t,attributeName:r,name:n,count:a&&a.data&&a.data[n]?a.data[n]:0,exhaustive:a&&a.exhaustive||!1}}j.prototype.getFacetByName=function(e){function t(t){return t.name===e}return c(this.facets,t)||c(this.disjunctiveFacets,t)||c(this.hierarchicalFacets,t)},j.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],j.prototype.getFacetValues=function(e,t){var r=function(e,t){function r(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var n=c(e.facets,r);return n?Object.keys(n.data).map(function(r){return{name:r,count:n.data[r],isRefined:e._state.isFacetRefined(t,r),isExcluded:e._state.isExcludeRefined(t,r)}}):[]}if(e._state.isDisjunctiveFacet(t)){var i=c(e.disjunctiveFacets,r);return i?Object.keys(i.data).map(function(r){return{name:r,count:i.data[r],isRefined:e._state.isDisjunctiveFacetRefined(t,r)}}):[]}if(e._state.isHierarchicalFacet(t))return c(e.hierarchicalFacets,r)}(this,e);if(r){var n=a({},t,{sortBy:j.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this;return P(function(e,t){if(n.facetOrdering){var r=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(i,t);if(Boolean(r))return function(e,t){var r=[],n=[],i=(t.order||[]).reduce(function(e,t,r){return e[t]=r,e},{});e.forEach(function(e){var t=e.path||e.name;void 0!==i[t]?r[i[t]]=e:n.push(e)}),r=r.filter(function(e){return e});var a,o=t.sortRemainingBy;return"hidden"===o?r:r.concat(v(n,(a="alpha"===o?[["path","name"],["asc","asc"]]:[["count"],["desc"]])[0],a[1]))}(e,r)}if(Array.isArray(n.sortBy)){var a=O(n.sortBy,j.DEFAULT_SORT);return v(e,a[0],a[1])}if("function"==typeof n.sortBy)return function(e,t){return t.sort(e)}(n.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,Array.isArray(r)?[e]:i._state.getHierarchicalFacetByName(r.name).attributes)}},j.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?R(this.facets,e):this._state.isDisjunctiveFacet(e)?R(this.disjunctiveFacets,e):void 0},j.prototype.getRefinements=function(){var e=this._state,t=this,r=[];return Object.keys(e.facetsRefinements).forEach(function(n){e.facetsRefinements[n].forEach(function(e){r.push(E(0,"facet",n,e,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(n){e.facetsExcludes[n].forEach(function(e){r.push(E(0,"exclude",n,e,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(n){e.disjunctiveFacetsRefinements[n].forEach(function(e){r.push(E(0,"disjunctive",n,e,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(n){e.hierarchicalFacetsRefinements[n].forEach(function(i){r.push(function(e,t,r,n){var i=e.getHierarchicalFacetByName(t),a=e._getHierarchicalFacetSeparator(i),o=r.split(a),s=c(n,function(e){return e.name===t}),u=o.reduce(function(e,t){var r=e&&c(e.data,function(e){return e.name===t});return void 0!==r?r:e},s);return{type:"hierarchical",attributeName:t,name:u&&u.path||"",count:u&&u.count||0,exhaustive:u&&u.exhaustive||!1}}(e,n,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(t){var n=e.numericRefinements[t];Object.keys(n).forEach(function(e){n[e].forEach(function(n){r.push({type:"numeric",attributeName:t,name:n,numericValue:n,operator:e})})})}),e.tagRefinements.forEach(function(e){r.push({type:"tag",attributeName:"_tags",name:e})}),r};var F=j;function x(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var I=x;function A(e){return"function"==typeof e}function D(e){return"object"==typeof e&&null!==e}function T(e){return void 0===e}x.prototype._events=void 0,x.prototype._maxListeners=void 0,x.defaultMaxListeners=10,x.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},x.prototype.emit=function(e){var t,r,n,i,a,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||D(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var c=new Error('Uncaught, unspecified "error" event. ('+t+")");throw c.context=t,c}if(T(r=this._events[e]))return!1;if(A(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(D(r))for(i=Array.prototype.slice.call(arguments,1),n=(o=r.slice()).length,a=0;a<n;a++)o[a].apply(this,i);return!0},x.prototype.on=x.prototype.addListener=function(e,t){var r;if(!A(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,A(t.listener)?t.listener:t),this._events[e]?D(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,D(this._events[e])&&!this._events[e].warned&&(r=T(this._maxListeners)?x.defaultMaxListeners:this._maxListeners)&&r>0&&this._events[e].length>r&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},x.prototype.once=function(e,t){if(!A(t))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}return n.listener=t,this.on(e,n),this},x.prototype.removeListener=function(e,t){var r,n,i,a;if(!A(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(r=this._events[e]).length,n=-1,r===t||A(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(D(r)){for(a=i;a-- >0;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},x.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(A(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},x.prototype.listeners=function(e){return this._events&&this._events[e]?A(this._events[e])?[this._events[e]]:this._events[e].slice():[]},x.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(A(t))return 1;if(t)return t.length}return 0},x.listenerCount=function(e,t){return e.listenerCount(t)};var _=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function N(e,t){this.main=e,this.fn=t,this.lastResults=null}_(N,I),N.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},N.prototype.getModifiedState=function(e){return this.fn(e)};var k=N,W={_getQueries:function(e,t){var r=[];return r.push({indexName:e,params:W._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach(function(n){r.push({indexName:e,params:W._getDisjunctiveFacetSearchParams(t,n)})}),t.getRefinedHierarchicalFacets().forEach(function(n){var i=t.getHierarchicalFacetByName(n),a=t.getHierarchicalRefinement(n),o=t._getHierarchicalFacetSeparator(i);a.length>0&&a[0].split(o).length>1&&r.push({indexName:e,params:W._getDisjunctiveFacetSearchParams(t,n,!0)})}),r},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(W._getHitsHierarchicalFacetsAttributes(e)),r=W._getFacetFilters(e),n=W._getNumericFilters(e),a=W._getTagFilters(e),o={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:a};return r.length>0&&(o.facetFilters=r),n.length>0&&(o.numericFilters=n),i({},e.getQueryParams(),o)},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=W._getFacetFilters(e,t,r),a=W._getNumericFilters(e,t),o={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:W._getTagFilters(e),analytics:!1,clickAnalytics:!1},c=e.getHierarchicalFacetByName(t);return o.facets=c?W._getDisjunctiveHierarchicalFacetAttribute(e,c,r):t,a.length>0&&(o.numericFilters=a),n.length>0&&(o.facetFilters=n),i({},e.getQueryParams(),o)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var r=[];return Object.keys(e.numericRefinements).forEach(function(n){var i=e.numericRefinements[n]||{};Object.keys(i).forEach(function(e){t!==n&&(i[e]||[]).forEach(function(t){if(Array.isArray(t)){var i=t.map(function(t){return n+e+t});r.push(i)}else r.push(n+e+t)})})}),r},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,r){var n=[],i=e.facetsRefinements||{};Object.keys(i).forEach(function(e){(i[e]||[]).forEach(function(t){n.push(e+":"+t)})});var a=e.facetsExcludes||{};Object.keys(a).forEach(function(e){(a[e]||[]).forEach(function(t){n.push(e+":-"+t)})});var o=e.disjunctiveFacetsRefinements||{};Object.keys(o).forEach(function(e){var r=o[e]||[];if(e!==t&&r&&0!==r.length){var i=[];r.forEach(function(t){i.push(e+":"+t)}),n.push(i)}});var c=e.hierarchicalFacetsRefinements||{};return Object.keys(c).forEach(function(i){var a=(c[i]||[])[0];if(void 0!==a){var o,s,u=e.getHierarchicalFacetByName(i),f=e._getHierarchicalFacetSeparator(u),l=e._getHierarchicalRootPath(u);if(t===i){if(-1===a.indexOf(f)||!l&&!0===r||l&&l.split(f).length===a.split(f).length)return;l?(s=l.split(f).length-1,a=l):(s=a.split(f).length-2,a=a.slice(0,a.lastIndexOf(f))),o=u.attributes[s]}else s=a.split(f).length-1,o=u.attributes[s];o&&n.push([o+":"+a])}}),n},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce(function(t,r){var n=e.getHierarchicalRefinement(r.name)[0];if(!n)return t.push(r.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(r),a=n.split(i).length,o=r.attributes.slice(0,a+1);return t.concat(o)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n=e._getHierarchicalFacetSeparator(t);if(!0===r){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(n).length),[t.attributes[a]]}var o=(e.getHierarchicalRefinement(t.name)[0]||"").split(n).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,r,n){var a=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,o={facetQuery:t,facetName:e};return"number"==typeof r&&(o.maxFacetHits=r),i({},W._getHitsSearchParams(a),o)}},H=W;function L(e,t,r){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.7.0)"),this.setClient(e);var n=r||{};n.index=t,this.state=g.make(n),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function C(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function M(){return this.state.page}_(L,I),L.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},L.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},L.prototype.getQuery=function(){return H._getHitsSearchParams(this.state)},L.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,n=H._getQueries(r.index,r),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),!t)return this.client.search(n).then(function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new F(r,e.results),state:r,_originalResponse:e}},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e});this.client.search(n).then(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new F(r,e.results),r)}).catch(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,r)})},L.prototype.findAnswers=function(e){var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var n=r.getModifiedState(t),a=i({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:u(H._getHitsSearchParams(n),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),o="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(o);var c=this.client.initIndex(n.index);if("function"!=typeof c.findAnswers)throw new Error(o);return c.findAnswers(n.query,e.queryLanguages,a)},L.prototype.searchForFacetValues=function(e,t,r,n){var i="function"==typeof this.client.searchForFacetValues;if(!i&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(n||{}),o=a.isDisjunctiveFacet(e),c=H.getSearchForFacetQuery(e,t,r,a);this._currentNbQueries++;var s=this;return this.emit("searchForFacetValues",{state:a,facet:e,query:t}),(i?this.client.searchForFacetValues([{indexName:a.index,params:c}]):this.client.initIndex(a.index).searchForFacetValues(c)).then(function(t){return s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach(function(t){t.isRefined=o?a.isDisjunctiveFacetRefined(e,t.value):a.isFacetRefined(e,t.value)}),t},function(e){throw s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),e})},L.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},L.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},L.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},L.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},L.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},L.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},L.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this},L.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},L.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},L.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},L.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},L.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},L.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this},L.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},L.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},L.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},L.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},L.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},L.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},L.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},L.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},L.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},L.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},L.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},L.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},L.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},L.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},L.prototype.nextPage=function(){return this.setPage((this.state.page||0)+1)},L.prototype.previousPage=function(){return this.setPage((this.state.page||0)-1)},L.prototype.setCurrentPage=C,L.prototype.setPage=C,L.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},L.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},L.prototype.setState=function(e){return this._change({state:g.make(e),isPageReset:!1}),this},L.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new g(e),this},L.prototype.hasRefinements=function(e){return!!f(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},L.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},L.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},L.prototype.hasTag=function(e){return this.state.isTagRefined(e)},L.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},L.prototype.getIndex=function(){return this.state.index},L.prototype.getCurrentPage=M,L.prototype.getPage=M,L.prototype.getTags=function(){return this.state.tagRefinements},L.prototype.getRefinements=function(e){var t=[];this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){t.push({value:e,type:"exclude"})})):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"disjunctive"})});var r=this.state.getNumericRefinements(e);return Object.keys(r).forEach(function(e){t.push({value:r[e],operator:e,type:"numeric"})}),t},L.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},L.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},L.prototype._search=function(e){var t=this.state,r=[],n=[];e.onlyWithDerivedHelpers||(n=H._getQueries(t.index,t),r.push({state:t,queriesCount:n.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(e){var n=e.getModifiedState(t),i=H._getQueries(n.index,n);return r.push({state:n,queriesCount:i.length,helper:e}),e.emit("search",{state:n,results:e.lastResults}),i}),a=Array.prototype.concat.apply(n,i),o=this._queryId++;this._currentNbQueries++;try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,r,o)).catch(this._dispatchAlgoliaError.bind(this,o))}catch(e){this.emit("error",{error:e})}},L.prototype._dispatchAlgoliaResponse=function(e,t,r){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var n=r.results.slice();e.forEach(function(e){var t=e.state,r=e.helper,i=n.splice(0,e.queriesCount),a=r.lastResults=new F(t,i);r.emit("result",{results:a,state:t})})}},L.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},L.prototype.containsRefinement=function(e,t,r,n){return e||0!==t.length||0!==r.length||0!==n.length},L.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},L.prototype._change=function(e){var t=e.state,r=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:r}))},L.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},L.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.7.0)"),this.client=e),this},L.prototype.getClient=function(){return this.client},L.prototype.derive=function(e){var t=new k(this,e);return this.derivedHelpers.push(t),t},L.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},L.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var U=L;function Q(e,t,r){return new U(e,t,r)}Q.version="3.7.0",Q.AlgoliaSearchHelper=U,Q.SearchParameters=g,Q.SearchResults=F;var q=Q;function B(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}var $=Promise.resolve(),V=function(e){var t=null,r=!1,n=function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];null===t&&(t=$.then(function(){t=null,r?r=!1:e.apply(void 0,i)}))};return n.wait=function(){if(null===t)throw new Error("The deferred function should be called before calling `wait()`");return t},n.cancel=function(){null!==t&&(r=!0)},n};function J(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})}function z(e,t){for(var r,n=0;n<e.length;n++)if(t(r=e[n],n,e))return r}function Y(e){return String(e).replace(/^\\-/,"-")}function X(e,t,r,n){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o={type:t,attribute:r,name:n},c=z(a,function(e){return e.name===r});"hierarchical"===t?function(){for(var t=e.getHierarchicalFacetByName(r),a=n.split(t.separator),o=function(e){var t;c=c&&c.data&&z(Object.keys(c.data).map((t=c.data,function(e){return t[e]})),function(t){return t.name===a[e]})},s=0;void 0!==c&&s<a.length;++s)o(s);i=c&&c.count}():i=c&&c.data&&c.data[o.name];var s=c&&c.exhaustive;return void 0!==i&&(o.count=i),void 0!==s&&(o.exhaustive=s),o}function G(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=[],i=t.facetsRefinements,a=void 0===i?{}:i,o=t.facetsExcludes,c=void 0===o?{}:o,s=t.disjunctiveFacetsRefinements,u=void 0===s?{}:s,f=t.hierarchicalFacetsRefinements,l=void 0===f?{}:f,h=t.numericRefinements,d=void 0===h?{}:h,p=t.tagRefinements,g=void 0===p?[]:p;return Object.keys(a).forEach(function(r){a[r].forEach(function(i){n.push(X(t,"facet",r,i,e.facets))})}),Object.keys(c).forEach(function(e){c[e].forEach(function(t){n.push({type:"exclude",attribute:e,name:t,exclude:!0})})}),Object.keys(u).forEach(function(r){u[r].forEach(function(i){n.push(X(t,"disjunctive",r,Y(i),e.disjunctiveFacets))})}),Object.keys(l).forEach(function(r){l[r].forEach(function(i){n.push(X(t,"hierarchical",r,i,e.hierarchicalFacets))})}),Object.keys(d).forEach(function(e){var t=d[e];Object.keys(t).forEach(function(r){var i=r,a=t[i];(Array.isArray(a)?a:[a]).forEach(function(t){n.push({type:"numeric",attribute:e,name:"".concat(t),numericValue:t,operator:i})})})}),g.forEach(function(e){n.push({type:"tag",attribute:"_tags",name:e})}),r&&t.query&&t.query.trim()&&n.push({attribute:"query",type:"query",name:t.query,query:t.query}),n}function K(e){var t=e.attributesToClear,r=void 0===t?[]:t,n=e.helper.state.setPage(0);return n=r.reduce(function(e,t){return n.isNumericRefined(t)?e.removeNumericRefinement(t):n.isHierarchicalFacet(t)?e.removeHierarchicalFacetRefinement(t):n.isDisjunctiveFacet(t)?e.removeDisjunctiveFacetRefinement(t):n.isConjunctiveFacet(t)?e.removeFacetRefinement(t):e},n),-1!==r.indexOf("query")&&(n=n.setQuery("")),n}function Z(e){return"number"==typeof e&&e<0&&(e=String(e).replace(/^-/,"\\-")),e}function ee(e){return Object.prototype.toString.call(e).slice(8,-1)}function te(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat(ee(e),").\n\n").concat(t))}function re(){}var ne=function(e,t){return e},ie=re,ae=re;"development"==="production".NODE_ENV&&(ie=function(e){console.warn("[InstantSearch.js]: ".concat(e.trim()))},ne=function(e,t){var r=!1;return function(){return r||(r=!0,ie(t)),e.apply(void 0,arguments)}},(ae=function(e,t){e||ae.cache[t]||(ae.cache[t]=!0,ie(t))}).cache={});var oe=Object.keys;function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){if(e){if("string"==typeof e)return ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fe={query:{connectors:["connectSearchBox"],widgets:["ais.searchBox","ais.autocomplete","ais.voiceSearch"]},refinementList:{connectors:["connectRefinementList"],widgets:["ais.refinementList"]},menu:{connectors:["connectMenu"],widgets:["ais.menu"]},hierarchicalMenu:{connectors:["connectHierarchicalMenu"],widgets:["ais.hierarchicalMenu"]},numericMenu:{connectors:["connectNumericMenu"],widgets:["ais.numericMenu"]},ratingMenu:{connectors:["connectRatingMenu"],widgets:["ais.ratingMenu"]},range:{connectors:["connectRange"],widgets:["ais.rangeInput","ais.rangeSlider","ais.range"]},toggle:{connectors:["connectToggleRefinement"],widgets:["ais.toggleRefinement"]},geoSearch:{connectors:["connectGeoSearch"],widgets:["ais.geoSearch"]},sortBy:{connectors:["connectSortBy"],widgets:["ais.sortBy"]},page:{connectors:["connectPagination"],widgets:["ais.pagination","ais.infiniteHits"]},hitsPerPage:{connectors:["connectHitsPerPage"],widgets:["ais.hitsPerPage"]},configure:{connectors:["connectConfigure"],widgets:["ais.configure"]},places:{connectors:[],widgets:["ais.places"]}};function le(e){var t=e.index,r=e.indexUiState,n=t.getWidgets().map(function(e){return e.$$type}).filter(Boolean),i=oe(r).reduce(function(e,t){var r=fe[t];if(!r)return e;var i=r.widgets;return i&&!i.some(function(e){return n.includes(e)})&&e.push([t,{connectors:r.connectors,widgets:r.widgets.map(function(e){return e.split("ais.")[1]})}]),e},[]);"development"==="production".NODE_ENV&&ae(0===i.length,'The UI state for the index "'.concat(t.getIndexId(),'" is not consistent with the widgets mounted.\n\nThis can happen when the UI state is specified via `initialUiState`, `routing` or `setUiState` but that the widgets responsible for this state were not added. This results in those query parameters not being sent to the API.\n\nTo fully reflect the state, some widgets need to be added to the index "').concat(t.getIndexId(),'":\n\n').concat(i.map(function(e){var t,r,n=ce(e,2),i=n[1].widgets;return"- `".concat(n[0],"` needs one of these widgets: ").concat((t=[]).concat.apply(t,(r=i.map(function(e){return function(e){switch(e){case"range":return[];case"menu":return["menu","menuSelect"];default:return[e]}}(e)}),function(e){if(Array.isArray(e))return ue(e)}(r)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||se(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).map(function(e){return'"'.concat(e,'"')}).join(", "))}).join("\n"),'\n\nIf you do not wish to display widgets but still want to support their search parameters, you can mount "virtual widgets" that don\'t render anything:\n\n```\n').concat(i.filter(function(e){return ce(e,2)[1].connectors.length>0}).map(function(e){var t=ce(e,2)[1],r=t.connectors,n=B(t.widgets[0]),i=r[0];return"const virtual".concat(n," = ").concat(i,"(() => null);")}).join("\n"),"\n\nsearch.addWidgets([\n  ").concat(i.filter(function(e){return ce(e,2)[1].connectors.length>0}).map(function(e){var t=B(ce(e,2)[1].widgets[0]);return"virtual".concat(t,"({ /* ... */ })")}).join(",\n  "),"\n]);\n```\n\nIf you're using custom widgets that do set these query parameters, we recommend using connectors instead.\n\nSee https://www.algolia.com/doc/guides/building-search-ui/widgets/customize-an-existing-widget/js/#customize-the-complete-ui-of-the-widgets"))}function he(e,t){return(Array.isArray(t)?t:t.split(".")).reduce(function(e,t){return e&&e[t]},e)}function de(e){return"number"==typeof e&&isFinite(e)}function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e){if(!function(e){return"object"===pe(e)&&null!==e}(e)||"[object Object]"!==function(e){return null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ve(e){var t,r=e.start,n=void 0===r?0:r,i=e.step,a=void 0===i?1:i,o=0===a?1:a,c=Math.round((e.end-n)/o);return(t=Array(c),function(e){if(Array.isArray(e))return me(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?me(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e,t){return n+t*o})}function ye(e){return e!==Object(e)}function be(e,t){if(e===t)return!0;if(ye(e)||ye(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t))return!1;if(!be(e[i],t[i]))return!1}return!0}var Oe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},we=/[&<>"']/g,Se=RegExp(we.source),je={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Pe=/&(amp|quot|lt|gt|#39);/g,Re=RegExp(Pe.source);function Ee(){return(Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Fe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function xe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(r),!0).forEach(function(t){Ie(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ae={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},De="<mark>",Te="</mark>";function _e(e){return function(e){return e&&Se.test(e)?e.replace(we,function(e){return Oe[e]}):e}(e).replace(new RegExp(Ae.highlightPreTag,"g"),De).replace(new RegExp(Ae.highlightPostTag,"g"),Te)}function Ne(e){return ge(e)&&"string"!=typeof e.value?Object.keys(e).reduce(function(t,r){return xe(xe({},t),{},Ie({},r,Ne(e[r])))},{}):Array.isArray(e)?e.map(Ne):xe(xe({},e),{},{value:_e(e.value)})}function ke(e){return void 0===e.__escaped&&((e=e.map(function(e){var t=Ee({},e);return t._highlightResult&&(t._highlightResult=Ne(t._highlightResult)),t._snippetResult&&(t._snippetResult=Ne(t._snippetResult)),t})).__escaped=!0),e}function We(e){return e.map(function(e){return xe(xe({},e),{},{highlighted:_e(e.highlighted)})})}function He(e){return e.map(function(e){return e.isHighlighted?"<mark>"+e.value+"</mark>":e.value}).join("")}function Le(e){var t=e.split(De),r=t.shift(),n=r?[{value:r,isHighlighted:!1}]:[];return t.forEach(function(e){var t=e.split("</mark>");n.push({value:t[0],isHighlighted:!0}),""!==t[1]&&n.push({value:t[1],isHighlighted:!1})}),n}var Ce=new RegExp(/\w/i);function Me(e,t){var r,n,i,a=e[t],o=(null===(r=e[t+1])||void 0===r?void 0:r.isHighlighted)||!0,c=(null===(n=e[t-1])||void 0===n?void 0:n.isHighlighted)||!0;return Ce.test((i=a.value)&&Re.test(i)?i.replace(Pe,function(e){return je[e]}):i)||c!==o?a.isHighlighted:c}function Ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(r),!0).forEach(function(t){qe(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ue(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Be(e){return e.some(function(e){return e.isHighlighted})?e.map(function(t,r){return Qe(Qe({},t),{},{isHighlighted:!Me(e,r)})}):e.map(function(e){return Qe(Qe({},e),{},{isHighlighted:!1})})}function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach(function(t){Je(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ze=function(e,t){var r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return e.setQueryParameters(r)},Ye=function(e,t){return t.facets.reduce(function(e,t){return e.addFacet(t)},e)},Xe=function(e,t){return t.disjunctiveFacets.reduce(function(e,t){return e.addDisjunctiveFacet(t)},e)},Ge=function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(e,t){var r=function(e,r){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(e[n].name===t.name)return n;return-1}(e);if(-1===r)return e.concat(t);var n=e.slice();return n.splice(r,1,t),n},e.hierarchicalFacets)})},Ke=function(e,t){return t.tagRefinements.reduce(function(e,t){return e.addTagRefinement(t)},e)},Ze=function(e,t){return e.setQueryParameters({facetsRefinements:Ve(Ve({},e.facetsRefinements),t.facetsRefinements)})},et=function(e,t){return e.setQueryParameters({facetsExcludes:Ve(Ve({},e.facetsExcludes),t.facetsExcludes)})},tt=function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:Ve(Ve({},e.disjunctiveFacetsRefinements),t.disjunctiveFacetsRefinements)})},rt=function(e,t){return e.setQueryParameters({numericRefinements:Ve(Ve({},e.numericRefinements),t.numericRefinements)})},nt=function(e,t){return e.setQueryParameters({hierarchicalFacetsRefinements:Ve(Ve({},e.hierarchicalFacetsRefinements),t.hierarchicalFacetsRefinements)})},it=function(e,t){var r=J([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return r.length>0?e.setQueryParameters({ruleContexts:r}):e},at=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){var r=nt(e,t),n=Ge(r,t),i=Ke(n,t),a=rt(i,t),o=tt(a,t),c=et(o,t),s=Ze(c,t),u=Xe(s,t),f=it(u,t),l=Ye(f,t);return ze(l,t)})};function ot(e){return Array.isArray(e)?e:[e]}var ct=function(e){var t=e.connector;return["https://www.algolia.com/doc/api-reference/widgets/",e.name,"/js/",void 0!==t&&t?"#connector":""].join("")},st=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(e){return ct(e)}).join(", ");return function(e){return[e,"See documentation: ".concat(n)].filter(Boolean).join("\n\n")}};function ut(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ft(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ft(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var lt=/^(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)$/;function ht(e){var t=e.match(lt);if(!t)throw new Error('Invalid value for "aroundLatLng" parameter: "'.concat(e,'"'));return{lat:parseFloat(t[1]),lng:parseFloat(t[2])}}function dt(e){return Array.isArray(e)?function(e){var t=ut(e,1)[0],r=ut(t=void 0===t?[void 0,void 0,void 0,void 0]:t,4),n=r[0],i=r[1],a=r[2],o=r[3];if(!(n&&i&&a&&o))throw new Error('Invalid value for "insideBoundingBox" parameter: ['.concat(e,"]"));return{northEast:{lat:n,lng:i},southWest:{lat:a,lng:o}}}(e):function(e){var t=ut(e.split(",").map(parseFloat),4),r=t[0],n=t[1],i=t[2],a=t[3];if(!(r&&n&&i&&a))throw new Error('Invalid value for "insideBoundingBox" parameter: "'.concat(e,'"'));return{northEast:{lat:r,lng:n},southWest:{lat:i,lng:a}}}(e)}function pt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(r),!0).forEach(function(t){mt(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vt(e,t,r){return e.map(function(e,n){return gt(gt({},e),{},{__position:r*t+n+1})})}function yt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(r),!0).forEach(function(t){Ot(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ot(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wt(e,t){return t?e.map(function(e){return bt(bt({},e),{},{__queryID:t})}):e}function St(e,t,r){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,r):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,r):e.state.isDisjunctiveFacetRefined(t,r)}function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e){var t=e.instantSearchInstance,r=e.helper,n=e.attribute,i=e.widgetType;return function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var c=a[0],s=a[1],u=a[2],f=void 0===u?"Filter Applied":u;if(1===a.length&&"object"===jt(a[0]))t.sendEventToInsights(a[0]);else if("click"!==c||2!==a.length&&3!==a.length){if("development"==="production".NODE_ENV)throw new Error("You need to pass two arguments like:\n  sendEvent('click', facetValue);\n\nIf you want to send a custom payload, you can pass one object: sendEvent(customPayload);\n")}else St(r,n,s)||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:c,payload:{eventName:f,index:r.getIndex(),filters:["".concat(n,":").concat(s)]},attribute:n})}}function Rt(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ft=function(e){var t=e.index,r=e.widgetType,n=e.methodName,i=e.args;if(1===i.length&&"object"===Et(i[0]))return[i[0]];var a=i[0],o=i[1],c=i[2];if(!o){if("development"==="production".NODE_ENV)throw new Error("You need to pass hit or hits as the second argument like:\n  ".concat(n,"(eventType, hit);\n  "));return[]}if(("click"===a||"conversion"===a)&&!c){if("development"==="production".NODE_ENV)throw new Error("You need to pass eventName as the third argument for 'click' or 'conversion' events like:\n  ".concat(n,"('click', hit, 'Product Purchased');\n\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\n  "));return[]}var s=Array.isArray(o)?function(e){return e.slice()}(o):[o];if(0===s.length)return[];var u=s[0].__queryID,f=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,r=[],n=0;n<Math.ceil(e.length/t);n++)r.push(e.slice(n*t,(n+1)*t));return r}(s),l=f.map(function(e){return e.map(function(e){return e.objectID})}),h=f.map(function(e){return e.map(function(e){return e.__position})});if("view"===a)return f.map(function(e,n){return{insightsMethod:"viewedObjectIDs",widgetType:r,eventType:a,payload:{eventName:c||"Hits Viewed",index:t,objectIDs:l[n]},hits:e}});if("click"===a)return f.map(function(e,n){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:r,eventType:a,payload:{eventName:c,index:t,queryID:u,objectIDs:l[n],positions:h[n]},hits:e}});if("conversion"===a)return f.map(function(e,n){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:r,eventType:a,payload:{eventName:c,index:t,queryID:u,objectIDs:l[n]},hits:e}});if("development"==="production".NODE_ENV)throw new Error('eventType("'.concat(a,'") is not supported.\n    If you want to send a custom payload, you can pass one object: ').concat(n,"(customPayload);\n    "));return[]};function xt(e){var t=e.instantSearchInstance,r=e.index,n=e.widgetType;return function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var o=Ft({widgetType:n,index:r,methodName:"sendEvent",args:i});o.forEach(function(e){return t.sendEventToInsights(e)})}}function It(e){var t=e.index,r=e.widgetType;return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var a=Ft({widgetType:r,index:t,methodName:"bindEvent",args:n});return a.length?"data-insights-event=".concat(Rt(a)):""}}function At(e,t){if(!e)return null;var r=e.numericRefinements[t],n=[];return Object.keys(r).filter(function(e){return Array.isArray(r[e])&&r[e].length>0}).forEach(function(e){r[e].forEach(function(r){n.push("".concat(t).concat(e).concat(r))})}),n}function Dt(){var e=-1,t=-1,r=void 0;return function(n){var i=++e;return Promise.resolve(n).then(function(e){return r&&i<t?r:(t=i,r=e,e)})}}function Tt(e,t){var r=null;return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return new Promise(function(n,a){r&&clearTimeout(r),r=setTimeout(function(){r=null,Promise.resolve(e.apply(void 0,i)).then(n).catch(a)},t)})}}function _t(e,t){var r,n=null===(r=e.getWidgetRenderState)||void 0===r?void 0:r.call(e,t),i=null;if(n&&n.widgetParams){var a=n.widgetParams;a.attribute?i=a.attribute:Array.isArray(a.attributes)&&(i=a.attributes[0])}if("string"!=typeof i)throw new Error("Could not find the attribute of the widget:\n\n".concat(JSON.stringify(e),"\n\nPlease check whether the widget's getWidgetRenderState returns widgetParams.attribute correctly."));return i}function Nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}},r=t.fallback;return"undefined"==typeof window?r():e({window:window})}function kt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(r),!0).forEach(function(t){Ht(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kt(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ht(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lt(e){return function(e){if(Array.isArray(e))return Ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ct(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mt=st({name:"index-widget"});function Ut(e){return"ais.index"===e.$$type}function Qt(e,t){var r=t.state,n=t.isPageReset,i=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:n,_uiState:i}))}function qt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(function(e,r){return Ut(r)?e:r.getWidgetUiState||r.getWidgetState?r.getWidgetUiState?r.getWidgetUiState(e,t):r.getWidgetState(e,t):e},r)}function Bt(e,t){var r=t.initialSearchParameters,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(t,["initialSearchParameters"]);return e.filter(function(e){return!Ut(e)}).reduce(function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,n):e},r)}function $t(e){var t=e.filter(Ut);0!==t.length&&t.forEach(function(e){var t=e.getHelper();Qt(t,{state:t.state.resetPage(),isPageReset:!0}),$t(e.getWidgets())})}function Vt(e){return e.filter(Ut).reduce(function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(Lt(Vt(t.getWidgets()))))},[])}var Jt=function(e){if(void 0===e||void 0===e.indexName)throw new Error(Mt("The `indexName` option is required."));var t=e.indexName,r=e.indexId,n=void 0===r?t:r,i=[],a={},o=null,c=null,s=null,u=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return t},getIndexId:function(){return n},getHelper:function(){return s},getResults:function(){return u&&u.lastResults},getScopedResults:function(){var e=this.getParent();return Vt(e?e.getWidgets():[this])},getParent:function(){return c},createURL:function(e){return o._createURL(Ht({},n,qt(i,{searchParameters:e,helper:s})))},getWidgets:function(){return i},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(Mt("The `addWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(Mt("The widget definition expects a `render` and/or an `init` method."));return i=i.concat(e),o&&Boolean(e.length)&&(Qt(s,{state:Bt(i,{uiState:a,initialSearchParameters:s.state}),_uiState:a}),e.forEach(function(e){e.getRenderState&&zt({renderState:e.getRenderState(o.renderState[t.getIndexId()]||{},{uiState:o._initialUiState,helper:t.getHelper(),parent:t,instantSearchInstance:o,state:s.state,renderState:o.renderState,templatesConfig:o.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:o._isSearchStalled}}),instantSearchInstance:o,parent:t})}),e.forEach(function(e){e.init&&e.init({helper:s,parent:t,uiState:o._initialUiState,instantSearchInstance:o,state:s.state,renderState:o.renderState,templatesConfig:o.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:o._isSearchStalled}})}),o.scheduleSearch()),this},removeWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(Mt("The `removeWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(Mt("The widget definition expects a `dispose` method."));if(i=i.filter(function(t){return-1===e.indexOf(t)}),o&&Boolean(e.length)){var r=e.reduce(function(e,r){return r.dispose({helper:s,state:e,parent:t})||e},s.state);a=qt(i,{searchParameters:r,helper:s}),s.setState(Bt(i,{uiState:a,initialSearchParameters:r})),i.length&&o.scheduleSearch()}return this},init:function(e){var r,f=this,l=e.instantSearchInstance,h=e.uiState;if(null===s){o=l,c=e.parent;var d=l.mainHelper,p=Bt(i,{uiState:a=h[n]||{},initialSearchParameters:new q.SearchParameters({index:t})});(s=q({},p.index,p)).search=function(){return l.onStateChange?(l.onStateChange({uiState:l.mainIndex.getWidgetUiState({}),setUiState:l.setUiState.bind(l)}),d):d.search()},s.searchWithoutTriggeringOnStateChange=function(){return d.search()},s.searchForFacetValues=function(e,t,r,n){var i=s.state.setQueryParameters(n);return d.searchForFacetValues(e,t,r,i)},u=d.derive(function(){return at.apply(void 0,Lt(function(e){for(var t=e.getParent(),r=[e.getHelper().state];null!==t;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}(f)))});var g=null===(r=l._initialResults)||void 0===r?void 0:r[this.getIndexId()];if(g){var m=new q.SearchResults(new q.SearchParameters(g.state),g.results);u.lastResults=m,s.lastResults=m}s.on("change",function(e){e.isPageReset&&$t(i)}),u.on("search",function(){l.scheduleStalledRender(),"development"==="production".NODE_ENV&&le({index:f,indexUiState:a})}),u.on("result",function(e){var t=e.results;l.scheduleRender(),s.lastResults=t}),i.forEach(function(e){e.getRenderState&&zt({renderState:e.getRenderState(l.renderState[f.getIndexId()]||{},{uiState:h,helper:s,parent:f,instantSearchInstance:l,state:s.state,renderState:l.renderState,templatesConfig:l.templatesConfig,createURL:f.createURL,scopedResults:[],searchMetadata:{isSearchStalled:l._isSearchStalled}}),instantSearchInstance:l,parent:f})}),i.forEach(function(e){"development"==="production".NODE_ENV&&ae(!e.getWidgetState||Boolean(e.getWidgetUiState),"The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead."),e.init&&e.init({uiState:h,helper:s,parent:f,instantSearchInstance:l,state:s.state,renderState:l.renderState,templatesConfig:l.templatesConfig,createURL:f.createURL,scopedResults:[],searchMetadata:{isSearchStalled:l._isSearchStalled}})}),s.on("change",function(e){a=qt(i,{searchParameters:e.state,helper:s},e._uiState||{}),l.onStateChange||l.onInternalStateChange()}),g&&l.scheduleRender()}},render:function(e){var t=this,r=e.instantSearchInstance;this.getResults()&&(i.forEach(function(e){e.getRenderState&&zt({renderState:e.getRenderState(r.renderState[t.getIndexId()]||{},{helper:t.getHelper(),parent:t,instantSearchInstance:r,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:r.renderState,templatesConfig:r.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:r._isSearchStalled}}),instantSearchInstance:r,parent:t})}),i.forEach(function(e){e.render&&e.render({helper:s,parent:t,instantSearchInstance:r,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:r.renderState,templatesConfig:r.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:r._isSearchStalled}})}))},dispose:function(){var e=this;i.forEach(function(t){t.dispose&&t.dispose({helper:s,state:s.state,parent:e})}),o=null,c=null,s.removeAllListeners(),s=null,u.detach(),u=null},getWidgetUiState:function(e){return i.filter(Ut).reduce(function(e,t){return t.getWidgetUiState(e)},Wt(Wt({},e),{},Ht({},this.getIndexId(),a)))},getWidgetState:function(e){return"development"==="production".NODE_ENV&&ae(!1,"The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead."),this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){return Bt(i,{uiState:t.uiState,initialSearchParameters:e})},refreshUiState:function(){a=qt(i,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)}}};function zt(e){var t=e.renderState,r=e.instantSearchInstance,n=e.parent,i=n?n.getIndexId():r.mainIndex.getIndexId();r.renderState=Wt(Wt({},r.renderState),{},Ht({},i,Wt(Wt({},r.renderState[i]),t)))}var Yt="4.39.0",Xt=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.descendantName,n=t.modifierName,i=r?"-".concat(r):"",a=n?"--".concat(n):"";return"".concat("ais","-").concat(e).concat(i).concat(a)}},Gt=Xt("Highlight");function Kt(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.cssClasses,a=void 0===i?{}:i,o=he(e.hit._highlightResult,t);"development"==="production".NODE_ENV&&ae(o,'Could not enable highlight for "'.concat(t,'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var c=(o||{}).value,s=void 0===c?"":c,u=Gt({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return s.replace(new RegExp(De,"g"),"<".concat(n,' class="').concat(u,'">')).replace(new RegExp(Te,"g"),"</".concat(n,">"))}var Zt=Xt("ReverseHighlight");function er(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.cssClasses,a=void 0===i?{}:i,o=he(e.hit._highlightResult,t);"development"==="production".NODE_ENV&&ae(o,'Could not enable reverse highlight for "'.concat(t,'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var c=(o||{}).value,s=void 0===c?"":c,u=Zt({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return He(Be(Le(s))).replace(new RegExp(De,"g"),"<".concat(n,' class="').concat(u,'">')).replace(new RegExp(Te,"g"),"</".concat(n,">"))}var tr=Xt("Snippet");function rr(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.cssClasses,a=void 0===i?{}:i,o=he(e.hit._snippetResult,t);"development"==="production".NODE_ENV&&ae(o,'Could not enable snippet for "'.concat(t,'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var c=(o||{}).value,s=void 0===c?"":c,u=tr({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return s.replace(new RegExp(De,"g"),"<".concat(n,' class="').concat(u,'">')).replace(new RegExp(Te,"g"),"</".concat(n,">"))}var nr=Xt("ReverseSnippet");function ir(e){var t=e.attribute,r=e.highlightedTagName,n=void 0===r?"mark":r,i=e.cssClasses,a=void 0===i?{}:i,o=he(e.hit._snippetResult,t);"development"==="production".NODE_ENV&&ae(o,'Could not enable reverse snippet for "'.concat(t,'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var c=(o||{}).value,s=void 0===c?"":c,u=nr({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return He(Be(Le(s))).replace(new RegExp(De,"g"),"<".concat(n,' class="').concat(u,'">')).replace(new RegExp(Te,"g"),"</".concat(n,">"))}function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function or(e,t){return"development"==="production".NODE_ENV&&ae(!1,"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),function(e){var t,r=e.method,n=e.payload;if("object"!==ar(n))throw new Error("The insights helper expects the payload to be an object.");try{t=Rt(n)}catch(e){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(r,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}function cr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach(function(t){ur(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ur(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fr(e){var t=e.numberLocale;return{formatNumber:function(e,r){return Number(r(e)).toLocaleString(t)},highlight:function(e,t){try{return t(Kt(sr(sr({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(er(sr(sr({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(rr(sr(sr({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(ir(sr(sr({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var r=JSON.parse(e);return t(or(r.method,sr({objectIDs:[this.objectID]},r.payload)))}catch(e){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}function lr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(r),!0).forEach(function(t){dr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pr(e){return function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,["configure"])}function gr(){return{stateToRoute:function(e){return Object.keys(e).reduce(function(t,r){return hr(hr({},t),{},dr({},r,pr(e[r])))},{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,r){return hr(hr({},t),{},dr({},r,pr(e[r])))},{})}}}var mr=String.prototype.replace,vr=/%20/g,yr="RFC3986",br={default:yr,formatters:{RFC1738:function(e){return mr.call(e,vr,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:yr},Or=Object.prototype.hasOwnProperty,wr=Array.isArray,Sr=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),jr=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},Pr={arrayToObject:jr,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],o=Object.keys(a),c=0;c<o.length;++c){var s=o[c],u=a[s];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:s}),r.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(wr(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r,n,i){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",c=0;c<a.length;++c){var s=a.charCodeAt(c);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122||i===br.RFC1738&&(40===s||41===s)?o+=a.charAt(c):s<128?o+=Sr[s]:s<2048?o+=Sr[192|s>>6]+Sr[128|63&s]:s<55296||s>=57344?o+=Sr[224|s>>12]+Sr[128|s>>6&63]+Sr[128|63&s]:(s=65536+((1023&s)<<10|1023&a.charCodeAt(c+=1)),o+=Sr[240|s>>18]+Sr[128|s>>12&63]+Sr[128|s>>6&63]+Sr[128|63&s])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(wr(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(wr(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(n&&(n.plainObjects||n.allowPrototypes)||!Or.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var i=t;return wr(t)&&!wr(r)&&(i=jr(t,n)),wr(t)&&wr(r)?(r.forEach(function(r,i){if(Or.call(t,i)){var a=t[i];a&&"object"==typeof a&&r&&"object"==typeof r?t[i]=e(a,r,n):t.push(r)}else t[i]=r}),t):Object.keys(r).reduce(function(t,i){var a=r[i];return t[i]=Or.call(t,i)?e(t[i],a,n):a,t},i)}},Rr=Object.prototype.hasOwnProperty,Er={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Fr=Array.isArray,xr=String.prototype.split,Ir=Array.prototype.push,Ar=function(e,t){Ir.apply(e,Fr(t)?t:[t])},Dr=Date.prototype.toISOString,Tr=br.default,_r={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Pr.encode,encodeValuesOnly:!1,format:Tr,formatter:br.formatters[Tr],indices:!1,serializeDate:function(e){return Dr.call(e)},skipNulls:!1,strictNullHandling:!1},Nr=function e(t,r,n,i,a,o,c,s,u,f,l,h,d,p){var g,m=t;if("function"==typeof c?m=c(r,m):m instanceof Date?m=f(m):"comma"===n&&Fr(m)&&(m=Pr.maybeMap(m,function(e){return e instanceof Date?f(e):e})),null===m){if(i)return o&&!d?o(r,_r.encoder,p,"key",l):r;m=""}if("string"==typeof(g=m)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||Pr.isBuffer(m)){if(o){var v=d?r:o(r,_r.encoder,p,"key",l);if("comma"===n&&d){for(var y=xr.call(String(m),","),b="",O=0;O<y.length;++O)b+=(0===O?"":",")+h(o(y[O],_r.encoder,p,"value",l));return[h(v)+"="+b]}return[h(v)+"="+h(o(m,_r.encoder,p,"value",l))]}return[h(r)+"="+h(String(m))]}var w,S=[];if(void 0===m)return S;if("comma"===n&&Fr(m))w=[{value:m.length>0?m.join(",")||null:void 0}];else if(Fr(c))w=c;else{var j=Object.keys(m);w=s?j.sort(s):j}for(var P=0;P<w.length;++P){var R=w[P],E="object"==typeof R&&void 0!==R.value?R.value:m[R];if(!a||null!==E){var F=Fr(m)?"function"==typeof n?n(r,R):r:r+(u?"."+R:"["+R+"]");Ar(S,e(E,F,n,i,a,o,c,s,u,f,l,h,d,p))}}return S},kr=Object.prototype.hasOwnProperty,Wr=Array.isArray,Hr={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Pr.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Lr=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Cr=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Mr=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,o=r.depth>0&&/(\[[^[\]]*])/.exec(i),c=o?i.slice(0,o.index):i,s=[];if(c){if(!r.plainObjects&&kr.call(Object.prototype,c)&&!r.allowPrototypes)return;s.push(c)}for(var u=0;r.depth>0&&null!==(o=a.exec(i))&&u<r.depth;){if(u+=1,!r.plainObjects&&kr.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;s.push(o[1])}return o&&s.push("["+i.slice(o.index)+"]"),function(e,t,r,n){for(var i=n?t:Cr(t,r),a=e.length-1;a>=0;--a){var o,c=e[a];if("[]"===c&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var s="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,u=parseInt(s,10);r.parseArrays||""!==s?!isNaN(u)&&c!==s&&String(u)===s&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(o=[])[u]=i:"__proto__"!==s&&(o[s]=i):o={0:i}}i=o}return i}(s,t,r,n)}},Ur={formats:br,parse:function(e,t){var r=function(e){if(!e)return Hr;if(null!=e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:void 0===e.allowDots?Hr.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Hr.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Hr.arrayLimit,charset:void 0===e.charset?Hr.charset:e.charset,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Hr.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Hr.comma,decoder:"function"==typeof e.decoder?e.decoder:Hr.decoder,delimiter:"string"==typeof e.delimiter||Pr.isRegExp(e.delimiter)?e.delimiter:Hr.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Hr.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Hr.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Hr.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Hr.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Hr.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){var r,n={},i=(t.ignoreQueryPrefix?e.replace(/^\?/,""):e).split(t.delimiter,Infinity===t.parameterLimit?void 0:t.parameterLimit),a=-1,o=t.charset;if(t.charsetSentinel)for(r=0;r<i.length;++r)0===i[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===i[r]?o="utf-8":"utf8=%26%2310003%3B"===i[r]&&(o="iso-8859-1"),a=r,r=i.length);for(r=0;r<i.length;++r)if(r!==a){var c,s,u=i[r],f=u.indexOf("]="),l=-1===f?u.indexOf("="):f+1;-1===l?(c=t.decoder(u,Hr.decoder,o,"key"),s=t.strictNullHandling?null:""):(c=t.decoder(u.slice(0,l),Hr.decoder,o,"key"),s=Pr.maybeMap(Cr(u.slice(l+1),t),function(e){return t.decoder(e,Hr.decoder,o,"value")})),s&&t.interpretNumericEntities&&"iso-8859-1"===o&&(s=Lr(s)),u.indexOf("[]=")>-1&&(s=Wr(s)?[s]:s),n[c]=kr.call(n,c)?Pr.combine(n[c],s):s}return n}(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o){var c=a[o],s=Mr(c,n[c],r,"string"==typeof e);i=Pr.merge(i,s,r)}return Pr.compact(i)},stringify:function(e,t){var r,n=e,i=function(e){if(!e)return _r;if(null!=e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||_r.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=br.default;if(void 0!==e.format){if(!Rr.call(br.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=br.formatters[r],i=_r.filter;return("function"==typeof e.filter||Fr(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:_r.addQueryPrefix,allowDots:void 0===e.allowDots?_r.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:_r.charsetSentinel,delimiter:void 0===e.delimiter?_r.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:_r.encode,encoder:"function"==typeof e.encoder?e.encoder:_r.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:_r.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:_r.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:_r.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:_r.strictNullHandling}}(t);"function"==typeof i.filter?n=(0,i.filter)("",n):Fr(i.filter)&&(r=i.filter);var a=[];if("object"!=typeof n||null===n)return"";var o=Er[t&&t.arrayFormat in Er?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices"];r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);for(var c=0;c<r.length;++c){var s=r[c];i.skipNulls&&null===n[s]||Ar(a,Nr(n[s],s,o,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset))}var u=a.join(i.delimiter),f=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&(f+="iso-8859-1"===i.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),u.length>0?f+u:""}};function Qr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qr=function(e){e&&(window.document.title=e)},Br=function(){function e(t){var r=this,n=t.windowTitle,i=t.writeDelay,a=void 0===i?400:i,o=t.createURL,c=t.parseURL,s=t.getLocation;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qr(this,"windowTitle",void 0),Qr(this,"writeDelay",void 0),Qr(this,"_createURL",void 0),Qr(this,"parseURL",void 0),Qr(this,"getLocation",void 0),Qr(this,"writeTimer",void 0),Qr(this,"shouldPushState",!0),Qr(this,"isDisposed",!1),Qr(this,"latestAcknowledgedHistory",0),this.windowTitle=n,this.writeTimer=void 0,this.writeDelay=a,this._createURL=o,this.parseURL=c,this.getLocation=s,Nt(function(e){var t=e.window,n=r.windowTitle&&r.windowTitle(r.read());qr(n),r.latestAcknowledgedHistory=t.history.length})}var t;return(t=[{key:"read",value:function(){return this.parseURL({qsModule:Ur,location:this.getLocation()})}},{key:"write",value:function(e){var t=this;Nt(function(r){var n=r.window,i=t.createURL(e),a=t.windowTitle&&t.windowTitle(e);t.writeTimer&&clearTimeout(t.writeTimer),t.writeTimer=setTimeout(function(){qr(a),t.shouldPushState&&(!t.isDisposed||t.latestAcknowledgedHistory===n.history.length)&&(n.history.pushState(e,a||"",i),t.latestAcknowledgedHistory=n.history.length),t.shouldPushState=!0,t.writeTimer=void 0},t.writeDelay)})}},{key:"onUpdate",value:function(e){var t=this;this._onPopState=function(r){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.shouldPushState=!1,e(r.state||t.read())},Nt(function(e){e.window.addEventListener("popstate",t._onPopState)})}},{key:"createURL",value:function(e){return this._createURL({qsModule:Ur,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var e=this;this.isDisposed=!0,Nt(function(t){e._onPopState&&t.window.removeEventListener("popstate",e._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function $r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,r=void 0===t?function(e){var t=e.location,r=t.protocol,n=t.hostname,i=t.port,a=void 0===i?"":i,o=t.pathname,c=t.hash,s=e.qsModule.stringify(e.routeState),u=""===a?"":":".concat(a);return s?"".concat(r,"//").concat(n).concat(u).concat(o,"?").concat(s).concat(c):"".concat(r,"//").concat(n).concat(u).concat(o).concat(c)}:t,n=e.parseURL,i=void 0===n?function(e){return e.qsModule.parse(e.location.search.slice(1),{arrayLimit:99})}:n,a=e.writeDelay,o=void 0===a?400:a,c=e.windowTitle,s=e.getLocation,u=void 0===s?function(){return Nt(function(e){return e.window.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:s;return new Br({createURL:r,parseURL:i,writeDelay:o,windowTitle:c,getLocation:u})}function Vr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Jr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(r),!0).forEach(function(t){zr(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yr(e,t,r){var n=t.mainIndex,i={instantSearchInstance:t,parent:n,scopedResults:[],state:n.getHelper().state,helper:n.getHelper(),createURL:n.createURL,uiState:t._initialUiState,renderState:t.renderState,templatesConfig:t.templatesConfig,searchMetadata:{isSearchStalled:t._isSearchStalled}};e.forEach(function(e){var n={};if(e.getWidgetRenderState){var a=e.getWidgetRenderState(i);a&&a.widgetParams&&(n=a.widgetParams)}var o=Object.keys(n).filter(function(e){return void 0!==n[e]});r.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:o}),"ais.index"===e.$$type&&Yr(e.getWidgets(),t,r)})}function Xr(){return function(e){var t=e.instantSearchInstance,r={widgets:[]},n=document.createElement("meta"),i=document.querySelector("head");return n.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout(function(){var e=t.client;r.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,Yr(t.mainIndex.getWidgets(),t,r),n.content=JSON.stringify(r),i.appendChild(n)},0)},unsubscribe:function(){n.remove()}}}}function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Kr(Object(r),!0).forEach(function(t){an(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kr(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function en(e,t){return(en=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tn(e,t){return!t||"object"!==Gr(t)&&"function"!=typeof t?rn(e):t}function rn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nn(e){return(nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function an(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var on=st({name:"instantsearch"});function cn(){return"#"}var sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&en(e,t)}(a,e);var t,r,n,i=(r=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=nn(r);if(n){var i=nn(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return tn(this,e)});function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),an(rn(t=i.call(this)),"client",void 0),an(rn(t),"indexName",void 0),an(rn(t),"insightsClient",void 0),an(rn(t),"onStateChange",null),an(rn(t),"helper",void 0),an(rn(t),"mainHelper",void 0),an(rn(t),"mainIndex",void 0),an(rn(t),"started",void 0),an(rn(t),"templatesConfig",void 0),an(rn(t),"renderState",{}),an(rn(t),"_stalledSearchDelay",void 0),an(rn(t),"_searchStalledTimer",void 0),an(rn(t),"_isSearchStalled",void 0),an(rn(t),"_initialUiState",void 0),an(rn(t),"_initialResults",void 0),an(rn(t),"_createURL",void 0),an(rn(t),"_searchFunction",void 0),an(rn(t),"_mainHelperSearch",void 0),an(rn(t),"middleware",[]),an(rn(t),"sendEventToInsights",void 0),an(rn(t),"scheduleSearch",V(function(){t.started&&t.mainHelper.search()})),an(rn(t),"scheduleRender",V(function(){t.mainHelper.hasPendingRequests()||(clearTimeout(t._searchStalledTimer),t._searchStalledTimer=null,t._isSearchStalled=!1),t.mainIndex.render({instantSearchInstance:rn(t)}),t.emit("render")})),an(rn(t),"onInternalStateChange",V(function(){var e=t.mainIndex.getWidgetUiState({});t.middleware.forEach(function(t){t.instance.onStateChange({uiState:e})})}));var r=e.indexName,n=void 0===r?null:r,o=e.numberLocale,c=e.initialUiState,s=void 0===c?{}:c,u=e.routing,f=void 0===u?null:u,l=e.searchFunction,h=e.stalledSearchDelay,d=void 0===h?200:h,p=e.searchClient,g=void 0===p?null:p,m=e.insightsClient,v=void 0===m?null:m,y=e.onStateChange,b=void 0===y?null:y;if(null===n)throw new Error(on("The `indexName` option is required."));if(null===g)throw new Error(on("The `searchClient` option is required."));if("function"!=typeof g.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof g.addAlgoliaAgent&&g.addAlgoliaAgent("instantsearch.js (".concat(Yt,")")),"development"==="production".NODE_ENV&&ae(null===v,"`insightsClient` property has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),v&&"function"!=typeof v)throw new Error(on("The `insightsClient` option should be a function."));return"development"==="production".NODE_ENV&&ae(!e.searchParameters,"The `searchParameters` option is deprecated and will not be supported in InstantSearch.js 4.x.\n\nYou can replace it with the `configure` widget:\n\n```\nsearch.addWidgets([\n  configure(".concat(JSON.stringify(e.searchParameters,null,2),")\n]);\n```\n\nSee ").concat(ct({name:"configure"}))),t.client=g,t.insightsClient=v,t.indexName=n,t.helper=null,t.mainHelper=null,t.mainIndex=Jt({indexName:n}),t.onStateChange=b,t.started=!1,t.templatesConfig={helpers:fr({numberLocale:o}),compileOptions:{}},t._stalledSearchDelay=d,t._searchStalledTimer=null,t._isSearchStalled=!1,t._createURL=cn,t._initialUiState=s,t._initialResults=null,l&&(t._searchFunction=l),t.sendEventToInsights=re,f&&t.use(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,r=void 0===t?$r():t,n=e.stateMapping,i=void 0===n?gr():n;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var n=Object.keys(e).reduce(function(t,r){return Jr(Jr({},t),{},zr({},r,e[r]))},t.mainIndex.getWidgetUiState({})),a=i.stateToRoute(n);return r.createURL(a)};var n=void 0,a=t._initialUiState;return{onStateChange:function(e){var t=i.stateToRoute(e.uiState);void 0!==n&&be(n,t)||(r.write(t),n=t)},subscribe:function(){t._initialUiState=Jr(Jr({},a),i.routeToState(r.read())),r.onUpdate(function(e){t.setUiState(i.routeToState(e))})},unsubscribe:function(){r.dispose()}}}}("boolean"==typeof f?void 0:f)),Nt(function(e){var t,r;return(null===(t=e.window.navigator)||void 0===t||null===(r=t.userAgent)||void 0===r?void 0:r.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})&&t.use(Xr()),t}return(t=[{key:"use",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.map(function(t){var r=Zr({subscribe:re,unsubscribe:re,onStateChange:re},t({instantSearchInstance:e}));return e.middleware.push({creator:t,instance:r}),r});return this.started&&i.forEach(function(e){e.subscribe()}),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.middleware.filter(function(e){return t.includes(e.creator)}).forEach(function(e){return e.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(e){return!t.includes(e.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return"development"==="production".NODE_ENV&&ae(!1,"The middleware API is now considered stable, so we recommend replacing `EXPERIMENTAL_use` with `use` before upgrading to the next major version."),this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return"development"==="production".NODE_ENV&&ae(!1,"addWidget will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`"),this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(on("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(on("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return"development"==="production".NODE_ENV&&ae(!1,"removeWidget will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`"),this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(on("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(on("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var e=this;if(this.started)throw new Error(on("The `start` method has already been called once."));var t=this.mainHelper||q(this.client,this.indexName);if(t.search=function(){return t.searchOnlyWithDerivedHelpers()},this._searchFunction){var r={search:function(){return new Promise(re)}};this._mainHelperSearch=t.search.bind(t),t.search=function(){var n=e.mainIndex.getHelper(),i=q(r,n.state.index,n.state);return i.once("search",function(t){n.overrideStateWithoutTriggeringChangeEvent(t.state),e._mainHelperSearch()}),i.on("change",function(e){n.setState(e.state)}),e._searchFunction(i),t}}if(t.on("error",function(t){var r=t.error;r.error=r,e.emit("error",r)}),this.mainHelper=t,this.middleware.forEach(function(e){e.instance.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var n=this.scheduleSearch;this.scheduleSearch=V(re),V(function(){e.scheduleSearch=n})()}else this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(e){e.instance.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){e._isSearchStalled=!0,e.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(e){if(!this.mainHelper)throw new Error(on("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var t="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;!function e(r){var n=t[r.getIndexId()]||{};"development"==="production".NODE_ENV&&le({index:r,indexUiState:n}),r.getHelper().setState(r.getWidgetSearchParameters(r.getHelper().state,{uiState:n})),r.getWidgets().filter(Ut).forEach(e)}(this.mainIndex),this.scheduleSearch(),this.onInternalStateChange()}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(on("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(on("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(a.prototype,t),a}(I);function un(e){return function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e||{},["page"])}var fn="ais.infiniteHits",ln=function(e){return new sn(e)};function hn(e){return function(e){if(Array.isArray(e))return dn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return dn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pn(Object(r),!0).forEach(function(t){mn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function mn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ln.version=Yt,ln.createInfiniteHitsSessionStorageCache=ne(function(){return{read:function(e){var t=e.state,r=Nt(function(e){return e.window.sessionStorage});if(!r)return null;try{var n=JSON.parse(r.getItem(fn));return n&&be(n.state,un(t))?n.hits:null}catch(e){if(e instanceof SyntaxError)try{r.removeItem(fn)}catch(e){}return null}},write:function(e){var t=e.state,r=e.hits,n=Nt(function(e){return e.window.sessionStorage});if(n)try{n.setItem(fn,JSON.stringify({state:un(t),hits:r}))}catch(e){}}}},"import { createInfiniteHitsSessionStorageCache } from 'instantsearch.js/es/helpers'"),ln.highlight=ne(Kt,"import { highlight } from 'instantsearch.js/es/helpers'"),ln.reverseHighlight=ne(er,"import { reverseHighlight } from 'instantsearch.js/es/helpers'"),ln.snippet=ne(rr,"import { snippet } from 'instantsearch.js/es/helpers'"),ln.reverseSnippet=ne(ir,"import { reverseSnippet } from 'instantsearch.js/es/helpers'"),ln.insights=or,ln.getInsightsAnonymousUserToken=function(){return"development"==="production".NODE_ENV&&ae(!1,"`getInsightsAnonymousUserToken` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),function(e){for(var t="".concat("_ALGOLIA","="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}()},Object.defineProperty(ln,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(ln,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});var vn=st({name:"clear-refinements",connector:!0});function yn(e){var t=e.scopedResult,r=e.includedAttributes,n=e.excludedAttributes,i=e.transformItems,a=e.results,o=-1!==r.indexOf("query")||-1===n.indexOf("query");return{helper:t.helper,items:i(J(G(t.results,t.helper.state,o).map(function(e){return e.attribute}).filter(function(e){return 0===r.length||-1!==r.indexOf(e)}).filter(function(e){return"query"===e&&o||-1===n.indexOf(e)})),{results:a})}}function bn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function On(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?On(Object(r),!0).forEach(function(t){Sn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):On(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Sn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jn=st({name:"current-refinements",connector:!0});function Pn(e){var t=e.results,r=e.helper,n=e.includedAttributes,i=e.excludedAttributes,a=-1!==(n||[]).indexOf("query")||-1===(i||[]).indexOf("query"),o=n?function(e){return-1!==n.indexOf(e.attribute)}:function(e){return-1===i.indexOf(e.attribute)},c=G(t,r.state,a).map(Fn).filter(o);return c.reduce(function(e,t){return[].concat(function(e){if(Array.isArray(e))return bn(e)}(n=e.filter(function(e){return e.attribute!==t.attribute}))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||function(e,t){if(e){if("string"==typeof e)return bn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bn(e,t):void 0}}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{indexName:r.state.index,attribute:t.attribute,label:t.attribute,refinements:c.filter(function(e){return e.attribute===t.attribute}).sort(function(e,t){return"numeric"===e.type?e.value-t.value:0}),refine:function(e){return En(r,e)}}]);var n},[])}function Rn(e,t){switch(t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return"development"==="production".NODE_ENV&&ae(!1,'The refinement type "'.concat(t.type,'" does not exist and cannot be cleared from the current refinements.')),e}}function En(e,t){e.setState(Rn(e.state,t)).search()}function Fn(e){var t="numeric"===e.type?Number(e.name):e.name,r=e.operator?"".concat(function(e){switch(e){case">=":return"";case"<=":return"";default:return e}}(e.operator)," ").concat(e.name):e.name,n={attribute:e.attribute,type:e.type,value:t,label:r};return void 0!==e.operator&&(n.operator=e.operator),void 0!==e.count&&(n.count=e.count),void 0!==e.exhaustive&&(n.exhaustive=e.exhaustive),n}function xn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(r),!0).forEach(function(t){An(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function An(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dn(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Tn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Nn=st({name:"hierarchical-menu",connector:!0}),kn=["name:asc"];function Wn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Hn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(r),!0).forEach(function(t){Ln(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ln(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Cn=st({name:"hits",connector:!0}),Mn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,Cn()),function(r){var n,i,a=r||{},o=a.escapeHTML,c=void 0===o||o,s=a.transformItems,u=void 0===s?function(e){return e}:s;return{$$type:"ais.hits",init:function(t){e(Hn(Hn({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var r=this.getWidgetRenderState(t);r.sendEvent("view",r.hits),e(Hn(Hn({},r),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return Hn(Hn({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,a=e.helper;if(n||(n=xt({instantSearchInstance:e.instantSearchInstance,index:a.getIndex(),widgetType:this.$$type})),i||(i=It({index:a.getIndex(),widgetType:this.$$type})),!t)return{hits:[],results:void 0,sendEvent:n,bindEvent:i,widgetParams:r};c&&t.hits.length>0&&(t.hits=ke(t.hits));var o=wt(vt(t.hits,t.page,t.hitsPerPage),t.queryID);return{hits:u(o,{results:t}),results:t,sendEvent:n,bindEvent:i,widgetParams:r}},dispose:function(e){var r=e.state;return t(),c?r.setQueryParameters(Object.keys(Ae).reduce(function(e,t){return Hn(Hn({},e),{},Ln({},t,void 0))},{})):r},getWidgetSearchParameters:function(e){return c?e.setQueryParameters(Ae):e}}}};function Un(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Un(Object(r),!0).forEach(function(t){qn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Un(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function qn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Bn=function(e){var t,r=e.method,n=e.objectIDs,i=e.results.index,a=(t=e.hits,n.map(function(e){var r=z(t,function(t){return t.objectID===e});if(void 0===r)throw new Error('Could not find objectID "'.concat(e,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return r})),o=function(e){var t=J(e.map(function(e){return e.__queryID}));if(t.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var r=t[0];if("string"!=typeof r)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return r}(a);switch(r){case"clickedObjectIDsAfterSearch":return{index:i,queryID:o,objectIDs:n,positions:function(e){return e.map(function(e){return e.__position})}(a)};case"convertedObjectIDsAfterSearch":return{index:i,queryID:o,objectIDs:n};default:throw new Error('Unsupported method passed to insights: "'.concat(r,'".'))}};function $n(e){return function(t,r){return e(function(e,r){var n=e.results,i=e.hits,a=e.instantSearchInstance;if(n&&i&&a){var o=function(e,t,r){return function(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];var c=a[0];if("development"==="production".NODE_ENV&&ae(!1,"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),!e){var s=st({name:"instantsearch"});throw new Error(s("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(c.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var u=Bn({method:n,results:t,hits:r,objectIDs:c.objectIDs});e(n,Qn(Qn({},u),c))}}(a.insightsClient,n,i);return t(Qn(Qn({},e),{},{insights:o}),r)}return t(e,r)},r)}}var Vn=$n(Mn);function Jn(e){return function(e){if(Array.isArray(e))return zn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return zn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?zn(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Yn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yn(Object(r),!0).forEach(function(t){Gn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Gn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Kn=st({name:"hits-per-page",connector:!0});function Zn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(r),!0).forEach(function(t){ti(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ti(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ri(e){return function(e){if(Array.isArray(e))return ni(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ni(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ni(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ii=st({name:"infinite-hits",connector:!0});function ai(e){return function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e||{},["page"])}function oi(){var e=null,t=null;return{read:function(r){return be(t,ai(r.state))?e:null},write:function(r){var n=r.hits;t=ai(r.state),e=n}}}function ci(e){return Object.keys(e).map(Number).sort(function(e,t){return e-t}).reduce(function(t,r){return t.concat(e[r])},[])}var si=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,ii()),function(r){var n,i,a,o,c=r||{},s=c.escapeHTML,u=void 0===s||s,f=c.transformItems,l=void 0===f?function(e){return e}:f,h=c.cache,d=void 0===h?oi():h,p=function(e,t){var r=e.page,n=void 0===r?0:r,i=Object.keys(t).map(Number);return 0===i.length?n:Math.min.apply(Math,[n].concat(ri(i)))},g=function(e,t){var r=e.page,n=void 0===r?0:r,i=Object.keys(t).map(Number);return 0===i.length?n:Math.max.apply(Math,[n].concat(ri(i)))};return{$$type:"ais.infiniteHits",init:function(t){e(ei(ei({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var r=t.instantSearchInstance,n=this.getWidgetRenderState(t);a("view",n.currentPageHits),e(ei(ei({},n),{},{instantSearchInstance:r}),!1)},getRenderState:function(e,t){return ei(ei({},e),{},{infiniteHits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,c=e.results,s=e.helper,f=e.state,h=e.instantSearchInstance,m=[],v=d.read({state:f})||{};if(c){var y=f.page,b=void 0===y?0:y;u&&c.hits.length>0&&(c.hits=ke(c.hits));var O=wt(vt(c.hits,c.page,c.hitsPerPage),c.queryID),w=l(O,{results:c});void 0===v[b]&&(v[b]=w,d.write({state:f,hits:v})),m=w,t=0===p(f,v)}else n=function(e){return function(){e.overrideStateWithoutTriggeringChangeEvent(ei(ei({},e.state),{},{page:p(e.state,d.read({state:e.state})||{})-1})).searchWithoutTriggeringOnStateChange()}}(s),i=function(e){return function(){e.setPage(g(e.state,d.read({state:e.state})||{})+1).search()}}(s),a=xt({instantSearchInstance:h,index:s.getIndex(),widgetType:this.$$type}),o=It({index:s.getIndex(),widgetType:this.$$type}),t=void 0===f.page||0===p(f,v);var S=ci(v),j=!c||c.nbPages<=g(f,v)+1;return{hits:S,currentPageHits:m,sendEvent:a,bindEvent:o,results:c,showPrevious:n,showMore:i,isFirstPage:t,isLastPage:j,widgetParams:r}},dispose:function(e){var r=e.state;t();var n=r.setQueryParameter("page",void 0);return u?n.setQueryParameters(Object.keys(Ae).reduce(function(e,t){return ei(ei({},e),{},ti({},t,void 0))},{})):n},getWidgetUiState:function(e,t){var r=t.searchParameters.page||0;return r?ei(ei({},e),{},{page:r+1}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=e;return u&&(n=e.setQueryParameters(Ae)),n.setQueryParameter("page",r.page?r.page-1:0)}}}},ui=$n(si);function fi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return hi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?di(Object(r),!0).forEach(function(t){gi(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):di(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function gi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var mi=st({name:"menu",connector:!0}),vi=["isRefined","name:asc"];function yi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return bi(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bi(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oi(Object(r),!0).forEach(function(t){Si(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oi(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Si(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ji=st({name:"numeric-menu",connector:!0}),Pi="ais.numericMenu",Ri=function(e){var t=e.instantSearchInstance,r=e.helper,n=e.attribute;return function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];if(1!==i.length){var o=i[0],c=i[1],s=i[2],u=void 0===s?"Filter Applied":s;if("click"===o){var f=At(Fi(r.state,n,c),n);f&&f.length>0&&t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Pi,eventType:o,payload:{eventName:u,index:r.getIndex(),filters:f},attribute:n})}}else t.sendEventToInsights(i[0])}};function Ei(e,t,r){var n=e.getNumericRefinements(t);return void 0!==r.start&&void 0!==r.end?r.start===r.end?xi(n,"=",r.start):xi(n,">=",r.start)&&xi(n,"<=",r.end):void 0!==r.start?xi(n,">=",r.start):void 0!==r.end?xi(n,"<=",r.end):void 0===r.start&&void 0===r.end&&Object.keys(n).every(function(e){return 0===(n[e]||[]).length})}function Fi(e,t,r){var n=e,i=JSON.parse(decodeURI(r)),a=n.getNumericRefinements(t);if(void 0===i.start&&void 0===i.end)return n.removeNumericRefinement(t);if(Ei(n,t,i)||(n=n.removeNumericRefinement(t)),void 0!==i.start&&void 0!==i.end){if(i.start>i.end)throw new Error("option.start should be > to option.end");if(i.start===i.end)return xi(a,"=",i.start)?n.removeNumericRefinement(t,"=",i.start):n.addNumericRefinement(t,"=",i.start)}return void 0!==i.start&&(xi(a,">=",i.start)&&(n=n.removeNumericRefinement(t,">=",i.start)),n=n.addNumericRefinement(t,">=",i.start)),void 0!==i.end&&(xi(a,"<=",i.end)&&(n=n.removeNumericRefinement(t,"<=",i.end)),n=n.addNumericRefinement(t,"<=",i.end)),"number"==typeof n.page&&(n.page=0),n}function xi(e,t,r){return void 0!==e[t]&&e[t].includes(r)}function Ii(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ai=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ii(this,"currentPage",void 0),Ii(this,"total",void 0),Ii(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}var t;return(t=[{key:"pages",value:function(){var e=this.total,t=this.currentPage,r=this.padding;if(0===e)return[0];var n=this.nbPagesDisplayed(r,e);if(n===e)return ve({end:e});var i=this.calculatePaddingLeft(t,r,e,n);return ve({start:t-i,end:t+(n-i)})}},{key:"nbPagesDisplayed",value:function(e,t){return Math.min(2*e+1,t)}},{key:"calculatePaddingLeft",value:function(e,t,r,n){return e<=t?e:e>=r-t?n-(r-e):t}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||0===this.total}},{key:"isFirstPage",value:function(){return 0===this.currentPage}}])&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}();function Di(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(r),!0).forEach(function(t){_i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Di(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ni=st({name:"pagination",connector:!0});function ki(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Wi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ki(Object(r),!0).forEach(function(t){Hi(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ki(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Hi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Li(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ci(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ci(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ci(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Mi=st({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),Ui="ais.range";function Qi(e){var t=e.min,r=e.max,n=Math.pow(10,e.precision);return{min:t?Math.floor(t*n)/n:t,max:r?Math.ceil(r*n)/n:r}}function qi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Bi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(r),!0).forEach(function(t){$i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qi(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vi(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var Ji=st({name:"refinement-list",connector:!0}),zi=["isRefined","count:desc","name:asc"];function Yi(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xi(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Yi(Object(r),!0).forEach(function(t){Gi(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yi(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Gi(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ki=st({name:"search-box",connector:!0}),Zi=function(e,t){return t(e)};function ea(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ta(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(r),!0).forEach(function(t){ra(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ea(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ra(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var na=st({name:"sort-by",connector:!0});function ia(e){return function(e){if(Array.isArray(e))return fa(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ua(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function aa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(r),!0).forEach(function(t){ca(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aa(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ca(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}}(e,t)||ua(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){if(e){if("string"==typeof e)return fa(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fa(e,t):void 0}}function fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var la=st({name:"rating-menu",connector:!0}),ha="ais.ratingMenu",da=1e3,pa=function(e){var t=e.instantSearchInstance,r=e.helper,n=e.getRefinedStar,i=e.attribute;return function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];if(1!==a.length){var c=a[0],s=a[1],u=a[2],f=void 0===u?"Filter Applied":u;if("click"===c){var l=n()===Number(s);l||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:ha,eventType:c,payload:{eventName:f,index:r.getIndex(),filters:["".concat(i,">=").concat(s)]},attribute:i})}}else t.sendEventToInsights(a[0])}};function ga(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ga(Object(r),!0).forEach(function(t){va(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ga(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function va(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ya=st({name:"stats",connector:!0});function ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Oa(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ba(Object(r),!0).forEach(function(t){wa(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function wa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Sa=st({name:"toggle-refinement",connector:!0}),ja="ais.toggleRefinement",Pa=function(e){var t=e.instantSearchInstance,r=e.helper,n=e.attribute,i=e.on;return function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];if(1!==a.length){var c=a[0],s=a[1],u=a[2],f=void 0===u?"Filter Applied":u;"click"===c&&void 0!==i&&(s||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:ja,eventType:c,payload:{eventName:f,index:r.getIndex(),filters:i.map(function(e){return"".concat(n,":").concat(e)})},attribute:n}))}else t.sendEventToInsights(a[0])}};function Ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ra(Object(r),!0).forEach(function(t){Fa(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ra(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==c.return||c.return()}finally{if(i)throw a}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ia(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ia(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ia(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Aa=st({name:"breadcrumb",connector:!0});function Da(e){return e.reduce(function(e,t){return t.isRefined&&(e.push({label:t.name,value:t.path}),Array.isArray(t.data)&&(e=e.concat(Da(t.data)))),e},[])}function Ta(e){return e.map(function(t,r){return{label:t.label,value:r+1===e.length?null:e[r+1].value}})}function _a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Na(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_a(Object(r),!0).forEach(function(t){ka(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ka(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Wa=st({name:"geo-search",connector:!0});function Ha(e){return e.insideBoundingBox||""}function La(e,t){return e.setQueryParameter("insideBoundingBox",t)}var Ca="ais.geoSearch";function Ma(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ma(Object(r),!0).forEach(function(t){Qa(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ma(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Qa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var qa=st({name:"powered-by",connector:!0});function Ba(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(r),!0).forEach(function(t){Va(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ba(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Va(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ja=st({name:"configure",connector:!0});function za(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(e,t){return $a($a({},e),{},Va({},t,void 0))},{}))}var Ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return function(r){if(!r||!ge(r.searchParameters))throw new Error(Ja("The `searchParameters` option expects an object."));var n={};return{$$type:"ais.configure",init:function(t){var r=t.instantSearchInstance;e($a($a({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e($a($a({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var n=e.state;return t(),za(n,r)},getRenderState:function(e,t){var r,n=this.getWidgetRenderState(t);return $a($a({},e),{},{configure:$a($a({},n),{},{widgetParams:$a($a({},n.widgetParams),{},{searchParameters:at(new q.SearchParameters(null===(r=e.configure)||void 0===r?void 0:r.widgetParams.searchParameters),new q.SearchParameters(n.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(e){return n.refine||(n.refine=(t=e.helper,function(e){var n=za(t.state,r),i=at(n,new q.SearchParameters(e));r.searchParameters=e,t.setState(i).search()})),{refine:n.refine,widgetParams:r};var t},getWidgetSearchParameters:function(e,t){return at(e,new q.SearchParameters($a($a({},t.uiState.configure),r.searchParameters)))},getWidgetUiState:function(e){return $a($a({},e),{},{configure:$a($a({},e.configure),r.searchParameters)})}}}};function Xa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xa(Object(r),!0).forEach(function(t){Ka(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xa(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ka(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Za(e){return function(e){if(Array.isArray(e))return eo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var to=st({name:"configure-related-items",connector:!0});function ro(e){var t=e.attributeValue,r=e.attributeScore;return"".concat(e.attributeName,":").concat(t,"<score=").concat(r||1,">")}function no(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function io(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?no(Object(r),!0).forEach(function(t){ao(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):no(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ao(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var oo=st({name:"autocomplete",connector:!0});function co(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function so(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?co(Object(r),!0).forEach(function(t){uo(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):co(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function uo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fo(e){return function(e){if(Array.isArray(e))return lo(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return lo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lo(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ho=st({name:"query-rules",connector:!0});function po(e){return[e.disjunctiveFacetsRefinements,e.facetsRefinements,e.hierarchicalFacetsRefinements,e.numericRefinements].some(function(e){return Boolean(e&&Object.keys(e).length>0)})}function go(e){var t=this.helper,r=this.initialRuleContexts,n=this.transformRuleContexts,i=e.state,a=i.ruleContexts||[],o=function(e){var t=e.helper,r=e.sharedHelperState,n=e.trackedFilters;return Object.keys(n).reduce(function(e,i){var a=G(t.lastResults||{},r,!0).filter(function(e){return e.attribute===i}).map(function(e){return e.numericValue||e.name}),o=(0,n[i])(a);return[].concat(fo(e),fo(a.filter(function(e){return o.includes(e)}).map(function(e){return"ais-".concat(i,"-").concat(e).replace(/[^a-z0-9-_]+/gi,"_")})))},[])}({helper:t,sharedHelperState:i,trackedFilters:this.trackedFilters}),c=[].concat(fo(r),fo(o));"development"==="production".NODE_ENV&&ae(c.length<=10,"\nThe maximum number of `ruleContexts` is 10. They have been sliced to that limit.\nConsider using `transformRuleContexts` to minimize the number of rules sent to Algolia.\n");var s=n(c).slice(0,10);be(a,s)||t.overrideStateWithoutTriggeringChangeEvent(so(so({},i),{},{ruleContexts:s}))}function mo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function vo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(r),!0).forEach(function(t){yo(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function yo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var bo=function(e){var t,r=e.searchAsYouSpeak,n=e.language,i=e.onQueryChange,a=e.onStateChange,o=window.webkitSpeechRecognition||window.SpeechRecognition,c=function(e){return{status:e,transcript:"",isSpeechFinal:!1,errorCode:void 0}},s=c("initial"),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s=vo(vo({},s),e),a()},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";u(c(e))},l=function(){u({status:"waiting"})},h=function(e){u({status:"error",errorCode:e.error})},d=function(e){u({status:"recognizing",transcript:e.results[0]&&e.results[0][0]&&e.results[0][0].transcript||"",isSpeechFinal:e.results[0]&&e.results[0].isFinal}),r&&s.transcript&&i(s.transcript)},p=function(){s.errorCode||!s.transcript||r||i(s.transcript),"error"!==s.status&&u({status:"finished"})},g=function(){t&&(t.stop(),t.removeEventListener("start",l),t.removeEventListener("error",h),t.removeEventListener("result",d),t.removeEventListener("end",p),t=void 0)};return{getState:function(){return s},isBrowserSupported:function(){return Boolean(o)},isListening:function(){return"askingPermission"===s.status||"waiting"===s.status||"recognizing"===s.status},startListening:function(){(t=new o)&&(f("askingPermission"),t.interimResults=!0,n&&(t.lang=n),t.addEventListener("start",l),t.addEventListener("error",h),t.addEventListener("result",d),t.addEventListener("end",p),t.start())},stopListening:function(){g(),f("finished")},dispose:g}};function Oo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wo(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(r),!0).forEach(function(t){So(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Oo(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function So(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jo=st({name:"voice-search",connector:!0});function Po(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(r),!0).forEach(function(t){Eo(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Po(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Eo(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fo(e){return"function"==typeof e.findAnswers}var xo=st({name:"answers",connector:!0});function Io(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Ao(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Io(Object(r),!0).forEach(function(t){Do(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Io(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Do(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function To(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?To(Object(r),!0).forEach(function(t){No(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):To(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function No(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ko(e){return(ko="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Wo=st({name:"dynamic-widgets",connector:!0}),Ho=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,Wo()),function(r){var n=r.widgets,i=r.maxValuesPerFacet,a=void 0===i?20:i,o=r.facets,c=void 0===o?["*"]:o,s=r.transformItems,u=void 0===s?function(e){return e}:s,f=r.fallbackWidget;if(!(n&&Array.isArray(n)&&n.every(function(e){return"object"===ko(e)})))throw new Error(Wo("The `widgets` option expects an array of widgets."));if(!(Array.isArray(c)&&c.length<=1)||"*"!==c[0]&&void 0!==c[0])throw new Error(Wo('The `facets` option only accepts [] or ["*"], you passed '.concat(JSON.stringify(c))));var l=new Map;return{$$type:"ais.dynamicWidgets",init:function(t){n.forEach(function(e){var r=_t(e,t);l.set(r,{widget:e,isMounted:!1})}),e(_o(_o({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var r=t.parent,n=this.getWidgetRenderState(t),i=[],a=[];f&&n.attributesToRender.forEach(function(e){if(!l.has(e)){var t=f({attribute:e});l.set(e,{widget:t,isMounted:!1})}}),l.forEach(function(e,t){var r=e.widget,o=e.isMounted,c=n.attributesToRender.indexOf(t)>-1;!o&&c?(a.push(r),l.set(t,{widget:r,isMounted:!0})):o&&!c&&(i.push(r),l.set(t,{widget:r,isMounted:!1}))}),r.addWidgets(a),setTimeout(function(){return r.removeWidgets(i)},0),e(_o(_o({},n),{},{instantSearchInstance:t.instantSearchInstance}),!1)},dispose:function(e){var r=e.parent,n=[];l.forEach(function(e){e.isMounted&&n.push(e.widget)}),r.removeWidgets(n),t()},getWidgetSearchParameters:function(e){return c.reduce(function(e,t){return e.addFacet(t)},e.setQueryParameters({maxValuesPerFacet:Math.max(a||0,e.maxValuesPerFacet||0)}))},getRenderState:function(e,t){return _o(_o({},e),{},{dynamicWidgets:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,n,i,o,c=e.results,s=e.state;if(!c)return{attributesToRender:[],widgetParams:r};var f=u(null!==(t=null===(n=c.renderingContent)||void 0===n||null===(i=n.facetOrdering)||void 0===i||null===(o=i.facets)||void 0===o?void 0:o.order)&&void 0!==t?t:[],{results:c});if(!Array.isArray(f))throw new Error(Wo("The `transformItems` option expects a function that returns an Array."));return"development"==="production".NODE_ENV&&ae(a>=(s.maxValuesPerFacet||0),"The maxValuesPerFacet set by dynamic widgets (".concat(a,") is smaller than one of the limits set by a widget (").concat(s.maxValuesPerFacet,"). This causes a mismatch in query parameters and thus an extra network request when that widget is mounted.")),"development"==="production".NODE_ENV&&ae(f.length<=20||void 0!==r.facets,"More than ".concat(20," facets are requested to be displayed without explicitly setting which facets to retrieve. This could have a performance impact. Set \"facets\" to [] to do two smaller network requests, or explicitly to ['*'] to avoid this warning.")),{attributesToRender:f,widgetParams:r}}}}};function Lo(){return(Lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}return function(e,t,r){var n=function(n,i){var a=i.applicationId,o=i.searchKey,c=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)t.indexOf(r=a[n])>=0||(i[r]=e[r]);return i}(i,["applicationId","searchKey"]),s=t(Lo({searchClient:e(a,o)},c));return{widgets:[],instantsearch:t,addWidget:function(e,t,n){var i=r["connect"+e](n);this.widgets.push(i(t))},init:function(){var e=this;setTimeout(function(){s.addWidgets(e.widgets),s.start()},1)}}};return n.widget=function(e,t,r,n){return Lo({},n,{name:t,config:r,isFirstRender:!0,init:function(){var e=this;this.addWidget(t,r,function(t,r){e.isFirstRender=r,Object.entries(t).forEach(function(t){e[t[0]]=t[1]})})}})},n}(t,ln,{__proto__:null,connectDynamicWidgets:Ho,EXPERIMENTAL_connectDynamicWidgets:ne(Ho,"use connectDynamicWidgets"),connectClearRefinements:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,vn()),function(r){var n=r||{},i=n.includedAttributes,a=void 0===i?[]:i,o=n.excludedAttributes,c=void 0===o?["query"]:o,s=n.transformItems,u=void 0===s?function(e){return e}:s;if(r&&r.includedAttributes&&r.excludedAttributes)throw new Error(vn("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var f={refine:re,createURL:function(){return""},attributesToClear:[]},l=function(){return f.refine()},h=function(){return f.createURL()};return{$$type:"ais.clearRefinements",init:function(t){var r=t.instantSearchInstance;e(gn(gn({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(gn(gn({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(){t()},getRenderState:function(e,t){return gn(gn({},e),{},{clearRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.createURL,n=e.results;f.attributesToClear=e.scopedResults.reduce(function(e,t){return e.concat(yn({scopedResult:t,includedAttributes:a,excludedAttributes:c,transformItems:u,results:n}))},[]),f.refine=function(){f.attributesToClear.forEach(function(e){var t=e.helper;t.setState(K({helper:t,attributesToClear:e.items})).search()})},f.createURL=function(){return t(at.apply(void 0,hn(f.attributesToClear.map(function(e){return K({helper:e.helper,attributesToClear:e.items})}))))};var i=f.attributesToClear.some(function(e){return e.items.length>0});return{canRefine:i,hasRefinements:i,refine:l,createURL:h,widgetParams:r}}}}},connectCurrentRefinements:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,jn()),function(r){if((r||{}).includedAttributes&&(r||{}).excludedAttributes)throw new Error(jn("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var n=r||{},i=n.includedAttributes,a=n.excludedAttributes,o=void 0===a?["query"]:a,c=n.transformItems,s=void 0===c?function(e){return e}:c;return{$$type:"ais.currentRefinements",init:function(t){var r=t.instantSearchInstance;e(wn(wn({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(wn(wn({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(){t()},getRenderState:function(e,t){return wn(wn({},e),{},{currentRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,n=e.createURL,a=e.helper,c=t?e.scopedResults.reduce(function(e,r){return e.concat(s(Pn({results:r.results,helper:r.helper,includedAttributes:i,excludedAttributes:o}),{results:t}))},[]):s(Pn({results:{},helper:a,includedAttributes:i,excludedAttributes:o}),{results:t});return{items:c,canRefine:c.length>0,refine:function(e){return En(a,e)},createURL:function(e){return n(Rn(a.state,e))},widgetParams:r}}}}},connectHierarchicalMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,Nn()),function(r){var n=r||{},i=n.attributes,a=n.separator,o=void 0===a?" > ":a,c=n.rootPath,s=void 0===c?null:c,u=n.showParentLevel,f=void 0===u||u,l=n.limit,h=void 0===l?10:l,d=n.showMore,p=void 0!==d&&d,g=n.showMoreLimit,m=void 0===g?20:g,v=n.sortBy,y=void 0===v?kn:v,b=n.transformItems,O=void 0===b?function(e){return e}:b;if(!i||!Array.isArray(i)||0===i.length)throw new Error(Nn("The `attributes` option expects an array of strings."));if(!0===p&&m<=h)throw new Error(Nn("The `showMoreLimit` option must be greater than `limit`."));var w,S,j=Tn(i,1)[0],P=function(){};function R(){P()}var E=!1;function F(){return E?m:h}function x(e){return e.slice(0,F()).map(function(e){var t=e.name,r=e.path,n=e.data,i=In(In({},Dn(e,["name","path","data"])),{},{label:t,value:r,data:null});return Array.isArray(n)&&(i.data=x(n)),i})}return{$$type:"ais.hierarchicalMenu",init:function(t){var r=t.instantSearchInstance;e(In(In({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;P=function(e,t){return function(){E=!E,t.render(e)}}(t,this),e(In(In({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.removeHierarchicalFacet(j).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return In(In({},e),{},{hierarchicalMenu:In(In({},e.hierarchicalMenu),{},An({},j,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.results,n=e.state,i=e.createURL,a=e.helper,o=[],c=!1;if(w||(w=Pt({instantSearchInstance:e.instantSearchInstance,helper:a,attribute:j,widgetType:this.$$type})),S||(S=function(e){w("click",e),a.toggleFacetRefinement(j,e).search()}),t){var s=t.getFacetValues(j,{sortBy:y,facetOrdering:y===kn}),u=s&&!Array.isArray(s)&&s.data?s.data:[],f=(n.maxValuesPerFacet||0)>F()?u.length<=F():u.length<F();c=p&&(E||!f),o=O(x(u),{results:t})}return{items:o,refine:S,canRefine:o.length>0,createURL:function(e){return i(n.resetPage().toggleFacetRefinement(j,e))},sendEvent:w,widgetParams:r,isShowingMore:E,toggleShowMore:R,canToggleShowMore:c}},getWidgetUiState:function(e,t){var r=t.searchParameters.getHierarchicalFacetBreadcrumb(j);return r.length?In(In({},e),{},{hierarchicalMenu:In(In({},e.hierarchicalMenu),{},An({},j,r))}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=r.hierarchicalMenu&&r.hierarchicalMenu[j];if(e.isHierarchicalFacet(j)){var a=e.getHierarchicalFacetByName(j);"development"==="production".NODE_ENV&&ae(be(a.attributes,i)&&a.separator===o&&a.rootPath===s,"Using Breadcrumb and HierarchicalMenu on the same facet with different options overrides the configuration of the HierarchicalMenu.")}var c=e.removeHierarchicalFacet(j).addHierarchicalFacet({name:j,attributes:i,separator:o,rootPath:s,showParentLevel:f}),u=Math.max(c.maxValuesPerFacet||0,p?m:h),l=c.setQueryParameter("maxValuesPerFacet",u);return n?l.addHierarchicalFacetRefinement(j,n.join(o)):l.setQueryParameters({hierarchicalFacetsRefinements:In(In({},l.hierarchicalFacetsRefinements),{},An({},j,[]))})}}}},connectHits:Mn,connectHitsWithInsights:Vn,connectHitsPerPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,Kn()),function(r){var n=r||{},i=n.items,a=n.transformItems,o=void 0===a?function(e){return e}:a;if(!Array.isArray(i))throw new Error(Kn("The `items` option expects an array of objects."));var c=i,s=c.filter(function(e){return!0===e.default});if(0===s.length)throw new Error(Kn("A default value must be specified in `items`."));if(s.length>1)throw new Error(Kn("More than one default value is specified in `items`."));var u=s[0],f=function(e){return function(t){return t||0===t?e.setQueryParameter("hitsPerPage",t).search():e.setQueryParameter("hitsPerPage",void 0).search()}},l=function(e){var t=e.state,r=e.createURL;return function(e){return r(t.resetPage().setQueryParameter("hitsPerPage",e||0===e?e:void 0))}};return{$$type:"ais.hitsPerPage",init:function(t){var r=t.state,n=t.instantSearchInstance;c.some(function(e){return Number(r.hitsPerPage)===Number(e.value)})||("development"==="production".NODE_ENV&&ae(void 0!==r.hitsPerPage,"\n`hitsPerPage` is not defined.\nThe option `hitsPerPage` needs to be set using the `configure` widget.\n\nLearn more: https://www.algolia.com/doc/api-reference/widgets/hits-per-page/js/\n            "),"development"==="production".NODE_ENV&&ae(!1,'\nThe `items` option of `hitsPerPage` does not contain the "hits per page" value coming from the state: '.concat(r.hitsPerPage,".\n\nYou may want to add another entry to the `items` option with this value.")),c=[{value:"",label:""}].concat(Jn(c))),e(Xn(Xn({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var r=t.instantSearchInstance;e(Xn(Xn({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(e,t){return Xn(Xn({},e),{},{hitsPerPage:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,n,i=e.state,a=e.results,s=e.createURL,u=e.helper;return{items:o((t=i,n=t.hitsPerPage,c.map(function(e){return Xn(Xn({},e),{},{isRefined:Number(e.value)===Number(n)})})),{results:a}),refine:f(u),createURL:l({state:i,createURL:s}),hasNoResults:!a||0===a.nbHits,widgetParams:r}},getWidgetUiState:function(e,t){var r=t.searchParameters.hitsPerPage;return void 0===r||r===u.value?e:Xn(Xn({},e),{},{hitsPerPage:r})},getWidgetSearchParameters:function(e,t){return e.setQueryParameters({hitsPerPage:t.uiState.hitsPerPage||u.value})}}}},connectInfiniteHits:si,connectInfiniteHitsWithInsights:ui,connectMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,mi()),function(r){var n,i,a,o=r||{},c=o.attribute,s=o.limit,u=void 0===s?10:s,f=o.showMore,l=void 0!==f&&f,h=o.showMoreLimit,d=void 0===h?20:h,p=o.sortBy,g=void 0===p?vi:p,m=o.transformItems,v=void 0===m?function(e){return e}:m;if(!c)throw new Error(mi("The `attribute` option is required."));if(!0===l&&d<=u)throw new Error(mi("The `showMoreLimit` option must be greater than `limit`."));var y=!1,b=function(){};function O(){b()}function w(){return y?d:u}return{$$type:"ais.menu",init:function(t){var r=t.instantSearchInstance;e(pi(pi({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(pi(pi({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.removeHierarchicalFacet(c).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return pi(pi({},e),{},{menu:pi(pi({},e.menu),{},gi({},c,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.results,o=e.createURL,s=e.helper,u=[],f=!1;if(n||(n=Pt({instantSearchInstance:e.instantSearchInstance,helper:s,attribute:c,widgetType:this.$$type})),i||(i=function(e){return o(s.state.resetPage().toggleFacetRefinement(c,e))}),a||(a=function(e){var t=li(s.getHierarchicalFacetBreadcrumb(c),1)[0];n("click",e||t),s.toggleFacetRefinement(c,e||t).search()}),e.results&&(b=function(e,t){return function(){y=!y,t.render(e)}}(e,this)),t){var h=t.getFacetValues(c,{sortBy:g,facetOrdering:g===vi}),d=h&&!Array.isArray(h)&&h.data?h.data:[];f=l&&(y||d.length>w()),u=v(d.slice(0,w()).map(function(e){var t=e.name,r=e.path;return pi(pi({},fi(e,["name","path"])),{},{label:t,value:r})}),{results:t})}return{items:u,createURL:i,refine:a,sendEvent:n,canRefine:u.length>0,widgetParams:r,isShowingMore:y,toggleShowMore:O,canToggleShowMore:f}},getWidgetUiState:function(e,t){var r=li(t.searchParameters.getHierarchicalFacetBreadcrumb(c),1)[0];return r?pi(pi({},e),{},{menu:pi(pi({},e.menu),{},gi({},c,r))}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=r.menu&&r.menu[c],i=e.removeHierarchicalFacet(c).addHierarchicalFacet({name:c,attributes:[c]}),a=Math.max(i.maxValuesPerFacet||0,l?d:u),o=i.setQueryParameter("maxValuesPerFacet",a);return n?o.addHierarchicalFacetRefinement(c,n):o.setQueryParameters({hierarchicalFacetsRefinements:pi(pi({},o.hierarchicalFacetsRefinements),{},gi({},c,[]))})}}}},connectNumericMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,ji()),function(r){var n=r||{},i=n.attribute,a=void 0===i?"":i,o=n.items,c=void 0===o?[]:o,s=n.transformItems,u=void 0===s?function(e){return e}:s;if(""===a)throw new Error(ji("The `attribute` option is required."));if(!c||0===c.length)throw new Error(ji("The `items` option expects an array of objects."));var f=function(e){return c.map(function(t){var r=t.start,n=t.end,i=t.label;return{label:i,value:encodeURI(JSON.stringify({start:r,end:n})),isRefined:Ei(e,a,{start:r,end:n,label:i})}})},l={};return{$$type:Pi,init:function(t){var r=t.instantSearchInstance;e(wi(wi({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(wi(wi({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.clearRefinements(a)},getWidgetUiState:function(e,t){var r=t.searchParameters.getNumericRefinements(a),n=r["="]&&r["="][0];if(n||0===n)return wi(wi({},e),{},{numericMenu:wi(wi({},e.numericMenu),{},Si({},a,"".concat(r["="])))});var i=r[">="]&&r[">="][0]||"",o=r["<="]&&r["<="][0]||"";return""===i&&""===o?e:wi(wi({},e),{},{numericMenu:wi(wi({},e.numericMenu),{},Si({},a,"".concat(i,":").concat(o)))})},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=r.numericMenu&&r.numericMenu[a],i=e.clearRefinements(a);if(!n)return i.setQueryParameters({numericRefinements:wi(wi({},i.numericRefinements),{},Si({},a,{}))});if(-1===n.indexOf(":"))return i.addNumericRefinement(a,"=",Number(n));var o=yi(n.split(":").map(parseFloat),2),c=o[0],s=o[1],u=de(c)?i.addNumericRefinement(a,">=",c):i;return de(s)?u.addNumericRefinement(a,"<=",s):u},getRenderState:function(e,t){return wi(wi({},e),{},{numericMenu:wi(wi({},e.numericMenu),{},Si({},a,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.results,n=e.state,i=e.instantSearchInstance,o=e.helper,c=e.createURL;return l.refine||(l.refine=function(e){var t=Fi(o.state,a,e);l.sendEvent("click",e),o.setState(t).search()}),l.createURL||(l.createURL=function(e){return function(t){return c(Fi(e,a,t))}}),l.sendEvent||(l.sendEvent=Ri({instantSearchInstance:i,helper:o,attribute:a})),{createURL:l.createURL(n),items:u(f(n),{results:t}),hasNoResults:!t||0===t.nbHits,refine:l.refine,sendEvent:l.sendEvent,widgetParams:r}}}}},connectPagination:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,Ni()),function(r){var n=r||{},i=n.totalPages,a=n.padding,o=new Ai({currentPage:0,total:0,padding:void 0===a?3:a}),c={};return{$$type:"ais.pagination",init:function(t){var r=t.instantSearchInstance;e(Ti(Ti({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(Ti(Ti({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.setQueryParameter("page",void 0)},getWidgetUiState:function(e,t){var r=t.searchParameters.page||0;return r?Ti(Ti({},e),{},{page:r+1}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState;return e.setQueryParameter("page",r.page?r.page-1:0)},getWidgetRenderState:function(e){var t=e.results,n=e.helper,a=e.state,s=e.createURL;c.refine||(c.refine=function(e){n.setPage(e),n.search()}),c.createURL||(c.createURL=function(e){return function(t){return s(e.setPage(t))}});var u=a.page||0,f=function(e){var t=e.nbPages;return void 0!==i?Math.min(i,t):t}(t||{nbPages:0});return o.currentPage=u,o.total=f,{createURL:c.createURL(a),refine:c.refine,canRefine:f>1,currentRefinement:u,nbHits:(null==t?void 0:t.nbHits)||0,nbPages:f,pages:t?o.pages():[],isFirstPage:o.isFirstPage(),isLastPage:o.isLastPage(),widgetParams:r}},getRenderState:function(e,t){return Ti(Ti({},e),{},{pagination:this.getWidgetRenderState(t)})}}}},connectRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,Mi()),function(r){var n=r||{},i=n.attribute,a=void 0===i?"":i,o=n.min,c=n.max,s=n.precision,u=void 0===s?0:s;if(!a)throw new Error(Mi("The `attribute` option is required."));if(de(o)&&de(c)&&o>c)throw new Error(Mi("The `max` option can't be lower than `min`."));var f={from:function(e){return e.toLocaleString()},to:function(e){return function(e){return Number(Number(e).toFixed(u))}(e).toLocaleString()}},l=function(e,t,r,n){var i,s,f=e.state,l=t.min,h=t.max,d=Li(f.getNumericRefinement(a,">=")||[],1)[0],p=Li(f.getNumericRefinement(a,"<=")||[],1)[0],g=void 0===r||""===r,m=void 0===n||""===n,v=Qi({min:g?void 0:parseFloat(r),max:m?void 0:parseFloat(n),precision:u}),y=v.min,b=v.max;i=de(o)||l!==y?de(o)&&g?o:y:void 0,s=de(c)||h!==b?de(c)&&m?c:b:void 0;var O=void 0===i,w=de(l)&&l<=i,S=O||de(i)&&(!de(l)||w),j=void 0===s,P=de(s)&&h>=s,R=j||de(s)&&(!de(h)||P);return(d!==i||p!==s)&&S&&R?(f=f.removeNumericRefinement(a),de(i)&&(f=f.addNumericRefinement(a,">=",i)),de(s)&&(f=f.addNumericRefinement(a,"<=",s)),f.resetPage()):null},h=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Filter Applied",i=At(e,a);i&&i.length>0&&t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Ui,eventType:"click",payload:{eventName:n,index:r.getIndex(),filters:i},attribute:a})},d=function(e,t,r){return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];if(1!==i.length){var o=i[0],c=i[1],s=i[2];if("click"===o){var u=Li(c,2),f=u[0],d=u[1],p=l(t,r,f,d);h(p,e,t,s)}}else e.sendEventToInsights(i[0])}};function p(e,t,r){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[void 0,void 0],i=Li(n,2),a=i[0],o=i[1],c=l(t,r,a,o);c&&(h(c,e,t),t.setState(c).search())}}return{$$type:Ui,init:function(t){e(Wi(Wi({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(Wi(Wi({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return Wi(Wi({},e),{},{range:Wi(Wi({},e.range),{},Hi({},a,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,n=e.results,i=e.helper,s=e.instantSearchInstance,l=z(n&&n.disjunctiveFacets||[],function(e){return e.name===a}),h=(t=l&&l.stats||{min:void 0,max:void 0},Qi({min:de(o)?o:de(t.min)?t.min:0,max:de(c)?c:de(t.max)?t.max:0,precision:u})),g=function(e){var t=Li(e.getNumericRefinement(a,">=")||[],1)[0],r=Li(e.getNumericRefinement(a,"<=")||[],1)[0];return[de(t)?t:-Infinity,de(r)?r:Infinity]}(i);return{refine:p(s,i,n?h:{min:void 0,max:void 0}),canRefine:h.min!==h.max,format:f,range:h,sendEvent:d(s,i,h),widgetParams:Wi(Wi({},r),{},{precision:u}),start:g}},dispose:function(e){var r=e.state;return t(),r.removeDisjunctiveFacet(a).removeNumericRefinement(a)},getWidgetUiState:function(e,t){var r=t.searchParameters.getNumericRefinements(a),n=r[">="],i=void 0===n?[]:n,o=r["<="],c=void 0===o?[]:o;return 0===i.length&&0===c.length?e:Wi(Wi({},e),{},{range:Wi(Wi({},e.range),{},Hi({},a,"".concat(i,":").concat(c)))})},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=e.addDisjunctiveFacet(a).setQueryParameters({numericRefinements:Wi(Wi({},e.numericRefinements),{},Hi({},a,{}))});de(o)&&(n=n.addNumericRefinement(a,">=",o)),de(c)&&(n=n.addNumericRefinement(a,"<=",c));var i=r.range&&r.range[a];if(!i||-1===i.indexOf(":"))return n;var s=Li(i.split(":").map(parseFloat),2),u=s[0],f=s[1];return de(u)&&(!de(o)||o<u)&&(n=(n=n.removeNumericRefinement(a,">=")).addNumericRefinement(a,">=",u)),de(f)&&(!de(c)||f<c)&&(n=(n=n.removeNumericRefinement(a,"<=")).addNumericRefinement(a,"<=",f)),n}}}},connectRefinementList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,Ji()),function(r){var n=r||{},i=n.attribute,a=n.operator,o=void 0===a?"or":a,c=n.limit,s=void 0===c?10:c,u=n.showMore,f=void 0!==u&&u,l=n.showMoreLimit,h=void 0===l?20:l,d=n.sortBy,p=void 0===d?zi:d,g=n.escapeFacetValues,m=void 0===g||g,v=n.transformItems,y=void 0===v?function(e){return e}:v;if(!i)throw new Error(Ji("The `attribute` option is required."));if(!/^(and|or)$/.test(o))throw new Error(Ji('The `operator` must one of: `"and"`, `"or"` (got "'.concat(o,'").')));if(!0===f&&h<=s)throw new Error(Ji("`showMoreLimit` should be greater than `limit`."));var b,O,w,S=function(e){var t=e.name;return Bi(Bi({},Vi(e,["name"])),{},{label:t,value:t,highlighted:t})},j=[],P=!0,R=!1,E=function(){};function F(){E()}function x(){return R?h:s}var I=function(){return function(){}};return{$$type:"ais.refinementList",init:function(t){e(Bi(Bi({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(Bi(Bi({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return Bi(Bi({},e),{},{refinementList:Bi(Bi({},e.refinementList),{},$i({},i,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(t){var n=t.results,a=t.state,o=t.createURL,c=t.helper,u=[],l=[];if(w&&O&&I||(w=Pt({instantSearchInstance:t.instantSearchInstance,helper:c,attribute:i,widgetType:this.$$type}),O=function(e){w("click",e),c.toggleFacetRefinement(i,e).search()},I=function(t,r){return function(n){return function(a){var o=n.instantSearchInstance,c=n.results;if(""===a&&j)e(Bi(Bi({},r.getWidgetRenderState(Bi(Bi({},n),{},{results:b}))),{},{instantSearchInstance:o}),!1);else{var s={highlightPreTag:m?Ae.highlightPreTag:De,highlightPostTag:m?Ae.highlightPostTag:Te};t.searchForFacetValues(i,a,Math.min(x(),100),s).then(function(t){var i=m?We(t.facetHits):t.facetHits,a=y(i.map(function(e){var t=e.value;return Bi(Bi({},Vi(e,["value"])),{},{value:t,label:t})}),{results:c});e(Bi(Bi({},r.getWidgetRenderState(Bi(Bi({},n),{},{results:b}))),{},{items:a,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:o}),!1)})}}}}(c,this)),n){var h=n.getFacetValues(i,{sortBy:p,facetOrdering:p===zi});l=h&&Array.isArray(h)?h:[],u=y(l.slice(0,x()).map(S),{results:n});var d=a.maxValuesPerFacet,g=x();P=d>g?l.length<=g:l.length<g,b=n,j=u,t.results&&(E=function(e,t){return function(){R=!R,t.render(e)}}(t,this))}var v=I&&I(t);return{createURL:function(e){return o(a.resetPage().toggleFacetRefinement(i,e))},items:u,refine:O,searchForItems:v,isFromSearch:!1,canRefine:u.length>0,widgetParams:r,isShowingMore:R,canToggleShowMore:R&&j.length>s||f&&!P,toggleShowMore:F,sendEvent:w,hasExhaustiveItems:P}},dispose:function(e){var r=e.state;t();var n=r.setQueryParameter("maxValuesPerFacet",void 0);return"and"===o?n.removeFacet(i):n.removeDisjunctiveFacet(i)},getWidgetUiState:function(e,t){var r=t.searchParameters,n="or"===o?r.getDisjunctiveRefinements(i):r.getConjunctiveRefinements(i);return n.length?Bi(Bi({},e),{},{refinementList:Bi(Bi({},e.refinementList),{},$i({},i,n))}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState,n="or"===o,a=r.refinementList&&r.refinementList[i],c=e.clearRefinements(i),u=n?c.addDisjunctiveFacet(i):c.addFacet(i),l=Math.max(u.maxValuesPerFacet||0,f?h:s),d=u.setQueryParameter("maxValuesPerFacet",l);if(!a){var p=n?"disjunctiveFacetsRefinements":"facetsRefinements";return d.setQueryParameters($i({},p,Bi(Bi({},d[p]),{},$i({},i,[]))))}return a.reduce(function(e,t){return n?e.addDisjunctiveFacetRefinement(i,t):e.addFacetRefinement(i,t)},d)}}}},connectSearchBox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,Ki()),function(r){var n,i,a=(r||{}).queryHook,o=void 0===a?Zi:a;return{$$type:"ais.searchBox",init:function(t){var r=t.instantSearchInstance;e(Xi(Xi({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(Xi(Xi({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.setQueryParameter("query",void 0)},getRenderState:function(e,t){return Xi(Xi({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.helper;return n||(n=function(e){o(e,function(e){return t.setQuery(e).search()})},i=function(){t.setQuery("").search()}),{query:e.state.query||"",refine:n,clear:i,widgetParams:r,isSearchStalled:e.searchMetadata.isSearchStalled}},getWidgetUiState:function(e,t){var r=t.searchParameters.query||"";return""===r||e&&e.query===r?e:Xi(Xi({},e),{},{query:r})},getWidgetSearchParameters:function(e,t){return e.setQueryParameter("query",t.uiState.query||"")}}}},connectSortBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;te(e,na());var r={};return function(n){var i=n||{},a=i.items,o=i.transformItems,c=void 0===o?function(e){return e}:o;if(!Array.isArray(a))throw new Error(na("The `items` option expects an array of objects."));return{$$type:"ais.sortBy",init:function(t){var r=t.instantSearchInstance,n=this.getWidgetRenderState(t),i=n.currentRefinement,o=z(a,function(e){return e.value===i});"development"==="production".NODE_ENV&&ae(void 0!==o,'The index named "'.concat(i,'" is not listed in the `items` of `sortBy`.')),e(ta(ta({},n),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(ta(ta({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var n=e.state;return t(),r.initialIndex?n.setIndex(r.initialIndex):n},getRenderState:function(e,t){return ta(ta({},e),{},{sortBy:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,i=e.helper,o=e.state,s=e.parent;return!r.initialIndex&&s&&(r.initialIndex=s.getIndexName()),r.setIndex||(r.setIndex=function(e){i.setIndex(e).search()}),{currentRefinement:o.index,options:c(a,{results:t}),refine:r.setIndex,hasNoResults:!t||0===t.nbHits,widgetParams:n}},getWidgetUiState:function(e,t){var n=t.searchParameters.index;return ta(ta({},e),{},{sortBy:n!==r.initialIndex?n:void 0})},getWidgetSearchParameters:function(e,t){return e.setQueryParameter("index",t.uiState.sortBy||r.initialIndex||e.index)}}}},connectRatingMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,la()),function(r){var n,i=r||{},a=i.attribute,o=i.max,c=void 0===o?5:o;if(!a)throw new Error(la("The `attribute` option is required."));var s=function(e){var t,r=e.getNumericRefinements(a);if(null!==(t=r[">="])&&void 0!==t&&t.length)return r[">="][0]};function u(e,t){var r=s(e)===Number(t),n=e.resetPage().removeNumericRefinement(a);return r?n:n.addNumericRefinement(a,"<=",c).addNumericRefinement(a,">=",Number(t))}var f=function(e,t){n("click",t),e.setState(u(e.state,t)).search()},l=function(e){return f.bind(null,e)},h=function(e){var t=e.state,r=e.createURL;return function(e){return r(u(t,e))}};return{$$type:ha,init:function(t){var r=t.instantSearchInstance;e(oa(oa({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(oa(oa({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},getRenderState:function(e,t){return oa(oa({},e),{},{ratingMenu:oa(oa({},e.ratingMenu),{},ca({},a,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.helper,i=e.results,o=e.state,u=e.createURL,f=[];if(n||(n=pa({instantSearchInstance:e.instantSearchInstance,helper:t,getRefinedStar:function(){return s(t.state)},attribute:a})),i){var d=i.getFacetValues(a,{}),p=d.length,g=function(e){var t=0;return e.forEach(function(e){var r=sa(e.name.split("."),2)[1];t=Math.max(t,(void 0===r?"":r).length)}),t}(d),m=Math.pow(10,g)*c;"development"==="production".NODE_ENV&&ae(m<=p,function(e){var t=e.maxDecimalPlaces,r=e.maxFacets,n=e.maxValuesPerFacet,i=Math.max(0,Math.floor(Math.log10(da/c))),o=Math.min(da,Math.pow(10,i)*c),s=[];return r>da&&s.push('- Update your records to lower the precision of the values in the "'.concat(a,'" attribute (for example: ').concat(5.123456789.toPrecision(t+1)," to ").concat(5.123456789.toPrecision(i+1),")")),n<o&&s.push("- Increase the maximum number of facet values to ".concat(o,' using the "configure" widget ').concat(ct({name:"configure"}),' and the "maxValuesPerFacet" parameter https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/')),"The ".concat(a," attribute can have ").concat(r," different values (0 to ").concat(c," with a maximum of ").concat(t," decimals = ").concat(r,") but you retrieved only ").concat(n," facet values. Therefore the number of results that match the refinements can be incorrect.\n    ").concat(s.length?"To resolve this problem you can:\n".concat(s.join("\n")):"")}({maxDecimalPlaces:g,maxFacets:m,maxValuesPerFacet:p}));for(var v=s(o),y=function(e){var t=v===e,r=d.filter(function(t){return Number(t.name)>=e&&Number(t.name)<=c}).map(function(e){return e.count}).reduce(function(e,t){return e+t},0);if(v&&!t&&0===r)return"continue";var n=ia(new Array(Math.floor(c/1))).map(function(t,r){return 1*r<e});f.push({stars:n,name:String(e),label:String(e),value:String(e),count:r,isRefined:t})},b=1;b<c;b+=1)y(b)}return{items:f=f.reverse(),hasNoResults:!i||0===i.nbHits,canRefine:f.length>0,refine:l(t),sendEvent:n,createURL:h({state:o,createURL:u}),widgetParams:r}},dispose:function(e){var r=e.state;return t(),r.removeNumericRefinement(a)},getWidgetUiState:function(e,t){var r=s(t.searchParameters);return"number"!=typeof r?e:oa(oa({},e),{},{ratingMenu:oa(oa({},e.ratingMenu),{},ca({},a,r))})},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=r.ratingMenu&&r.ratingMenu[a],i=e.clearRefinements(a).addDisjunctiveFacet(a);return n?i.addNumericRefinement(a,"<=",c).addNumericRefinement(a,">=",n):i.setQueryParameters({numericRefinements:oa(oa({},i.numericRefinements),{},ca({},a,{}))})}}}},connectStats:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,ya()),function(r){return{$$type:"ais.stats",init:function(t){var r=t.instantSearchInstance;e(ma(ma({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(ma(ma({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(){t()},getRenderState:function(e,t){return ma(ma({},e),{},{stats:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,n=e.state;return t?{hitsPerPage:t.hitsPerPage,nbHits:t.nbHits,nbSortedHits:t.nbSortedHits,areHitsSorted:void 0!==t.appliedRelevancyStrictness&&t.appliedRelevancyStrictness>0&&t.nbSortedHits!==t.nbHits,nbPages:t.nbPages,page:t.page,processingTimeMS:t.processingTimeMS,query:t.query,widgetParams:r}:{hitsPerPage:n.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:n.page||0,processingTimeMS:-1,query:n.query||"",widgetParams:r}}}}},connectToggleRefinement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,Sa()),function(r){var n=r||{},i=n.attribute,a=n.on,o=void 0===a||a,c=n.off;if(!i)throw new Error(Sa("The `attribute` option is required."));var s,u=void 0!==c,f=ot(o).map(Z),l=u?ot(c).map(Z):void 0,h=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isRefined:!1},r=t.isRefined;r?(f.forEach(function(t){return e.removeDisjunctiveFacetRefinement(i,t)}),u&&l.forEach(function(t){return e.addDisjunctiveFacetRefinement(i,t)})):(s("click",r),u&&l.forEach(function(t){return e.removeDisjunctiveFacetRefinement(i,t)}),f.forEach(function(t){return e.addDisjunctiveFacetRefinement(i,t)})),e.search()}},d=function(e,t){var r=t.state,n=t.createURL;return function(){r=r.resetPage();var t=e?f:l;t&&t.forEach(function(e){r=r.removeDisjunctiveFacetRefinement(i,e)});var a=e?l:f;return a&&a.forEach(function(e){r=r.addDisjunctiveFacetRefinement(i,e)}),n(r)}};return{$$type:ja,init:function(t){var r=t.instantSearchInstance;e(Oa(Oa({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(Oa(Oa({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.removeDisjunctiveFacet(i)},getRenderState:function(e,t){return Oa(Oa({},e),{},{toggleRefinement:Oa(Oa({},e.toggleRefinement),{},wa({},i,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.state,n=e.helper,a=e.results,o=e.createURL,c=e.instantSearchInstance,p=f.every(function(e){return t.isDisjunctiveFacetRefined(i,e)}),g={isRefined:p,count:0},m={isRefined:u&&!p,count:0};if(a){var v=ot(l||!1),y=a.getFacetValues(i,{})||[],b=f.map(function(e){return z(y,function(t){return t.name===Y(e)})}).filter(function(e){return void 0!==e}),O=u?v.map(function(e){return z(y,function(t){return t.name===Y(e)})}).filter(function(e){return void 0!==e}):[];g={isRefined:!!b.length&&b.every(function(e){return e.isRefined}),count:b.reduce(function(e,t){return e+t.count},0)||null},m={isRefined:!!O.length&&O.every(function(e){return e.isRefined}),count:O.reduce(function(e,t){return e+t.count},0)||y.reduce(function(e,t){return e+t.count},0)}}s||(s=Pa({instantSearchInstance:c,attribute:i,on:f,helper:n}));var w=p?m:g;return{value:{name:i,isRefined:p,count:a?w.count:null,onFacetValue:g,offFacetValue:m},createURL:d(p,{state:t,createURL:o}),sendEvent:s,canRefine:Boolean(a?w.count:null),refine:h(n),widgetParams:r}},getWidgetUiState:function(e,t){var r=t.searchParameters,n=f&&f.every(function(e){return r.isDisjunctiveFacetRefined(i,e)});return n?Oa(Oa({},e),{},{toggle:Oa(Oa({},e.toggle),{},wa({},i,n))}):e},getWidgetSearchParameters:function(e,t){var r=t.uiState,n=e.clearRefinements(i).addDisjunctiveFacet(i);return Boolean(r.toggle&&r.toggle[i])?(f&&f.forEach(function(e){n=n.addDisjunctiveFacetRefinement(i,e)}),n):u?(l&&l.forEach(function(e){n=n.addDisjunctiveFacetRefinement(i,e)}),n):n.setQueryParameters({disjunctiveFacetsRefinements:Oa(Oa({},e.disjunctiveFacetsRefinements),{},wa({},i,[]))})}}}},connectBreadcrumb:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;te(e,Aa());var r={};return function(n){var i=n||{},a=i.attributes,o=i.separator,c=void 0===o?" > ":o,s=i.rootPath,u=void 0===s?null:s,f=i.transformItems,l=void 0===f?function(e){return e}:f;if(!a||!Array.isArray(a)||0===a.length)throw new Error(Aa("The `attributes` option expects an array of strings."));var h=xa(a,1)[0];function d(e,t){if(!t){var r=e.getHierarchicalFacetBreadcrumb(h);return 0===r.length?e:e.resetPage().toggleFacetRefinement(h,r[0])}return e.resetPage().toggleFacetRefinement(h,t)}return{$$type:"ais.breadcrumb",init:function(t){e(Ea(Ea({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(Ea(Ea({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},dispose:function(){t()},getRenderState:function(e,t){return Ea(Ea({},e),{},{breadcrumb:Ea(Ea({},e.breadcrumb),{},Fa({},h,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.helper,i=e.createURL,a=e.results,o=e.state,c=function(){if(!a||0===o.hierarchicalFacets.length)return[];var e=xa(o.hierarchicalFacets,1),t=a.getFacetValues(e[0].name,{}),r=Array.isArray(t.data)?t.data:[];return l(Ta(Da(r)),{results:a})}();return r.createURL||(r.createURL=function(e){return i(d(t.state,e))}),r.refine||(r.refine=function(e){t.setState(d(t.state,e)).search()}),{canRefine:c.length>0,createURL:r.createURL,items:c,refine:r.refine,widgetParams:n}},getWidgetSearchParameters:function(e){if(e.isHierarchicalFacet(h)){var t=e.getHierarchicalFacetByName(h);return"development"==="production".NODE_ENV&&ae(be(t.attributes,a)&&t.separator===c&&t.rootPath===u,"Using Breadcrumb and HierarchicalMenu on the same facet with different options overrides the configuration of the HierarchicalMenu."),e}return e.addHierarchicalFacet({name:h,attributes:a,separator:c,rootPath:u})}}}},connectGeoSearch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,Wa()),function(r){var n,i=r||{},a=i.enableRefineOnMapMove,o=i.transformItems,c=void 0===o?function(e){return e}:o,s={isRefineOnMapMove:void 0===a||a,hasMapMoveSinceLastRefine:!1,lastRefinePosition:"",lastRefineBoundingBox:"",internalToggleRefineOnMapMove:re,internalSetMapMoveSinceLastRefine:re},u=function(e){return e.aroundLatLng?ht(e.aroundLatLng):void 0},f=function(e){return e.insideBoundingBox&&dt(e.insideBoundingBox)},l=function(e){return function(t){var r=t.northEast,n=t.southWest,i=[r.lat,r.lng,n.lat,n.lng].join();e.setState(La(e.state,i).resetPage()).search(),s.hasMapMoveSinceLastRefine=!1,s.lastRefineBoundingBox=i}},h=function(e){return function(){e.setQueryParameter("insideBoundingBox",void 0).search()}},d=function(e){return function(){return Boolean(e.insideBoundingBox)}},p=function(){return s.internalToggleRefineOnMapMove()},g=function(e,t){return function(){s.isRefineOnMapMove=!s.isRefineOnMapMove,t(e)}},m=function(){return s.isRefineOnMapMove},v=function(){return s.internalSetMapMoveSinceLastRefine()},y=function(e,t){return function(){var r=!0!==s.hasMapMoveSinceLastRefine;s.hasMapMoveSinceLastRefine=!0,r&&t(e)}},b=function(){return s.hasMapMoveSinceLastRefine};return{$$type:Ca,init:function(t){var r=t.instantSearchInstance;s.internalToggleRefineOnMapMove=g(t,re),s.internalSetMapMoveSinceLastRefine=y(t,re),e(Na(Na({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance,i=t.helper.state,a=Boolean(i.aroundLatLng)&&Boolean(s.lastRefinePosition)&&i.aroundLatLng!==s.lastRefinePosition,o=!i.insideBoundingBox&&Boolean(s.lastRefineBoundingBox)&&i.insideBoundingBox!==s.lastRefineBoundingBox;(a||o)&&(s.hasMapMoveSinceLastRefine=!1),s.lastRefinePosition=i.aroundLatLng||"",s.lastRefineBoundingBox=Ha(i),s.internalToggleRefineOnMapMove=g(t,this.render.bind(this)),s.internalSetMapMoveSinceLastRefine=y(t,this.render.bind(this));var c=this.getWidgetRenderState(t);n("view",c.items),e(Na(Na({},c),{},{instantSearchInstance:r}),!1)},getWidgetRenderState:function(e){var t=e.helper,i=e.results,a=e.instantSearchInstance,o=t.state,s=i?c(i.hits.filter(function(e){return e._geoloc}),{results:i}):[];return n||(n=xt({instantSearchInstance:a,index:t.getIndex(),widgetType:Ca})),{items:s,position:u(o),currentRefinement:f(o),refine:l(t),sendEvent:n,clearMapRefinement:h(t),isRefinedWithMap:d(o),toggleRefineOnMapMove:p,isRefineOnMapMove:m,setMapMoveSinceLastRefine:v,hasMapMoveSinceLastRefine:b,widgetParams:r}},getRenderState:function(e,t){return Na(Na({},e),{},{geoSearch:this.getWidgetRenderState(t)})},dispose:function(e){var r=e.state;return t(),r.setQueryParameter("insideBoundingBox",void 0)},getWidgetUiState:function(e,t){var r=Ha(t.searchParameters);return!r||e&&e.geoSearch&&e.geoSearch.boundingBox===r?e:Na(Na({},e),{},{geoSearch:{boundingBox:r}})},getWidgetSearchParameters:function(e,t){var r=t.uiState;return r&&r.geoSearch?La(e,r.geoSearch.boundingBox):e.setQueryParameter("insideBoundingBox",void 0)}}}},connectPoweredBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;te(e,qa());var r="https://www.algolia.com/?utm_source=instantsearch.js&utm_medium=website&"+"utm_content=".concat(Nt(function(e){var t;return(null===(t=e.window.location)||void 0===t?void 0:t.hostname)||""},{fallback:function(){return""}}),"&")+"utm_campaign=poweredby";return function(n){var i=(n||{}).url,a=void 0===i?r:i;return{$$type:"ais.poweredBy",init:function(t){var r=t.instantSearchInstance;e(Ua(Ua({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(Ua(Ua({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},getRenderState:function(e,t){return Ua(Ua({},e),{},{poweredBy:this.getWidgetRenderState(t)})},getWidgetRenderState:function(){return{url:a,widgetParams:n}},dispose:function(){t()}}}},connectConfigure:Ya,EXPERIMENTAL_connectConfigureRelatedItems:function(e,t){return function(r){var n=r||{},i=n.hit,a=n.matchingPatterns,o=n.transformSearchParameters,c=void 0===o?function(e){return e}:o;if(!i)throw new Error(to("The `hit` option is required."));if(!a)throw new Error(to("The `matchingPatterns` option is required."));var s=Object.keys(a).reduce(function(e,t){var r=a[t],n=he(i,t),o=r.score;return Array.isArray(n)?[].concat(Za(e),[n.map(function(e){return ro({attributeName:t,attributeValue:e,attributeScore:o})})]):"string"==typeof n?[].concat(Za(e),[ro({attributeName:t,attributeValue:n,attributeScore:o})]):("development"==="production".NODE_ENV&&ae(!1,"\nThe `matchingPatterns` option returned a value of type ".concat(ee(n),' for the "').concat(t,'" key. This value was not sent to Algolia because `optionalFilters` only supports strings and array of strings.\n\nYou can remove the "').concat(t,'" key from the `matchingPatterns` option.\n\nSee https://www.algolia.com/doc/api-reference/api-parameters/optionalFilters/\n            ')),e)},[]),u=Ga({},c(new q.SearchParameters({sumOrFiltersScores:!0,facetFilters:["objectID:-".concat(i.objectID)],optionalFilters:s})));return Ga(Ga({},Ya(e,t)({searchParameters:u})),{},{$$type:"ais.configureRelatedItems"})}},connectAutocomplete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,oo()),function(r){var n=(r||{}).escapeHTML,i=void 0===n||n;"development"==="production".NODE_ENV&&ae(!r.indices,"\nThe option `indices` has been removed from the Autocomplete connector.\n\nThe indices to target are now inferred from the widgets tree.\n".concat(Array.isArray(r.indices)?"\nAn alternative would be:\n\nconst autocomplete = connectAutocomplete(renderer);\n\nsearch.addWidgets([\n  ".concat(r.indices.map(function(e){return"index({ indexName: '".concat(e.value,"' }),")}).join("\n  "),"\n  autocomplete()\n]);\n"):"","\n      "));var a={};return{$$type:"ais.autocomplete",init:function(t){var r=t.instantSearchInstance;e(io(io({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance,n=this.getWidgetRenderState(t);n.indices.forEach(function(e){(0,e.sendEvent)("view",e.hits)}),e(io(io({},n),{},{instantSearchInstance:r}),!1)},getRenderState:function(e,t){return io(io({},e),{},{autocomplete:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=this,n=e.helper,o=e.state,c=e.scopedResults,s=e.instantSearchInstance;a.refine||(a.refine=function(e){n.setQuery(e).search()});var u=c.map(function(e){e.results.hits=i?ke(e.results.hits):e.results.hits;var r=xt({instantSearchInstance:s,index:e.results.index,widgetType:t.$$type});return{indexId:e.indexId,indexName:e.results.index,hits:e.results.hits,results:e.results,sendEvent:r}});return{currentRefinement:o.query||"",indices:u,refine:a.refine,widgetParams:r}},getWidgetUiState:function(e,t){var r=t.searchParameters.query||"";return""===r||e&&e.query===r?e:io(io({},e),{},{query:r})},getWidgetSearchParameters:function(e,t){var r={query:t.uiState.query||""};return e.setQueryParameters(i?io(io({},r),Ae):r)},dispose:function(e){var r=e.state;t();var n=r.setQueryParameter("query",void 0);return i?n.setQueryParameters(Object.keys(Ae).reduce(function(e,t){return io(io({},e),{},ao({},t,void 0))},{})):n}}}},connectQueryRules:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,ho()),function(r){var n=r||{},i=n.trackedFilters,a=void 0===i?{}:i,o=n.transformRuleContexts,c=void 0===o?function(e){return e}:o,s=n.transformItems,u=void 0===s?function(e){return e}:s;Object.keys(a).forEach(function(e){if("function"!=typeof a[e])throw new Error(ho("'The \"".concat(e,'" filter value in the `trackedFilters` option expects a function.')))});var f,l=Object.keys(a).length>0,h=[];return{$$type:"ais.queryRules",init:function(t){var n=t.helper,i=t.state,o=t.instantSearchInstance;f=go.bind({helper:n,initialRuleContexts:h=i.ruleContexts||[],trackedFilters:a,transformRuleContexts:c}),l&&((po(i)||Boolean(r.transformRuleContexts))&&f({state:i}),n.on("change",f)),e(so(so({},this.getWidgetRenderState(t)),{},{instantSearchInstance:o}),!0)},render:function(t){var r=t.instantSearchInstance;e(so(so({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},getWidgetRenderState:function(e){var t=e.results,n=(t||{}).userData;return{items:u(void 0===n?[]:n,{results:t}),widgetParams:r}},getRenderState:function(e,t){return so(so({},e),{},{queryRules:this.getWidgetRenderState(t)})},dispose:function(e){var r=e.helper,n=e.state;return t(),l?(r.removeListener("change",f),n.setQueryParameter("ruleContexts",h)):n}}}},connectVoiceSearch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,jo()),function(r){var n=r.searchAsYouSpeak,i=void 0!==n&&n,a=r.language,o=r.additionalQueryParameters,c=r.createVoiceSearchHelper,s=void 0===c?bo:c;return{$$type:"ais.voiceSearch",init:function(t){var r=t.instantSearchInstance;e(wo(wo({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(wo(wo({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},getRenderState:function(e,t){return wo(wo({},e),{},{voiceSearch:this.getWidgetRenderState(t)})},getWidgetRenderState:function(t){var n=this,c=t.helper,u=t.instantSearchInstance;this._refine||(this._refine=function(e){if(e!==c.state.query){var t=a?[a.split("-")[0]]:void 0;c.setQueryParameter("queryLanguages",t),"function"==typeof o&&c.setState(c.state.setQueryParameters(wo({ignorePlurals:!0,removeStopWords:!0,optionalWords:e},o({query:e})))),c.setQuery(e).search()}}),this._voiceSearchHelper||(this._voiceSearchHelper=s({searchAsYouSpeak:i,language:a,onQueryChange:function(e){return n._refine(e)},onStateChange:function(){e(wo(wo({},n.getWidgetRenderState(t)),{},{instantSearchInstance:u}),!1)}}));var f=this._voiceSearchHelper,l=f.isBrowserSupported,h=f.isListening,d=f.startListening,p=f.stopListening,g=f.getState;return{isBrowserSupported:l(),isListening:h(),toggleListening:function(){l()&&(h()?p():d())},voiceListeningState:g(),widgetParams:r}},dispose:function(e){var r=e.state;this._voiceSearchHelper.dispose(),t();var n=r;if("function"==typeof o){var i=o({query:""}),a=i?Object.keys(i).reduce(function(e,t){return e[t]=void 0,e},{}):{};n=r.setQueryParameters(wo({queryLanguages:void 0,ignorePlurals:void 0,removeStopWords:void 0,optionalWords:void 0},a))}return n.setQueryParameter("query",void 0)},getWidgetUiState:function(e,t){var r=t.searchParameters.query||"";return r?wo(wo({},e),{},{query:r}):e},getWidgetSearchParameters:function(e,t){return e.setQueryParameter("query",t.uiState.query||"")}}}},EXPERIMENTAL_connectAnswers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return te(e,xo()),function(r){var n=r||{},i=n.queryLanguages,a=n.attributesForPrediction,o=n.nbHits,c=void 0===o?1:o,s=n.renderDebounceTime,u=void 0===s?100:s,f=n.searchDebounceTime,l=void 0===f?100:f,h=n.escapeHTML,d=void 0===h||h,p=n.extraParameters,g=void 0===p?{}:p;if(!i||0===i.length)throw new Error(xo("The `queryLanguages` expects an array of strings."));var m,v=Dt(),y=[],b=!1,O=Tt(e,u);return{$$type:"ais.answers",init:function(t){var r=t.instantSearchInstance.client.initIndex(t.state.index);if(!Fo(r))throw new Error(xo("`algoliasearch` >= 4.8.0 required."));m=Tt(r.findAnswers,l),e(Ro(Ro({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var r=this,n=t.state.query;if(!n)return y=[],b=!1,void e(Ro(Ro({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1);y=[],b=!0,e(Ro(Ro({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1),v(m(n,i,Ro(Ro({},g),{},{nbHits:c,attributesForPrediction:a}))).then(function(e){if(e){d&&e.hits.length>0&&(e.hits=ke(e.hits));var n=wt(vt(e.hits,0,c),e.queryID);y=n,b=!1,O(Ro(Ro({},r.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)}})},getRenderState:function(e,t){return Ro(Ro({},e),{},{answers:this.getWidgetRenderState(t)})},getWidgetRenderState:function(){return{hits:y,isLoading:b,widgetParams:r}},dispose:function(e){var r=e.state;return t(),r},getWidgetSearchParameters:function(e){return e}}}},connectRelevantSort:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:re;return function(r){var n={};return{$$type:"ais.relevantSort",init:function(t){var r=t.instantSearchInstance;e(Ao(Ao({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var r=t.instantSearchInstance;e(Ao(Ao({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!1)},dispose:function(e){var r=e.state;return t(),r.setQueryParameter("relevancyStrictness",void 0)},getRenderState:function(e,t){return Ao(Ao({},e),{},{relevantSort:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,i=e.helper;n.refine||(n.refine=function(e){i.setQueryParameter("relevancyStrictness",e).search()});var a=(t||{}).appliedRelevancyStrictness,o=void 0!==a;return{isRelevantSorted:void 0!==a&&a>0,isVirtualReplica:o,canRefine:o,refine:n.refine,widgetParams:r}},getWidgetSearchParameters:function(e,t){var r;return e.setQueryParameter("relevancyStrictness",null!==(r=t.uiState.relevantSort)&&void 0!==r?r:e.relevancyStrictness)},getWidgetUiState:function(e,t){var r=t.searchParameters;return Ao(Ao({},e),{},{relevantSort:r.relevancyStrictness||e.relevantSort})}}}}})}();
