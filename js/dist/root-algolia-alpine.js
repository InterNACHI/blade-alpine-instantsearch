var BladeAlpineInstantSearch=function(){var e,t,n,r,i=Object.create,a=Object.defineProperty,o=Object.getPrototypeOf,s=Object.prototype.hasOwnProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertyDescriptor,l=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),f=l(e=>{function t(e,t){const n=Object.create(null),r=e.split(",");for(let e=0;e<r.length;e++)n[r[e]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}Object.defineProperty(e,"__esModule",{value:!0});var n={1:"TEXT",2:"CLASS",4:"STYLE",8:"PROPS",16:"FULL_PROPS",32:"HYDRATE_EVENTS",64:"STABLE_FRAGMENT",128:"KEYED_FRAGMENT",256:"UNKEYED_FRAGMENT",512:"NEED_PATCH",1024:"DYNAMIC_SLOTS",2048:"DEV_ROOT_FRAGMENT",[-1]:"HOISTED",[-2]:"BAIL"},r=t("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"),i="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=t(i),o=t(i+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),s=/[>/="'\u0009\u000a\u000c\u0020]/,c={},u=t("animation-iteration-count,border-image-outset,border-image-slice,border-image-width,box-flex,box-flex-group,box-ordinal-group,column-count,columns,flex,flex-grow,flex-positive,flex-shrink,flex-negative,flex-order,grid-row,grid-row-end,grid-row-span,grid-row-start,grid-column,grid-column-end,grid-column-span,grid-column-start,font-weight,line-clamp,line-height,opacity,order,orphans,tab-size,widows,z-index,zoom,fill-opacity,flood-opacity,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width"),l=t("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),f=/;(?![^(]*\))/g,h=/:(.+)/;function d(e){const t={};return e.split(f).forEach(e=>{if(e){const n=e.split(h);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}var p=t("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),g=t("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),m=t("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"),v=/["'&<>]/,y=/^-?>|<!--|-->|--!>|<!-$/g;function b(e,t){if(e===t)return!0;let n=I(e),r=I(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=x(e),r=x(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=b(e[r],t[r]);return n}(e,t);if(n=k(e),r=k(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!b(e[n],t[n]))return!1}}return String(e)===String(t)}var O,w=(e,t)=>E(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n])=>(e[`${t} =>`]=n,e),{})}:F(t)?{[`Set(${t.size})`]:[...t.values()]}:!k(t)||x(t)||C(t)?t:String(t),S=Object.freeze({}),j=Object.freeze([]),P=/^on[^a-z]/,R=Object.assign,_=Object.prototype.hasOwnProperty,x=Array.isArray,E=e=>"[object Map]"===N(e),F=e=>"[object Set]"===N(e),I=e=>e instanceof Date,A=e=>"function"==typeof e,T=e=>"string"==typeof e,k=e=>null!==e&&"object"==typeof e,D=Object.prototype.toString,N=e=>D.call(e),C=e=>"[object Object]"===N(e),M=t(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),L=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},W=/-(\w)/g,H=L(e=>e.replace(W,(e,t)=>t?t.toUpperCase():"")),U=/\B([A-Z])/g,q=L(e=>e.replace(U,"-$1").toLowerCase()),Q=L(e=>e.charAt(0).toUpperCase()+e.slice(1)),$=L(e=>e?`on${Q(e)}`:"");e.EMPTY_ARR=j,e.EMPTY_OBJ=S,e.NO=()=>!1,e.NOOP=()=>{},e.PatchFlagNames=n,e.babelParserDefaultPlugins=["bigInt","optionalChaining","nullishCoalescingOperator"],e.camelize=H,e.capitalize=Q,e.def=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},e.escapeHtml=function(e){const t=""+e,n=v.exec(t);if(!n)return t;let r,i,a="",o=0;for(i=n.index;i<t.length;i++){switch(t.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#39;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}o!==i&&(a+=t.substring(o,i)),o=i+1,a+=r}return o!==i?a+t.substring(o,i):a},e.escapeHtmlComment=function(e){return e.replace(y,"")},e.extend=R,e.generateCodeFrame=function(e,t=0,n=e.length){const r=e.split(/\r?\n/);let i=0;const a=[];for(let e=0;e<r.length;e++)if(i+=r[e].length+1,i>=t){for(let o=e-2;o<=e+2||n>i;o++){if(o<0||o>=r.length)continue;const s=o+1;a.push(`${s}${" ".repeat(Math.max(3-String(s).length,0))}|  ${r[o]}`);const c=r[o].length;if(o===e){const e=t-(i-c)+1,r=Math.max(1,n>i?c-e:n-t);a.push("   |  "+" ".repeat(e)+"^".repeat(r))}else if(o>e){if(n>i){const e=Math.max(Math.min(n-i,c),1);a.push("   |  "+"^".repeat(e))}i+=c+1}}break}return a.join("\n")},e.getGlobalThis=()=>O||(O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),e.hasChanged=(e,t)=>e!==t&&(e==e||t==t),e.hasOwn=(e,t)=>_.call(e,t),e.hyphenate=q,e.invokeArrayFns=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},e.isArray=x,e.isBooleanAttr=o,e.isDate=I,e.isFunction=A,e.isGloballyWhitelisted=r,e.isHTMLTag=p,e.isIntegerKey=e=>T(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,e.isKnownAttr=l,e.isMap=E,e.isModelListener=e=>e.startsWith("onUpdate:"),e.isNoUnitNumericStyleProp=u,e.isObject=k,e.isOn=e=>P.test(e),e.isPlainObject=C,e.isPromise=e=>k(e)&&A(e.then)&&A(e.catch),e.isReservedProp=M,e.isSSRSafeAttrName=function(e){if(c.hasOwnProperty(e))return c[e];const t=s.test(e);return t&&console.error(`unsafe attribute name: ${e}`),c[e]=!t},e.isSVGTag=g,e.isSet=F,e.isSpecialBooleanAttr=a,e.isString=T,e.isSymbol=e=>"symbol"==typeof e,e.isVoidTag=m,e.looseEqual=b,e.looseIndexOf=function(e,t){return e.findIndex(e=>b(e,t))},e.makeMap=t,e.normalizeClass=function e(t){let n="";if(T(t))n=t;else if(x(t))for(let r=0;r<t.length;r++){const i=e(t[r]);i&&(n+=i+" ")}else if(k(t))for(const e in t)t[e]&&(n+=e+" ");return n.trim()},e.normalizeStyle=function e(t){if(x(t)){const n={};for(let r=0;r<t.length;r++){const i=t[r],a=e(T(i)?d(i):i);if(a)for(const e in a)n[e]=a[e]}return n}if(k(t))return t},e.objectToString=D,e.parseStringStyle=d,e.propsToAttrMap={acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},e.remove=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},e.slotFlagsText={1:"STABLE",2:"DYNAMIC",3:"FORWARDED"},e.stringifyStyle=function(e){let t="";if(!e)return t;for(const n in e){const r=e[n],i=n.startsWith("--")?n:q(n);(T(r)||"number"==typeof r&&u(i))&&(t+=`${i}:${r};`)}return t},e.toDisplayString=e=>null==e?"":k(e)?JSON.stringify(e,w,2):String(e),e.toHandlerKey=$,e.toNumber=e=>{const t=parseFloat(e);return isNaN(t)?e:t},e.toRawType=e=>N(e).slice(8,-1),e.toTypeString=N}),h=l((e,t)=>{t.exports=f()}),d=l(e=>{Object.defineProperty(e,"__esModule",{value:!0});var t,n=h(),r=new WeakMap,i=[],a=Symbol("iterate"),o=Symbol("Map key iterate");function s(e,r=n.EMPTY_OBJ){(function(e){return e&&!0===e._isEffect})(e)&&(e=e.raw);const a=function(e,n){const r=function(){if(!r.active)return e();if(!i.includes(r)){u(r);try{return p(),i.push(r),t=r,e()}finally{i.pop(),g(),t=i[i.length-1]}}};return r.id=c++,r.allowRecurse=!!n.allowRecurse,r._isEffect=!0,r.active=!0,r.raw=e,r.deps=[],r.options=n,r}(e,r);return r.lazy||a(),a}var c=0;function u(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var l=!0,f=[];function d(){f.push(l),l=!1}function p(){f.push(l),l=!0}function g(){const e=f.pop();l=void 0===e||e}function m(e,n,i){if(!l||void 0===t)return;let a=r.get(e);a||r.set(e,a=new Map);let o=a.get(i);o||a.set(i,o=new Set),o.has(t)||(o.add(t),t.deps.push(o),t.options.onTrack&&t.options.onTrack({effect:t,target:e,type:n,key:i}))}function v(e,i,s,c,u,l){const f=r.get(e);if(!f)return;const h=new Set,d=e=>{e&&e.forEach(e=>{(e!==t||e.allowRecurse)&&h.add(e)})};if("clear"===i)f.forEach(d);else if("length"===s&&n.isArray(e))f.forEach((e,t)=>{("length"===t||t>=c)&&d(e)});else switch(void 0!==s&&d(f.get(s)),i){case"add":n.isArray(e)?n.isIntegerKey(s)&&d(f.get("length")):(d(f.get(a)),n.isMap(e)&&d(f.get(o)));break;case"delete":n.isArray(e)||(d(f.get(a)),n.isMap(e)&&d(f.get(o)));break;case"set":n.isMap(e)&&d(f.get(a))}h.forEach(t=>{t.options.onTrigger&&t.options.onTrigger({effect:t,target:e,key:s,type:i,newValue:c,oldValue:u,oldTarget:l}),t.options.scheduler?t.options.scheduler(t):t()})}var y=n.makeMap("__proto__,__v_isRef,__isVue"),b=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(n.isSymbol)),O=R(),w=R(!1,!0),S=R(!0),j=R(!0,!0),P={};function R(e=!1,t=!1){return function(r,i,a){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_raw"===i&&a===(e?t?ie:re:t?ne:te).get(r))return r;const o=n.isArray(r);if(!e&&o&&n.hasOwn(P,i))return Reflect.get(P,i,a);const s=Reflect.get(r,i,a);return(n.isSymbol(i)?b.has(i):y(i))?s:(e||m(r,"get",i),t?s:de(s)?o&&n.isIntegerKey(i)?s:s.value:n.isObject(s)?e?oe(s):ae(s):s)}}function _(e=!1){return function(t,r,i,a){let o=t[r];if(!e&&(i=fe(i),o=fe(o),!n.isArray(t)&&de(o)&&!de(i)))return o.value=i,!0;const s=n.isArray(t)&&n.isIntegerKey(r)?Number(r)<t.length:n.hasOwn(t,r),c=Reflect.set(t,r,i,a);return t===fe(a)&&(s?n.hasChanged(i,o)&&v(t,"set",r,i,o):v(t,"add",r,i)),c}}["includes","indexOf","lastIndexOf"].forEach(e=>{const t=Array.prototype[e];P[e]=function(...e){const n=fe(this);for(let e=0,t=this.length;e<t;e++)m(n,"get",e+"");const r=t.apply(n,e);return-1===r||!1===r?t.apply(n,e.map(fe)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{const t=Array.prototype[e];P[e]=function(...e){d();const n=t.apply(this,e);return g(),n}});var x={get:O,set:_(),deleteProperty:function(e,t){const r=n.hasOwn(e,t),i=e[t],a=Reflect.deleteProperty(e,t);return a&&r&&v(e,"delete",t,void 0,i),a},has:function(e,t){const r=Reflect.has(e,t);return n.isSymbol(t)&&b.has(t)||m(e,"has",t),r},ownKeys:function(e){return m(e,"iterate",n.isArray(e)?"length":a),Reflect.ownKeys(e)}},E={get:S,set:(e,t)=>(console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0),deleteProperty:(e,t)=>(console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0)},F=n.extend({},x,{get:w,set:_(!0)}),I=n.extend({},E,{get:j}),A=e=>n.isObject(e)?ae(e):e,T=e=>n.isObject(e)?oe(e):e,k=e=>e,D=e=>Reflect.getPrototypeOf(e);function N(e,t,n=!1,r=!1){const i=fe(e=e.__v_raw),a=fe(t);t!==a&&!n&&m(i,"get",t),!n&&m(i,"get",a);const{has:o}=D(i),s=r?k:n?T:A;return o.call(i,t)?s(e.get(t)):o.call(i,a)?s(e.get(a)):void(e!==i&&e.get(t))}function C(e,t=!1){const n=this.__v_raw,r=fe(n),i=fe(e);return e!==i&&!t&&m(r,"has",e),!t&&m(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function M(e,t=!1){return e=e.__v_raw,!t&&m(fe(e),"iterate",a),Reflect.get(e,"size",e)}function L(e){e=fe(e);const t=fe(this);return D(t).has.call(t,e)||(t.add(e),v(t,"add",e,e)),this}function W(e,t){t=fe(t);const r=fe(this),{has:i,get:a}=D(r);let o=i.call(r,e);o?ee(r,i,e):(e=fe(e),o=i.call(r,e));const s=a.call(r,e);return r.set(e,t),o?n.hasChanged(t,s)&&v(r,"set",e,t,s):v(r,"add",e,t),this}function H(e){const t=fe(this),{has:n,get:r}=D(t);let i=n.call(t,e);i?ee(t,n,e):(e=fe(e),i=n.call(t,e));const a=r?r.call(t,e):void 0,o=t.delete(e);return i&&v(t,"delete",e,void 0,a),o}function U(){const e=fe(this),t=0!==e.size,r=n.isMap(e)?new Map(e):new Set(e),i=e.clear();return t&&v(e,"clear",void 0,void 0,r),i}function q(e,t){return function(n,r){const i=this,o=i.__v_raw,s=fe(o),c=t?k:e?T:A;return!e&&m(s,"iterate",a),o.forEach((e,t)=>n.call(r,c(e),c(t),i))}}function Q(e,t,r){return function(...i){const s=this.__v_raw,c=fe(s),u=n.isMap(c),l="entries"===e||e===Symbol.iterator&&u,f="keys"===e&&u,h=s[e](...i),d=r?k:t?T:A;return!t&&m(c,"iterate",f?o:a),{next(){const{value:e,done:t}=h.next();return t?{value:e,done:t}:{value:l?[d(e[0]),d(e[1])]:d(e),done:t}},[Symbol.iterator](){return this}}}}function $(e){return function(...t){{const r=t[0]?`on key "${t[0]}" `:"";console.warn(`${n.capitalize(e)} operation ${r}failed: target is readonly.`,fe(this))}return"delete"!==e&&this}}var B={get(e){return N(this,e)},get size(){return M(this)},has:C,add:L,set:W,delete:H,clear:U,forEach:q(!1,!1)},V={get(e){return N(this,e,!1,!0)},get size(){return M(this)},has:C,add:L,set:W,delete:H,clear:U,forEach:q(!1,!0)},z={get(e){return N(this,e,!0)},get size(){return M(this,!0)},has(e){return C.call(this,e,!0)},add:$("add"),set:$("set"),delete:$("delete"),clear:$("clear"),forEach:q(!0,!1)},J={get(e){return N(this,e,!0,!0)},get size(){return M(this,!0)},has(e){return C.call(this,e,!0)},add:$("add"),set:$("set"),delete:$("delete"),clear:$("clear"),forEach:q(!0,!0)};function K(e,t){const r=t?e?J:V:e?z:B;return(t,i,a)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get(n.hasOwn(r,i)&&i in t?r:t,i,a)}["keys","values","entries",Symbol.iterator].forEach(e=>{B[e]=Q(e,!1,!1),z[e]=Q(e,!0,!1),V[e]=Q(e,!1,!0),J[e]=Q(e,!0,!0)});var Y={get:K(!1,!1)},G={get:K(!1,!0)},Z={get:K(!0,!1)},X={get:K(!0,!0)};function ee(e,t,r){const i=fe(r);if(i!==r&&t.call(e,i)){const t=n.toRawType(e);console.warn(`Reactive ${t} contains both the raw and reactive versions of the same object${"Map"===t?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap;function ae(e){return e&&e.__v_isReadonly?e:se(e,!1,x,Y,te)}function oe(e){return se(e,!0,E,Z,re)}function se(e,t,r,i,a){if(!n.isObject(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const o=a.get(e);if(o)return o;const s=(c=e).__v_skip||!Object.isExtensible(c)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(n.toRawType(c));var c;if(0===s)return e;const u=new Proxy(e,2===s?i:r);return a.set(e,u),u}function ce(e){return ue(e)?ce(e.__v_raw):!(!e||!e.__v_isReactive)}function ue(e){return!(!e||!e.__v_isReadonly)}function le(e){return ce(e)||ue(e)}function fe(e){return e&&fe(e.__v_raw)||e}var he=e=>n.isObject(e)?ae(e):e;function de(e){return Boolean(e&&!0===e.__v_isRef)}function pe(e,t=!1){return de(e)?e:new class{constructor(e,t=!1){this._rawValue=e,this._shallow=t,this.__v_isRef=!0,this._value=t?e:he(e)}get value(){return m(fe(this),"get","value"),this._value}set value(e){n.hasChanged(fe(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:he(e),v(fe(this),"set","value",e))}}(e,t)}function ge(e){return de(e)?e.value:e}var me={get:(e,t,n)=>ge(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return de(i)&&!de(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function ve(e,t){return de(e[t])?e[t]:new class{constructor(e,t){this._object=e,this._key=t,this.__v_isRef=!0}get value(){return this._object[this._key]}set value(e){this._object[this._key]=e}}(e,t)}e.ITERATE_KEY=a,e.computed=function(e){let t,r;return n.isFunction(e)?(t=e,r=()=>{console.warn("Write operation failed: computed value is readonly")}):(t=e.get,r=e.set),new class{constructor(e,t,n){this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=s(e,{lazy:!0,scheduler:()=>{this._dirty||(this._dirty=!0,v(fe(this),"set","value"))}}),this.__v_isReadonly=n}get value(){const e=fe(this);return e._dirty&&(e._value=this.effect(),e._dirty=!1),m(e,"get","value"),e._value}set value(e){this._setter(e)}}(t,r,n.isFunction(e)||!e.set)},e.customRef=function(e){return new class{constructor(e){this.__v_isRef=!0;const{get:t,set:n}=e(()=>m(this,"get","value"),()=>v(this,"set","value"));this._get=t,this._set=n}get value(){return this._get()}set value(e){this._set(e)}}(e)},e.effect=s,e.enableTracking=p,e.isProxy=le,e.isReactive=ce,e.isReadonly=ue,e.isRef=de,e.markRaw=function(e){return n.def(e,"__v_skip",!0),e},e.pauseTracking=d,e.proxyRefs=function(e){return ce(e)?e:new Proxy(e,me)},e.reactive=ae,e.readonly=oe,e.ref=function(e){return pe(e)},e.resetTracking=g,e.shallowReactive=function(e){return se(e,!1,F,G,ne)},e.shallowReadonly=function(e){return se(e,!0,I,X,ie)},e.shallowRef=function(e){return pe(e,!0)},e.stop=function(e){e.active&&(u(e),e.options.onStop&&e.options.onStop(),e.active=!1)},e.toRaw=fe,e.toRef=ve,e.toRefs=function(e){le(e)||console.warn("toRefs() expects a reactive object but received a plain one.");const t=n.isArray(e)?new Array(e.length):{};for(const n in e)t[n]=ve(e,n);return t},e.track=m,e.trigger=v,e.triggerRef=function(e){v(fe(e),"set","value",e.value)},e.unref=ge}),p=l((e,t)=>{t.exports=d()}),g=!1,m=!1,v=[];function y(e){const t=v.indexOf(e);-1!==t&&v.splice(t,1)}function b(){g=!1,m=!0;for(let e=0;e<v.length;e++)v[e]();v.length=0,m=!1}var O=!0;function w(e){t=e}var S=[],j=[],P=[];function R(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,r])=>{(void 0===t||t.includes(n))&&(r.forEach(e=>e()),delete e._x_attributeCleanups[n])})}var _=new MutationObserver(D),x=!1;function E(){_.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),x=!0}var F=[],I=!1;function A(e){if(!x)return e();(F=F.concat(_.takeRecords())).length&&!I&&(I=!0,queueMicrotask(()=>{D(F),F.length=0,I=!1})),_.disconnect(),x=!1;let t=e();return E(),t}var T=!1,k=[];function D(e){if(T)return void(k=k.concat(e));let t=[],n=[],r=new Map,i=new Map;for(let a=0;a<e.length;a++)if(!e[a].target._x_ignoreMutationObserver&&("childList"===e[a].type&&(e[a].addedNodes.forEach(e=>1===e.nodeType&&t.push(e)),e[a].removedNodes.forEach(e=>1===e.nodeType&&n.push(e))),"attributes"===e[a].type)){let t=e[a].target,n=e[a].attributeName,o=e[a].oldValue,s=()=>{r.has(t)||r.set(t,[]),r.get(t).push({name:n,value:t.getAttribute(n)})},c=()=>{i.has(t)||i.set(t,[]),i.get(t).push(n)};t.hasAttribute(n)&&null===o?s():t.hasAttribute(n)?(c(),s()):c()}i.forEach((e,t)=>{R(t,e)}),r.forEach((e,t)=>{S.forEach(n=>n(t,e))});for(let e of n)t.includes(e)||j.forEach(t=>t(e));t.forEach(e=>{e._x_ignoreSelf=!0,e._x_ignore=!0});for(let e of t)n.includes(e)||e.isConnected&&(delete e._x_ignoreSelf,delete e._x_ignore,P.forEach(t=>t(e)),e._x_ignore=!0,e._x_ignoreSelf=!0);t.forEach(e=>{delete e._x_ignoreSelf,delete e._x_ignore}),t=null,n=null,r=null,i=null}function N(e){return W(L(e))}function C(e,t,n){return e._x_dataStack=[t,...L(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(e=>e!==t)}}function M(e,t){let n=e._x_dataStack[0];Object.entries(t).forEach(([e,t])=>{n[e]=t})}function L(e){return e._x_dataStack?e._x_dataStack:"function"==typeof ShadowRoot&&e instanceof ShadowRoot?L(e.host):e.parentNode?L(e.parentNode):[]}function W(e){let t=new Proxy({},{ownKeys:()=>Array.from(new Set(e.flatMap(e=>Object.keys(e)))),has:(t,n)=>e.some(e=>e.hasOwnProperty(n)),get:(n,r)=>(e.find(e=>{if(e.hasOwnProperty(r)){let n=Object.getOwnPropertyDescriptor(e,r);if(n.get&&n.get._x_alreadyBound||n.set&&n.set._x_alreadyBound)return!0;if((n.get||n.set)&&n.enumerable){let i=n.get,a=n.set,o=n;i=i&&i.bind(t),a=a&&a.bind(t),i&&(i._x_alreadyBound=!0),a&&(a._x_alreadyBound=!0),Object.defineProperty(e,r,{...o,get:i,set:a})}return!0}return!1})||{})[r],set:(t,n,r)=>{let i=e.find(e=>e.hasOwnProperty(n));return i?i[n]=r:e[e.length-1][n]=r,!0}});return t}function H(e){let t=(n,r="")=>{Object.entries(Object.getOwnPropertyDescriptors(n)).forEach(([i,{value:a,enumerable:o}])=>{if(!1===o||void 0===a)return;let s=""===r?i:`${r}.${i}`;var c;"object"==typeof a&&null!==a&&a._x_interceptor?n[i]=a.initialize(e,s,i):"object"!=typeof(c=a)||Array.isArray(c)||null===c||a===n||a instanceof Element||t(a,s)})};return t(e)}function U(e,t=(()=>{})){let n={initialValue:void 0,_x_interceptor:!0,initialize(t,n,r){return e(this.initialValue,()=>function(e,t){return t.split(".").reduce((e,t)=>e[t],e)}(t,n),e=>q(t,n,e),n,r)}};return t(n),e=>{if("object"==typeof e&&null!==e&&e._x_interceptor){let t=n.initialize.bind(n);n.initialize=(r,i,a)=>{let o=e.initialize(r,i,a);return n.initialValue=o,t(r,i,a)}}else n.initialValue=e;return n}}function q(e,t,n){if("string"==typeof t&&(t=t.split(".")),1!==t.length){if(0===t.length)throw error;return e[t[0]]||(e[t[0]]={}),q(e[t[0]],t.slice(1),n)}e[t[0]]=n}var Q={};function $(e,t){Q[e]=t}function B(e,t){return Object.entries(Q).forEach(([n,r])=>{Object.defineProperty(e,`$${n}`,{get:()=>r(t,{Alpine:et,interceptor:U}),enumerable:!1})}),e}function V(e,t,n,...r){try{return n(...r)}catch(n){z(n,e,t)}}function z(e,t,n){Object.assign(e,{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}\n\n${n?'Expression: "'+n+'"\n\n':""}`,t),setTimeout(()=>{throw e},0)}function J(e,t,n={}){let r;return K(e,t)(e=>r=e,n),r}function K(...e){return Y(...e)}var Y=G;function G(e,t){let n={};B(n,e);let r=[n,...L(e)];if("function"==typeof t)return function(e,t){return(n=(()=>{}),{scope:r={},params:i=[]}={})=>{X(n,t.apply(W([r,...e]),i))}}(r,t);let i=function(e,t,n){let r=function(e,t){if(Z[e])return Z[e];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e)||/^(let|const)\s/.test(e)?`(() => { ${e} })()`:e,i=(()=>{try{return new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`)}catch(n){return z(n,t,e),Promise.resolve()}})();return Z[e]=i,i}(t,n);return(i=(()=>{}),{scope:a={},params:o=[]}={})=>{r.result=void 0,r.finished=!1;let s=W([a,...e]);if("function"==typeof r){let e=r(r,s).catch(e=>z(e,n,t));r.finished?(X(i,r.result,s,o,n),r.result=void 0):e.then(e=>{X(i,e,s,o,n)}).catch(e=>z(e,n,t)).finally(()=>r.result=void 0)}}}(r,t,e);return V.bind(null,e,t,i)}var Z={};function X(e,t,n,r,i){if("function"==typeof t){let a=t.apply(n,r);a instanceof Promise?a.then(t=>X(e,t,n,r)).catch(e=>z(e,i,t)):e(a)}else e(t)}var ee="x-";function te(e=""){return ee+e}var ne={};function re(e,t){ne[e]=t}function ie(e,r,i){let a={};return Array.from(r).map(ue((e,t)=>a[e]=t)).filter(he).map(function(e,t){return({name:n,value:r})=>{let i=n.match(de()),a=n.match(/:([a-zA-Z0-9\-:]+)/),o=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],s=t||e[n]||n;return{type:i?i[1]:null,value:a?a[1]:null,modifiers:o.map(e=>e.replace(".","")),expression:r,original:s}}}(a,i)).sort(me).map(r=>function(e,r){let i=ne[r.type]||(()=>{}),a=[],[o,s]=function(e){let r=()=>{};return[i=>{let a=t(i);e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(e=>e())}),e._x_effects.add(a),r=()=>{void 0!==a&&(e._x_effects.delete(a),n(a))}},()=>{r()}]}(e);a.push(s);let c={Alpine:et,effect:o,cleanup:e=>a.push(e),evaluateLater:K.bind(K,e),evaluate:J.bind(J,e)},u=()=>a.forEach(e=>e());!function(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}(e,r.original,u);let l=()=>{e._x_ignore||e._x_ignoreSelf||(i.inline&&i.inline(e,r,c),i=i.bind(i,e,r,c),ae?oe.get(se).push(i):i())};return l.runCleanups=u,l}(e,r))}var ae=!1,oe=new Map,se=Symbol(),ce=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r});function ue(e=(()=>{})){return({name:t,value:n})=>{let{name:r,value:i}=le.reduce((e,t)=>t(e),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:i}}}var le=[];function fe(e){le.push(e)}function he({name:e}){return de().test(e)}var de=()=>new RegExp(`^${ee}([^:^.]+)\\b`),pe="DEFAULT",ge=["ignore","ref","data","id","bind","init","for","model","modelable","transition","show","if",pe,"teleport","element"];function me(e,t){let n=-1===ge.indexOf(e.type)?pe:e.type,r=-1===ge.indexOf(t.type)?pe:t.type;return ge.indexOf(n)-ge.indexOf(r)}function ve(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}var ye=[],be=!1;function Oe(e){ye.push(e),queueMicrotask(()=>{be||setTimeout(()=>{we()})})}function we(){for(be=!1;ye.length;)ye.shift()()}function Se(e,t){if("function"==typeof ShadowRoot&&e instanceof ShadowRoot)return void Array.from(e.children).forEach(e=>Se(e,t));let n=!1;if(t(e,()=>n=!0),n)return;let r=e.firstElementChild;for(;r;)Se(r,t),r=r.nextElementSibling}function je(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var Pe=[],Re=[];function _e(){return Pe.map(e=>e())}function xe(){return Pe.concat(Re).map(e=>e())}function Ee(e){Pe.push(e)}function Fe(e){Re.push(e)}function Ie(e,t=!1){return Ae(e,e=>{if((t?xe():_e()).some(t=>e.matches(t)))return!0})}function Ae(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return Ae(e.parentElement,t)}}function Te(e,t=Se){!function(n){ae=!0;let r=Symbol();se=r,oe.set(r,[]),t(e,(e,t)=>{ie(e,e.attributes).forEach(e=>e()),e._x_ignore&&t()}),ae=!1,(()=>{for(;oe.get(r).length;)oe.get(r).shift()();oe.delete(r)})()}()}function ke(e,t){return Array.isArray(t)?De(e,t.join(" ")):"object"==typeof t&&null!==t?function(e,t){let n=e=>e.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([e,t])=>!!t&&n(e)).filter(Boolean),i=Object.entries(t).flatMap(([e,t])=>!t&&n(e)).filter(Boolean),a=[],o=[];return i.forEach(t=>{e.classList.contains(t)&&(e.classList.remove(t),o.push(t))}),r.forEach(t=>{e.classList.contains(t)||(e.classList.add(t),a.push(t))}),()=>{o.forEach(t=>e.classList.add(t)),a.forEach(t=>e.classList.remove(t))}}(e,t):"function"==typeof t?ke(e,t()):De(e,t)}function De(e,t){return t=!0===t?t="":t||"",n=t.split(" ").filter(t=>!e.classList.contains(t)).filter(Boolean),e.classList.add(...n),()=>{e.classList.remove(...n)};var n}function Ne(e,t){return"object"==typeof t&&null!==t?function(e,t){let n={};return Object.entries(t).forEach(([t,r])=>{n[t]=e.style[t],t.startsWith("--")||(t=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()),e.style.setProperty(t,r)}),setTimeout(()=>{0===e.style.length&&e.removeAttribute("style")}),()=>{Ne(e,n)}}(e,t):function(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}(e,t)}function Ce(e,t=(()=>{})){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}function Me(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(n=(()=>{}),r=(()=>{})){We(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},n,r)},out(n=(()=>{}),r=(()=>{})){We(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},n,r)}})}function Le(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:Le(t)}function We(e,t,{during:n,start:r,end:i}={},a=(()=>{}),o=(()=>{})){if(e._x_transitioning&&e._x_transitioning.cancel(),0===Object.keys(n).length&&0===Object.keys(r).length&&0===Object.keys(i).length)return a(),void o();let s,c,u;!function(e,t){let n,r,i,a=Ce(()=>{A(()=>{n=!0,r||t.before(),i||(t.end(),we()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(e){this.beforeCancels.push(e)},cancel:Ce(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();a()}),finish:a},A(()=>{t.start(),t.during()}),be=!0,requestAnimationFrame(()=>{if(n)return;let a=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s","")),o=1e3*Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""));0===a&&(a=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),A(()=>{t.before()}),r=!0,requestAnimationFrame(()=>{n||(A(()=>{t.end()}),we(),setTimeout(e._x_transitioning.finish,a+o),i=!0)})})}(e,{start(){s=t(e,r)},during(){c=t(e,n)},before:a,end(){s(),u=t(e,i)},after:o,cleanup(){c(),u()}})}function He(e,t,n){if(-1===e.indexOf(t))return n;const r=e[e.indexOf(t)+1];if(!r)return n;if("scale"===t&&isNaN(r))return n;if("duration"===t){let e=r.match(/([0-9]+)ms/);if(e)return e[1]}return"origin"===t&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}re("transition",(e,{value:t,modifiers:n,expression:r},{evaluate:i})=>{"function"==typeof r&&(r=i(r)),r?function(e,t,n){Me(e,ke,""),{enter:t=>{e._x_transition.enter.during=t},"enter-start":t=>{e._x_transition.enter.start=t},"enter-end":t=>{e._x_transition.enter.end=t},leave:t=>{e._x_transition.leave.during=t},"leave-start":t=>{e._x_transition.leave.start=t},"leave-end":t=>{e._x_transition.leave.end=t}}[n](t)}(e,r,t):function(e,t,n){Me(e,Ne);let r=!t.includes("in")&&!t.includes("out")&&!n,i=r||t.includes("in")||["enter"].includes(n),a=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter((e,n)=>n<t.indexOf("out"))),t.includes("out")&&!r&&(t=t.filter((e,n)=>n>t.indexOf("out")));let o=!t.includes("opacity")&&!t.includes("scale"),s=o||t.includes("opacity")?0:1,c=o||t.includes("scale")?He(t,"scale",95)/100:1,u=He(t,"delay",0),l=He(t,"origin","center"),f="opacity, transform",h=He(t,"duration",150)/1e3,d=He(t,"duration",75)/1e3,p="cubic-bezier(0.4, 0.0, 0.2, 1)";i&&(e._x_transition.enter.during={transformOrigin:l,transitionDelay:u,transitionProperty:f,transitionDuration:`${h}s`,transitionTimingFunction:p},e._x_transition.enter.start={opacity:s,transform:`scale(${c})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),a&&(e._x_transition.leave.during={transformOrigin:l,transitionDelay:u,transitionProperty:f,transitionDuration:`${d}s`,transitionTimingFunction:p},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:s,transform:`scale(${c})`})}(e,n,t)}),window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){let i=()=>{"visible"===document.visibilityState?requestAnimationFrame(n):setTimeout(n)};t?e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):i():e._x_transition?e._x_transition.in(n):i():(e._x_hidePromise=e._x_transition?new Promise((t,n)=>{e._x_transition.out(()=>{},()=>t(r)),e._x_transitioning.beforeCancel(()=>n({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let t=Le(e);t?(t._x_hideChildren||(t._x_hideChildren=[]),t._x_hideChildren.push(e)):queueMicrotask(()=>{let t=e=>{let n=Promise.all([e._x_hidePromise,...(e._x_hideChildren||[]).map(t)]).then(([e])=>e());return delete e._x_hidePromise,delete e._x_hideChildren,n};t(e).catch(e=>{if(!e.isFromCancelledTransition)throw e})})}))};var Ue=!1;function qe(e,t=(()=>{})){return(...n)=>Ue?t(...n):e(...n)}function Qe(t,n,r,i=[]){switch(t._x_bindings||(t._x_bindings=e({})),t._x_bindings[n]=r,n=i.includes("camel")?n.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase()):n){case"value":!function(e,t){if("radio"===e.type)void 0===e.attributes.value&&(e.value=t),window.fromModel&&(e.checked=$e(e.value,t));else if("checkbox"===e.type)Number.isInteger(t)?e.value=t:Number.isInteger(t)||Array.isArray(t)||"boolean"==typeof t||[null,void 0].includes(t)?e.checked=Array.isArray(t)?t.some(t=>$e(t,e.value)):!!t:e.value=String(t);else if("SELECT"===e.tagName)!function(e,t){const n=[].concat(t).map(e=>e+"");Array.from(e.options).forEach(e=>{e.selected=n.includes(e.value)})}(e,t);else{if(e.value===t)return;e.value=t}}(t,r);break;case"style":!function(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=Ne(e,t)}(t,r);break;case"class":!function(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=ke(e,t)}(t,r);break;default:!function(e,t,n){[null,void 0,!1].includes(n)&&function(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}(t)?e.removeAttribute(t):(Be(t)&&(n=t),function(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}(e,t,n))}(t,n,r)}}function $e(e,t){return e==t}function Be(e){return["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function Ve(e,t){var n;return function(){var r=this,i=arguments,a=function(){n=null,e.apply(r,i)};clearTimeout(n),n=setTimeout(a,t)}}function ze(e,t){let n;return function(){let r=this,i=arguments;n||(e.apply(r,i),n=!0,setTimeout(()=>n=!1,t))}}var Je,Ke,Ye={},Ge=!1,Ze={},Xe={},et={get reactive(){return e},get release(){return n},get effect(){return t},get raw(){return r},version:"3.9.0",flushAndStopDeferringMutations:function(){T=!1,D(k),k=[]},disableEffectScheduling:function(e){O=!1,e(),O=!0},setReactivityEngine:function(i){e=i.reactive,n=i.release,t=e=>i.effect(e,{scheduler:e=>{O?function(e){var t;v.includes(t=e)||v.push(t),m||g||(g=!0,queueMicrotask(b))}(e):e()}}),r=i.raw},closestDataStack:L,skipDuringClone:qe,addRootSelector:Ee,addInitSelector:Fe,addScopeToNode:C,deferMutations:function(){T=!0},mapAttributes:fe,evaluateLater:K,setEvaluator:function(e){Y=e},mergeProxies:W,findClosest:Ae,closestRoot:Ie,interceptor:U,transition:We,setStyles:Ne,mutateDom:A,directive:re,throttle:ze,debounce:Ve,evaluate:J,initTree:Te,nextTick:Oe,prefixed:te,prefix:function(e){ee=e},plugin:function(e){e(et)},magic:$,store:function(t,n){if(Ge||(Ye=e(Ye),Ge=!0),void 0===n)return Ye[t];Ye[t]=n,"object"==typeof n&&null!==n&&n.hasOwnProperty("init")&&"function"==typeof n.init&&Ye[t].init(),H(Ye[t])},start:function(){document.body||je("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),ve(document,"alpine:init"),ve(document,"alpine:initializing"),E(),P.push(e=>Te(e,Se)),j.push(e=>{Se(e,e=>R(e))}),S.push((e,t)=>{ie(e,t).forEach(e=>e())}),Array.from(document.querySelectorAll(xe())).filter(e=>!Ie(e.parentElement,!0)).forEach(e=>{Te(e)}),ve(document,"alpine:initialized")},clone:function(e,r){r._x_dataStack||(r._x_dataStack=e._x_dataStack),Ue=!0,function(e){let i=t;w((e,t)=>{let r=i(e);return n(r),()=>{}}),function(e){let t=!1;Te(e,(e,n)=>{Se(e,(e,r)=>{if(t&&function(e){return _e().some(t=>e.matches(t))}(e))return r();t=!0,n(e,r)})})}(r),w(i)}(),Ue=!1},bound:function(e,t,n){if(e._x_bindings&&void 0!==e._x_bindings[t])return e._x_bindings[t];let r=e.getAttribute(t);return null===r?"function"==typeof n?n():n:Be(t)?!![t,"true"].includes(r):""===r||r},$data:N,data:function(e,t){Xe[e]=t},bind:function(e,t){Ze[e]="function"!=typeof t?()=>t:t}},tt=(Je=p(),((e,t,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let r of c(t))s.call(e,r)||"default"===r||a(e,r,{get:()=>t[r],enumerable:!(n=u(t,r))||n.enumerable});return e})((Ke=a(null!=Je?i(o(Je)):{},"default",Je&&Je.__esModule&&"default"in Je?{get:()=>Je.default,enumerable:!0}:{value:Je,enumerable:!0}),a(Ke,"__esModule",{value:!0})),Je));$("nextTick",()=>Oe),$("dispatch",e=>ve.bind(ve,e)),$("watch",e=>(n,r)=>{let i,a=K(e,n),o=!0;t(()=>a(e=>{JSON.stringify(e),o?i=e:queueMicrotask(()=>{r(e,i),i=e}),o=!1}))}),$("store",function(){return Ye}),$("data",e=>N(e)),$("root",e=>Ie(e)),$("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=W(function(e){let t=[],n=e;for(;n;)n._x_refs&&t.push(n._x_refs),n=n.parentNode;return t}(e))),e._x_refs_proxy));var nt={};function rt(e){return nt[e]||(nt[e]=0),++nt[e]}$("id",e=>(t,n=null)=>{let r=function(e,t){return Ae(e,e=>{if(e._x_ids&&e._x_ids[t])return!0})}(e,t),i=r?r._x_ids[t]:rt(t);return n?`${t}-${i}-${n}`:`${t}-${i}`}),$("el",e=>e),re("modelable",(e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t),a=()=>{let e;return i(t=>e=t),e},o=r(`${t} = __placeholder`),s=e=>o(()=>{},{scope:{__placeholder:e}}),c=a();e._x_modelable_hook&&(c=e._x_modelable_hook(c)),s(c),queueMicrotask(()=>{if(!e._x_model)return;let t=e._x_model.get,r=e._x_model.set;n(()=>s(t())),n(()=>r(a()))})}),re("teleport",(e,{expression:t},{cleanup:n})=>{"template"!==e.tagName.toLowerCase()&&je("x-teleport can only be used on a <template> tag",e);let r=document.querySelector(t);r||je(`Cannot find x-teleport element for selector: "${t}"`);let i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e._x_forwardEvents&&e._x_forwardEvents.forEach(t=>{i.addEventListener(t,t=>{t.stopPropagation(),e.dispatchEvent(new t.constructor(t.type,t))})}),C(i,{},e),A(()=>{r.appendChild(i),Te(i),i._x_ignore=!0}),n(()=>i.remove())});var it=()=>{};function at(e,t,n,r){let i=e,a=e=>r(e),o={},s=(e,t)=>n=>t(e,n);if(n.includes("dot")&&(t=t.replace(/-/g,".")),n.includes("camel")&&(t=t.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())),n.includes("passive")&&(o.passive=!0),n.includes("capture")&&(o.capture=!0),n.includes("window")&&(i=window),n.includes("document")&&(i=document),n.includes("prevent")&&(a=s(a,(e,t)=>{t.preventDefault(),e(t)})),n.includes("stop")&&(a=s(a,(e,t)=>{t.stopPropagation(),e(t)})),n.includes("self")&&(a=s(a,(t,n)=>{n.target===e&&t(n)})),(n.includes("away")||n.includes("outside"))&&(i=document,a=s(a,(t,n)=>{e.contains(n.target)||e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(n)})),a=s(a,(e,r)=>{(function(e){return["keydown","keyup"].includes(e)})(t)&&function(e,t){let n=t.filter(e=>!["window","document","prevent","stop","once"].includes(e));if(n.includes("debounce")){let e=n.indexOf("debounce");n.splice(e,ot((n[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===n.length)return!1;if(1===n.length&&st(e.key).includes(n[0]))return!1;const r=["ctrl","shift","alt","meta","cmd","super"].filter(e=>n.includes(e));return n=n.filter(e=>!r.includes(e)),!(r.length>0&&r.filter(t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`])).length===r.length&&st(e.key).includes(n[0]))}(r,n)||e(r)}),n.includes("debounce")){let e=n[n.indexOf("debounce")+1]||"invalid-wait",t=ot(e.split("ms")[0])?Number(e.split("ms")[0]):250;a=Ve(a,t)}if(n.includes("throttle")){let e=n[n.indexOf("throttle")+1]||"invalid-wait",t=ot(e.split("ms")[0])?Number(e.split("ms")[0]):250;a=ze(a,t)}return n.includes("once")&&(a=s(a,(e,n)=>{e(n),i.removeEventListener(t,a,o)})),i.addEventListener(t,a,o),()=>{i.removeEventListener(t,a,o)}}function ot(e){return!Array.isArray(e)&&!isNaN(e)}function st(e){if(!e)return[];e=e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase();let t={ctrl:"control",slash:"/",space:"-",spacebar:"-",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",equal:"="};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(e=>e)}function ct(e){let t=e?parseFloat(e):null;return n=t,Array.isArray(n)||isNaN(n)?e:t;var n}function ut(e,t,n,r){let i={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(e=>e.trim()).forEach((e,n)=>{i[e]=t[n]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&"object"==typeof t?e.item.replace("{","").replace("}","").split(",").map(e=>e.trim()).forEach(e=>{i[e]=t[e]}):i[e.item]=t,e.index&&(i[e.index]=n),e.collection&&(i[e.collection]=r),i}function lt(){}it.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})},re("ignore",it),re("effect",(e,{expression:t},{effect:n})=>n(K(e,t))),re("model",(e,{modifiers:t,expression:n},{effect:r,cleanup:i})=>{let a=K(e,n),o=K(e,`${n} = rightSideOfExpression($event, ${n})`);var s="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let c=function(e,t,n){return"radio"===e.type&&A(()=>{e.hasAttribute("name")||e.setAttribute("name",n)}),(n,r)=>A(()=>{if(n instanceof CustomEvent&&void 0!==n.detail)return n.detail||n.target.value;if("checkbox"===e.type){if(Array.isArray(r)){let e=t.includes("number")?ct(n.target.value):n.target.value;return n.target.checked?r.concat([e]):r.filter(t=>!(t==e))}return n.target.checked}if("select"===e.tagName.toLowerCase()&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(e=>ct(e.value||e.text)):Array.from(n.target.selectedOptions).map(e=>e.value||e.text);{let e=n.target.value;return t.includes("number")?ct(e):t.includes("trim")?e.trim():e}})}(e,t,n),u=at(e,s,t,e=>{o(()=>{},{scope:{$event:e,rightSideOfExpression:c}})});i(()=>u());let l=K(e,`${n} = __placeholder`);e._x_model={get(){let e;return a(t=>e=t),e},set(e){l(()=>{},{scope:{__placeholder:e}})}},e._x_forceModelUpdate=()=>{a(t=>{void 0===t&&n.match(/\./)&&(t=""),window.fromModel=!0,A(()=>Qe(e,"value",t)),delete window.fromModel})},r(()=>{t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate()})}),re("cloak",e=>queueMicrotask(()=>A(()=>e.removeAttribute(te("cloak"))))),Fe(()=>`[${te("init")}]`),re("init",qe((e,{expression:t})=>"string"==typeof t?!!t.trim()&&J(e,t,{}):J(e,t,{}))),re("text",(e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t);n(()=>{i(t=>{A(()=>{e.textContent=t})})})}),re("html",(e,{expression:t},{effect:n,evaluateLater:r})=>{let i=r(t);n(()=>{i(t=>{e.innerHTML=t})})}),fe(ce(":",te("bind:"))),re("bind",(e,{value:t,modifiers:n,expression:r,original:i},{effect:a})=>{if(!t)return function(e,t,n,r){let i={};var a;a=i,Object.entries(Ze).forEach(([e,t])=>{Object.defineProperty(a,e,{get:()=>(...e)=>t(...e)})});let o=K(e,t),s=[];for(;s.length;)s.pop()();o(t=>{let r=Object.entries(t).map(([e,t])=>({name:e,value:t})),i=function(e){return Array.from(e).map(ue()).filter(e=>!he(e))}(r);r=r.map(e=>i.find(t=>t.name===e.name)?{name:`x-bind:${e.name}`,value:`"${e.value}"`}:e),ie(e,r,n).map(e=>{s.push(e.runCleanups),e()})},{scope:i})}(e,r,i);if("key"===t)return function(e,t){e._x_keyExpression=t}(e,r);let o=K(e,r);a(()=>o(i=>{void 0===i&&r.match(/\./)&&(i=""),A(()=>Qe(e,t,i,n))}))}),Ee(()=>`[${te("data")}]`),re("data",qe((t,{expression:n},{cleanup:r})=>{n=""===n?"{}":n;let i={};B(i,t);let a={};var o,s;o=a,s=i,Object.entries(Xe).forEach(([e,t])=>{Object.defineProperty(o,e,{get:()=>(...e)=>t.bind(s)(...e),enumerable:!1})});let c=J(t,n,{scope:a});void 0===c&&(c={}),B(c,t);let u=e(c);H(u);let l=C(t,u);u.init&&J(t,u.init),r(()=>{l(),u.destroy&&J(t,u.destroy)})})),re("show",(e,{modifiers:t,expression:n},{effect:r})=>{let i,a=K(e,n),o=()=>A(()=>{e.style.display="none",e._x_isShown=!1}),s=()=>A(()=>{1===e.style.length&&"none"===e.style.display?e.removeAttribute("style"):e.style.removeProperty("display"),e._x_isShown=!0}),c=()=>setTimeout(s),u=Ce(e=>e?s():o(),t=>{"function"==typeof e._x_toggleAndCascadeWithTransitions?e._x_toggleAndCascadeWithTransitions(e,t,s,o):t?c():o()}),l=!0;r(()=>a(e=>{(l||e!==i)&&(t.includes("immediate")&&(e?c():o()),u(e),i=e,l=!1)}))}),re("for",(t,{expression:n},{effect:r,cleanup:i})=>{let a=function(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=e.match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(!n)return;let r={};r.items=n[2].trim();let i=n[1].replace(/^\s*\(|\)\s*$/g,"").trim(),a=i.match(t);return a?(r.item=i.replace(t,"").trim(),r.index=a[1].trim(),a[2]&&(r.collection=a[2].trim())):r.item=i,r}(n),o=K(t,a.items),s=K(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},r(()=>function(t,n,r,i){let a=t;r(r=>{var o;o=r,!Array.isArray(o)&&!isNaN(o)&&r>=0&&(r=Array.from(Array(r).keys(),e=>e+1)),void 0===r&&(r=[]);let s=t._x_lookup,c=t._x_prevKeys,u=[],l=[];if("object"!=typeof(f=r)||Array.isArray(f))for(let e=0;e<r.length;e++){let t=ut(n,r[e],e,r);i(e=>l.push(e),{scope:{index:e,...t}}),u.push(t)}else r=Object.entries(r).map(([e,t])=>{let a=ut(n,t,e,r);i(e=>l.push(e),{scope:{index:e,...a}}),u.push(a)});var f;let h=[],d=[],p=[],g=[];for(let e=0;e<c.length;e++){let t=c[e];-1===l.indexOf(t)&&p.push(t)}c=c.filter(e=>!p.includes(e));let m="template";for(let e=0;e<l.length;e++){let t=l[e],n=c.indexOf(t);if(-1===n)c.splice(e,0,t),h.push([m,e]);else if(n!==e){let t=c.splice(e,1)[0],r=c.splice(n-1,1)[0];c.splice(e,0,r),c.splice(n,0,t),d.push([t,r])}else g.push(t);m=t}for(let e=0;e<p.length;e++){let t=p[e];s[t]._x_effects&&s[t]._x_effects.forEach(y),s[t].remove(),s[t]=null,delete s[t]}for(let e=0;e<d.length;e++){let[t,n]=d[e],r=s[t],i=s[n],a=document.createElement("div");A(()=>{i.after(a),r.after(i),i._x_currentIfEl&&i.after(i._x_currentIfEl),a.before(r),r._x_currentIfEl&&r.after(r._x_currentIfEl),a.remove()}),M(i,u[l.indexOf(n)])}for(let t=0;t<h.length;t++){let[n,r]=h[t],i="template"===n?a:s[n];i._x_currentIfEl&&(i=i._x_currentIfEl);let o=u[r],c=l[r],f=document.importNode(a.content,!0).firstElementChild;C(f,e(o),a),A(()=>{i.after(f),Te(f)}),"object"==typeof c&&je("x-for key cannot be an object, it must be a string or an integer",a),s[c]=f}for(let e=0;e<g.length;e++)M(s[g[e]],u[l.indexOf(g[e])]);a._x_prevKeys=l})}(t,a,o,s)),i(()=>{Object.values(t._x_lookup).forEach(e=>e.remove()),delete t._x_prevKeys,delete t._x_lookup})}),lt.inline=(e,{expression:t},{cleanup:n})=>{let r=Ie(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n(()=>delete r._x_refs[t])},re("ref",lt),re("if",(e,{expression:t},{effect:n,cleanup:r})=>{let i=K(e,t);n(()=>i(t=>{t?(()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let t=e.content.cloneNode(!0).firstElementChild;C(t,{},e),A(()=>{e.after(t),Te(t)}),e._x_currentIfEl=t,e._x_undoIf=()=>{Se(t,e=>{e._x_effects&&e._x_effects.forEach(y)}),t.remove(),delete e._x_currentIfEl}})():e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)})),r(()=>e._x_undoIf&&e._x_undoIf())}),re("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(t=>function(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=rt(t))}(e,t))}),fe(ce("@",te("on:"))),re("on",qe((e,{value:t,modifiers:n,expression:r},{cleanup:i})=>{let a=r?K(e,r):()=>{};"template"===e.tagName.toLowerCase()&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let o=at(e,t,n,e=>{a(()=>{},{scope:{$event:e},params:[e]})});i(()=>o())})),et.setEvaluator(G),et.setReactivityEngine({reactive:tt.reactive,effect:tt.effect,release:tt.stop,raw:tt.toRaw}),"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var ft=function(e){var t={exports:{}};return function(e,t){e.exports=function(){function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach(function(t){e(n,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t,n="algoliasearch-client-js-".concat(e.key),i=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(i().getItem(n)||"{}")};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){var n=JSON.stringify(e),r=a()[n];return Promise.all([r||t(),void 0!==r])}).then(function(e){var t=r(e,2),i=t[0];return Promise.all([i,t[1]||n.miss(i)])}).then(function(e){return r(e,1)[0]})},set:function(e,t){return Promise.resolve().then(function(){var r=a();return r[JSON.stringify(e)]=t,i().setItem(n,JSON.stringify(r)),t})},delete:function(e){return Promise.resolve().then(function(){var t=a();delete t[JSON.stringify(e)],i().setItem(n,JSON.stringify(t))})},clear:function(){return Promise.resolve().then(function(){i().removeItem(n)})}}}function o(e){var t=i(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then(function(e){return Promise.all([e,n.miss(e)])}).then(function(e){return r(e,1)[0]})},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,r,i).catch(function(){return o({caches:t}).get(e,r,i)})},set:function(e,r){return n.set(e,r).catch(function(){return o({caches:t}).set(e,r)})},delete:function(e){return n.delete(e).catch(function(){return o({caches:t}).delete(e)})},clear:function(){return n.clear().catch(function(){return o({caches:t}).clear()})}}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(n);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var o=r(),s=i&&i.miss||function(){return Promise.resolve()};return o.then(function(e){return s(e)}).then(function(){return o})},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function u(e,t){return t?(Object.keys(t).forEach(function(n){e[n]=t[n](e)}),e):e}function l(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,function(){return encodeURIComponent(n[i++])})}function f(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach(function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])}),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var h={Read:1,Write:2,Any:3};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return n(n({},e),{},{status:t,lastUpdate:Date.now()})}function p(e){return"string"==typeof e?{protocol:"https",url:e,accept:h.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||h.Any}}var g="GET",m="POST";function v(e,t,r,a){var o=[],s=function(e,t){if(e.method!==g&&(void 0!==e.data||void 0!==t.data)){var r=Array.isArray(e.data)?e.data:n(n({},e.data),t.data);return JSON.stringify(r)}}(r,a),c=function(e,t){var r=n(n({},e.headers),t.headers),i={};return Object.keys(r).forEach(function(e){var t=r[e];i[e.toLowerCase()]=t}),i}(e,a),u=r.method,l=r.method!==g?{}:n(n({},r.data),a.data),f=n(n(n({"x-algolia-agent":e.userAgent.value},e.queryParameters),l),a.queryParameters),h=0,m=function t(n,i){var l=n.pop();if(void 0===l)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:w(o)};var p={data:s,headers:c,method:u,url:b(l,r.path,f),connectTimeout:i(h,e.timeouts.connect),responseTimeout:i(h,a.timeout)},g=function(e){var t={request:p,response:e,host:l,triesLeft:n.length};return o.push(t),t},m={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(r){var a=g(r);return r.isTimedOut&&h++,Promise.all([e.logger.info("Retryable failure",S(a)),e.hostsCache.set(l,d(l,r.isTimedOut?3:2))]).then(function(){return t(n,i)})},onFail:function(e){throw g(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(i,r,t)}(e,w(o))}};return e.requester.send(p).then(function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){return!e.isTimedOut&&0==~~e.status}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,m)})};return function(e,t){return Promise.all(t.map(function(t){return e.get(t,function(){return Promise.resolve(d(t))})})).then(function(e){var n=e.filter(function(e){return function(e){return 1===e.status||Date.now()-e.lastUpdate>12e4}(e)}),r=e.filter(function(e){return function(e){return 3===e.status&&Date.now()-e.lastUpdate<=12e4}(e)}),a=[].concat(i(n),i(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:a.length>0?a.map(function(e){return p(e)}):t}})}(e.hostsCache,t).then(function(e){return m(i(e.statelessHosts).reverse(),e.getTimeout)})}function y(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function b(e,t,n){var r=O(n),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(i+="?".concat(r)),i}function O(e){return Object.keys(e).map(function(t){return l("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n}).join("&")}function w(e){return e.map(function(e){return S(e)})}function S(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},e),{},{request:n(n({},e.request),{},{headers:n(n({},e.request.headers),t)})})}var j=function(e){return function(t,n){return t.method===g?e.transporter.read(t,n):e.transporter.write(t,n)}},P=function(e){return function(t){return u({transporter:e.transporter,appId:e.appId,indexName:t},(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).methods)}},R=function(e){return function(t,r){var i=t.map(function(e){return n(n({},e),{},{params:O(e.params||{})})});return e.transporter.read({method:m,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},_=function(e){return function(t,r){return Promise.all(t.map(function(t){var i=t.params,a=i.facetName,o=i.facetQuery,s=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(i,["facetName","facetQuery"]);return P(e)(t.indexName,{methods:{searchForFacetValues:F}}).searchForFacetValues(a,o,n(n({},r),s))}))}},x=function(e){return function(t,n,r){return e.transporter.read({method:m,path:l("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},E=function(e){return function(t,n){return e.transporter.read({method:m,path:l("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},F=function(e){return function(t,n,r){return e.transporter.read({method:m,path:l("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}};function I(e,t,i){var l={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise(function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach(function(t){return n.setRequestHeader(t,e.headers[t])});var r,i=function(e,r){return setTimeout(function(){n.abort(),t({status:0,content:r,isTimedOut:!0})},1e3*e)},a=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(a),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(a),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(a),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)})}},logger:{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}},responsesCache:s(),requestsCache:s({serializable:!1}),hostsCache:o({caches:[a({key:"".concat("4.12.1","-").concat(e)}),s()]}),userAgent:y("4.12.1").add({segment:"Browser",version:"lite"}),authMode:0};return function(e){var t=e.appId,i=function(e,t,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return 1===e?r:{}},queryParameters:function(){return 0===e?r:{}}}}(void 0!==e.authMode?e.authMode:1,t,e.apiKey),a=function(e){var t={hostsCache:e.hostsCache,logger:e.logger,requester:e.requester,requestsCache:e.requestsCache,responsesCache:e.responsesCache,timeouts:e.timeouts,userAgent:e.userAgent,headers:e.headers,queryParameters:e.queryParameters,hosts:e.hosts.map(function(e){return p(e)}),read:function(e,n){var i=f(n,t.timeouts.read),a=function(){return v(t,t.hosts.filter(function(e){return 0!=(e.accept&h.Read)}),e,i)};if(!0!==(void 0!==i.cacheable?i.cacheable:e.cacheable))return a();var o={request:e,mappedRequestOptions:i,transporter:{queryParameters:t.queryParameters,headers:t.headers}};return t.responsesCache.get(o,function(){return t.requestsCache.get(o,function(){return t.requestsCache.set(o,a()).then(function(e){return Promise.all([t.requestsCache.delete(o),e])},function(e){return Promise.all([t.requestsCache.delete(o),Promise.reject(e)])}).then(function(e){return r(e,2)[1]})})},{miss:function(e){return t.responsesCache.set(o,e)}})},write:function(e,n){return v(t,t.hosts.filter(function(e){return 0!=(e.accept&h.Write)}),e,f(n,t.timeouts.write))}};return t}(n(n({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:h.Read},{url:"".concat(t,".algolia.net"),accept:h.Write}].concat(c([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:n(n(n({},i.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:n(n({},i.queryParameters()),e.queryParameters)}));return u({transporter:a,appId:t,addAlgoliaAgent:function(e,t){a.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([a.requestsCache.clear(),a.responsesCache.clear()]).then(function(){})}},e.methods)}(n(n(n({},l),i),{},{methods:{search:R,searchForFacetValues:_,multipleQueries:R,multipleSearchForFacetValues:_,customRequest:j,initIndex:function(e){return function(t){return P(e)(t,{methods:{search:E,searchForFacetValues:F,findAnswers:x}})}}}}))}return I.version="4.12.1",I}()}(t),t.exports}();function ht(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function dt(e,t){if(e===t)return e;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&"__proto__"!==n){var r=t[n],i=e[n];void 0!==i&&void 0===r||(e[n]=ht(i)&&ht(r)?dt(i,r):"object"==typeof(a=r)&&null!==a?dt(Array.isArray(a)?[]:{},a):a)}var a;return e}var pt=function(e){ht(e)||(e={});for(var t=1,n=arguments.length;t<n;t++){var r=arguments[t];ht(r)&&dt(e,r)}return e},gt=function(){var e=Array.prototype.slice.call(arguments);return e.reduceRight(function(e,t){return Object.keys(Object(t)).forEach(function(n){void 0!==t[n]&&(void 0!==e[n]&&delete e[n],e[n]=t[n])}),e},{})},mt=function(e,t){return e.filter(function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r})},vt=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]},yt=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")},bt=function(e,t){if(null===e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i},Ot=function(e){return e&&Object.keys(e).length>0},wt={addRefinement:function(e,t,n){if(wt.isRefined(e,t,n))return e;var r=""+n,i=e[t]?e[t].concat(r):[r],a={};return a[t]=i,gt({},a,e)},removeRefinement:function(e,t,n){if(void 0===n)return wt.clearRefinement(e,function(e,n){return t===n});var r=""+n;return wt.clearRefinement(e,function(e,n){return t===n&&r===e})},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return wt.isRefined(e,t,n)?wt.removeRefinement(e,t,n):wt.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(void 0===t)return Ot(e)?{}:e;if("string"==typeof t)return bt(e,[t]);if("function"==typeof t){var r=!1,i=Object.keys(e).reduce(function(i,a){var o=e[a]||[],s=o.filter(function(e){return!t(e,a,n)});return s.length!==o.length&&(r=!0),i[a]=s,i},{});return r?i:e}},isRefined:function(e,t,n){var r=!!e[t]&&e[t].length>0;return void 0!==n&&r?-1!==e[t].indexOf(""+n):r}},St=wt;function jt(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every(function(e,n){return jt(t[n],e)}):e===t}function Pt(e){var t,n=e?Pt._parseNumbers(e):{};void 0===n.userToken||null!==(t=n.userToken)&&/^[a-zA-Z0-9_-]{1,64}$/.test(t)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=n.facets||[],this.disjunctiveFacets=n.disjunctiveFacets||[],this.hierarchicalFacets=n.hierarchicalFacets||[],this.facetsRefinements=n.facetsRefinements||{},this.facetsExcludes=n.facetsExcludes||{},this.disjunctiveFacetsRefinements=n.disjunctiveFacetsRefinements||{},this.numericRefinements=n.numericRefinements||{},this.tagRefinements=n.tagRefinements||[],this.hierarchicalFacetsRefinements=n.hierarchicalFacetsRefinements||{};var r=this;Object.keys(n).forEach(function(e){-1===Pt.PARAMETERS.indexOf(e)&&void 0!==n[e]&&(r[e]=n[e])})}Pt.PARAMETERS=Object.keys(new Pt),Pt._parseNumbers=function(e){if(e instanceof Pt)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(n){var r=e[n];if("string"==typeof r){var i=parseFloat(r);t[n]=isNaN(i)?r:i}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(e){return Array.isArray(e)?e.map(function(e){return parseFloat(e)}):e})),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach(function(t){var r=e.numericRefinements[t]||{};n[t]={},Object.keys(r).forEach(function(e){var i=r[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});n[t][e]=i})}),t.numericRefinements=n}return pt({},e,t)},Pt.make=function(e){var t=new Pt(e);return(e.hierarchicalFacets||[]).forEach(function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);n.length>0&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),t},Pt.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&Ot(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):Ot(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},Pt.prototype={constructor:Pt,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:St.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:St.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:St.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:St.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=yt(n);if(this.isNumericRefined(e,t,r))return this;var i=pt({},this.numericRefinements);return i[e]=pt({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){return void 0!==n?this.isNumericRefined(e,t,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(r,i){return i===e&&r.op===t&&jt(r.val,yt(n))})}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,r){return r===e&&n.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(t,n){return n===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return Ot(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return bt(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,n=this.numericRefinements,r=Object.keys(n).reduce(function(r,i){var a=n[i],o={};return a=a||{},Object.keys(a).forEach(function(n){var r=a[n]||[],s=[];r.forEach(function(t){e({val:t,op:n},i,"numeric")||s.push(t)}),s.length!==r.length&&(t=!0),o[n]=s}),r[i]=o,r},{});return t?r:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return St.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:St.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return St.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:St.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return St.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:St.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter(function(t){return t!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(t){return t!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(t){return t.name!==e})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return St.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:St.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return St.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:St.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return St.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:St.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter(function(t){return t!==e})};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:St.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:St.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:St.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={},i=void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n));return r[e]=i?-1===t.indexOf(n)?[]:[t.slice(0,t.lastIndexOf(n))]:[t],this.setQueryParameters({hierarchicalFacetsRefinements:gt({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:gt({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:gt({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&St.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&St.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&St.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?-1!==n.indexOf(t):n.length>0},isNumericRefined:function(e,t,n){if(void 0===n&&void 0===t)return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===n||!r)return r;var i,a=yt(n),o=void 0!==(i=a,vt(this.numericRefinements[e][t],function(e){return jt(e,i)}));return r&&o},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=mt(Object.keys(this.numericRefinements).filter(function(t){return Object.keys(e.numericRefinements[t]).length>0}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(t){return e.disjunctiveFacetsRefinements[t].length>0}).concat(t).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var e=this;return mt(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(t){return e.hierarchicalFacetsRefinements[t].length>0}))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(t){return-1===e.indexOf(t)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},n=this;return Object.keys(this).forEach(function(r){var i=n[r];-1===e.indexOf(r)&&void 0!==i&&(t[r]=i)}),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=Pt.validate(this,e);if(t)throw t;var n=this,r=Pt._parseNumbers(e),i=Object.keys(this).reduce(function(e,t){return e[t]=n[t],e},{}),a=Object.keys(r).reduce(function(e,t){var n=void 0!==r[t];return void 0===e[t]||n?(n&&(e[t]=r[t]),e):bt(e,[t])},i);return new this.constructor(a)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return vt(this.hierarchicalFacets,function(t){return t.name===e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(n).map(function(e){return e.trim()})},toString:function(){return JSON.stringify(this,null,2)}};var Rt=Pt;function _t(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=void 0!==t,a=null===t;if(!a&&e>t||r&&i||!n)return 1;if(!r&&e<t||a&&n||!i)return-1}return 0}var xt=function(e,t,n){if(!Array.isArray(e))return[];Array.isArray(n)||(n=[]);var r=e.map(function(e,n){return{criteria:t.map(function(t){return e[t]}),index:n,value:e}});return r.sort(function(e,t){for(var r=-1;++r<e.criteria.length;){var i=_t(e.criteria[r],t.criteria[r]);if(i)return r>=n.length?i:"desc"===n[r]?-i:i}return e.index-t.index}),r.map(function(e){return e.value})},Et=function(e){return Array.isArray(e)?e.filter(Boolean):[]},Ft=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},It=function(e,t){var n=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var r=t.split(":"),i=vt(n,function(e){return e[0]===r[0]});return r.length>1||!i?(e[0].push(r[0]),e[1].push(r[1]),e):(e[0].push(i[0]),e[1].push(i[1]),e)},[[],[]])};function At(e){var t={};return e.forEach(function(e,n){t[e]=n}),t}function Tt(e,t,n){t&&t[n]&&(e.stats=t[n])}function kt(e,t){var n=t[0];this._rawResults=t;var r=this;Object.keys(n).forEach(function(e){r[e]=n[e]}),this.processingTimeMS=t.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map(function(){return[]}),this.facets=[];var i=e.getRefinedDisjunctiveFacets(),a=At(e.facets),o=At(e.disjunctiveFacets),s=1,c=n.facets||{};Object.keys(c).forEach(function(t){var i,s=c[t],u=(i=t,vt(e.hierarchicalFacets,function(e){return(e.attributes||[]).indexOf(i)>-1}));if(u){var l=u.attributes.indexOf(t),f=Ft(e.hierarchicalFacets,function(e){return e.name===u.name});r.hierarchicalFacets[f][l]={attribute:t,data:s,exhaustive:n.exhaustiveFacetsCount}}else{var h,d=-1!==e.disjunctiveFacets.indexOf(t),p=-1!==e.facets.indexOf(t);d&&(r.disjunctiveFacets[h=o[t]]={name:t,data:s,exhaustive:n.exhaustiveFacetsCount},Tt(r.disjunctiveFacets[h],n.facets_stats,t)),p&&(r.facets[h=a[t]]={name:t,data:s,exhaustive:n.exhaustiveFacetsCount},Tt(r.facets[h],n.facets_stats,t))}}),this.hierarchicalFacets=Et(this.hierarchicalFacets),i.forEach(function(i){var a=t[s],c=a&&a.facets?a.facets:{},u=e.getHierarchicalFacetByName(i);Object.keys(c).forEach(function(t){var i,s=c[t];if(u){i=Ft(e.hierarchicalFacets,function(e){return e.name===u.name});var l=Ft(r.hierarchicalFacets[i],function(e){return e.attribute===t});if(-1===l)return;r.hierarchicalFacets[i][l].data=pt({},r.hierarchicalFacets[i][l].data,s)}else r.disjunctiveFacets[i=o[t]]={name:t,data:gt({},s,n.facets&&n.facets[t]||{}),exhaustive:a.exhaustiveFacetsCount},Tt(r.disjunctiveFacets[i],a.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach(function(n){!r.disjunctiveFacets[i].data[n]&&e.disjunctiveFacetsRefinements[t].indexOf(n)>-1&&(r.disjunctiveFacets[i].data[n]=0)})}),s++}),e.getRefinedHierarchicalFacets().forEach(function(n){var i=e.getHierarchicalFacetByName(n),a=e._getHierarchicalFacetSeparator(i),o=e.getHierarchicalRefinement(n);if(!(0===o.length||o[0].split(a).length<2)){var c=t[s],u=c&&c.facets?c.facets:{};Object.keys(u).forEach(function(t){var n=u[t],s=Ft(e.hierarchicalFacets,function(e){return e.name===i.name}),c=Ft(r.hierarchicalFacets[s],function(e){return e.attribute===t});if(-1!==c){var l={};if(o.length>0){var f=o[0].split(a)[0];l[f]=r.hierarchicalFacets[s][c].data[f]}r.hierarchicalFacets[s][c].data=gt(l,n,r.hierarchicalFacets[s][c].data)}}),s++}}),Object.keys(e.facetsExcludes).forEach(function(t){var i=e.facetsExcludes[t],o=a[t];r.facets[o]={name:t,data:n.facets[t],exhaustive:n.exhaustiveFacetsCount},i.forEach(function(e){r.facets[o]=r.facets[o]||{name:t},r.facets[o].data=r.facets[o].data||{},r.facets[o].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(function(e){return function(t,n){var r=e.hierarchicalFacets[n],i=e.hierarchicalFacetsRefinements[r.name]&&e.hierarchicalFacetsRefinements[r.name][0]||"",a=e._getHierarchicalFacetSeparator(r),o=e._getHierarchicalRootPath(r),s=e._getHierarchicalShowParentLevel(r),c=It(e._getHierarchicalFacetSortBy(r)),u=t.every(function(e){return e.exhaustive}),l=function(e,t,n,r,i){return function(a,o,s){var c=a;if(s>0){var u=0;for(c=a;u<s;){var l=c&&Array.isArray(c.data)?c.data:[];c=vt(l,function(e){return e.isRefined}),u++}}if(c){var f=Object.keys(o.data).map(function(e){return[e,o.data[e]]}).filter(function(e){return function(e,t,n,r,i,a){return(!i||0===e.indexOf(i)&&i!==e)&&(!i&&-1===e.indexOf(r)||i&&e.split(r).length-i.split(r).length==1||-1===e.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(e)||0===e.indexOf(t+r)&&(a||0===e.indexOf(n)))}(e[0],c.path||n,i,t,n,r)});c.data=xt(f.map(function(e){return function(e,t,n,r,i){var a=t.split(n);return{name:a[a.length-1].trim(),path:t,count:e,isRefined:r===t||0===r.indexOf(t+n),exhaustive:i,data:null}}(e[1],e[0],t,i,o.exhaustive)}),e[0],e[1])}return a}}(c,a,o,s,i),f=t;return o&&(f=t.slice(o.split(a).length)),f.reduce(l,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,exhaustive:u,data:null})}}(e)),this.facets=Et(this.facets),this.disjunctiveFacets=Et(this.disjunctiveFacets),this._state=e}function Dt(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||0===t.data.length)return t;var i=t.data.map(function(t){return Dt(e,t,n,r+1)}),a=e(i,n[r]);return gt({data:a},t)}function Nt(e,t){var n=vt(e,function(e){return e.name===t});return n&&n.stats}function Ct(e,t,n,r,i){var a=vt(i,function(e){return e.name===n});return{type:t,attributeName:n,name:r,count:a&&a.data&&a.data[r]?a.data[r]:0,exhaustive:a&&a.exhaustive||!1}}kt.prototype.getFacetByName=function(e){function t(t){return t.name===e}return vt(this.facets,t)||vt(this.disjunctiveFacets,t)||vt(this.hierarchicalFacets,t)},kt.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],kt.prototype.getFacetValues=function(e,t){var n=function(e,t){function n(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var r=vt(e.facets,n);return r?Object.keys(r.data).map(function(n){return{name:n,count:r.data[n],isRefined:e._state.isFacetRefined(t,n),isExcluded:e._state.isExcludeRefined(t,n)}}):[]}if(e._state.isDisjunctiveFacet(t)){var i=vt(e.disjunctiveFacets,n);return i?Object.keys(i.data).map(function(n){return{name:n,count:i.data[n],isRefined:e._state.isDisjunctiveFacetRefined(t,n)}}):[]}if(e._state.isHierarchicalFacet(t))return vt(e.hierarchicalFacets,n)}(this,e);if(n){var r=gt({},t,{sortBy:kt.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),i=this;return Dt(function(e,t){if(r.facetOrdering){var n=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(i,t);if(Boolean(n))return function(e,t){var n=[],r=[],i=(t.order||[]).reduce(function(e,t,n){return e[t]=n,e},{});e.forEach(function(e){var t=e.path||e.name;void 0!==i[t]?n[i[t]]=e:r.push(e)}),n=n.filter(function(e){return e});var a,o=t.sortRemainingBy;return"hidden"===o?n:n.concat(xt(r,(a="alpha"===o?[["path","name"],["asc","asc"]]:[["count"],["desc"]])[0],a[1]))}(e,n)}if(Array.isArray(r.sortBy)){var a=It(r.sortBy,kt.DEFAULT_SORT);return xt(e,a[0],a[1])}if("function"==typeof r.sortBy)return function(e,t){return t.sort(e)}(r.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},n,Array.isArray(n)?[e]:i._state.getHierarchicalFacetByName(n.name).attributes)}},kt.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?Nt(this.facets,e):this._state.isDisjunctiveFacet(e)?Nt(this.disjunctiveFacets,e):void 0},kt.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach(function(r){e.facetsRefinements[r].forEach(function(e){n.push(Ct(0,"facet",r,e,t.facets))})}),Object.keys(e.facetsExcludes).forEach(function(r){e.facetsExcludes[r].forEach(function(e){n.push(Ct(0,"exclude",r,e,t.facets))})}),Object.keys(e.disjunctiveFacetsRefinements).forEach(function(r){e.disjunctiveFacetsRefinements[r].forEach(function(e){n.push(Ct(0,"disjunctive",r,e,t.disjunctiveFacets))})}),Object.keys(e.hierarchicalFacetsRefinements).forEach(function(r){e.hierarchicalFacetsRefinements[r].forEach(function(i){n.push(function(e,t,n,r){var i=e.getHierarchicalFacetByName(t),a=e._getHierarchicalFacetSeparator(i),o=n.split(a),s=vt(r,function(e){return e.name===t}),c=o.reduce(function(e,t){var n=e&&vt(e.data,function(e){return e.name===t});return void 0!==n?n:e},s);return{type:"hierarchical",attributeName:t,name:c&&c.path||"",count:c&&c.count||0,exhaustive:c&&c.exhaustive||!1}}(e,r,i,t.hierarchicalFacets))})}),Object.keys(e.numericRefinements).forEach(function(t){var r=e.numericRefinements[t];Object.keys(r).forEach(function(e){r[e].forEach(function(r){n.push({type:"numeric",attributeName:t,name:r,numericValue:r,operator:e})})})}),e.tagRefinements.forEach(function(e){n.push({type:"tag",attributeName:"_tags",name:e})}),n};var Mt=kt;function Lt(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Wt=Lt;function Ht(e){return"function"==typeof e}function Ut(e){return"object"==typeof e&&null!==e}function qt(e){return void 0===e}Lt.prototype._events=void 0,Lt.prototype._maxListeners=void 0,Lt.defaultMaxListeners=10,Lt.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},Lt.prototype.emit=function(e){var t,n,r,i,a,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||Ut(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(qt(n=this._events[e]))return!1;if(Ht(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(Ut(n))for(i=Array.prototype.slice.call(arguments,1),r=(o=n.slice()).length,a=0;a<r;a++)o[a].apply(this,i);return!0},Lt.prototype.on=Lt.prototype.addListener=function(e,t){var n;if(!Ht(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Ht(t.listener)?t.listener:t),this._events[e]?Ut(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Ut(this._events[e])&&!this._events[e].warned&&(n=qt(this._maxListeners)?Lt.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},Lt.prototype.once=function(e,t){if(!Ht(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},Lt.prototype.removeListener=function(e,t){var n,r,i,a;if(!Ht(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||Ht(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Ut(n)){for(a=i;a-- >0;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},Lt.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(Ht(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},Lt.prototype.listeners=function(e){return this._events&&this._events[e]?Ht(this._events[e])?[this._events[e]]:this._events[e].slice():[]},Lt.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Ht(t))return 1;if(t)return t.length}return 0},Lt.listenerCount=function(e,t){return e.listenerCount(t)};var Qt=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function $t(e,t){this.main=e,this.fn=t,this.lastResults=null}Qt($t,Wt),$t.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},$t.prototype.getModifiedState=function(e){return this.fn(e)};var Bt=$t,Vt={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:Vt._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach(function(r){n.push({indexName:e,params:Vt._getDisjunctiveFacetSearchParams(t,r)})}),t.getRefinedHierarchicalFacets().forEach(function(r){var i=t.getHierarchicalFacetByName(r),a=t.getHierarchicalRefinement(r),o=t._getHierarchicalFacetSeparator(i);a.length>0&&a[0].split(o).length>1&&n.push({indexName:e,params:Vt._getDisjunctiveFacetSearchParams(t,r,!0)})}),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Vt._getHitsHierarchicalFacetsAttributes(e)),n=Vt._getFacetFilters(e),r=Vt._getNumericFilters(e),i=Vt._getTagFilters(e),a={facets:t.indexOf("*")>-1?["*"]:t,tagFilters:i};return n.length>0&&(a.facetFilters=n),r.length>0&&(a.numericFilters=r),pt({},e.getQueryParams(),a)},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=Vt._getFacetFilters(e,t,n),i=Vt._getNumericFilters(e,t),a={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:Vt._getTagFilters(e),analytics:!1,clickAnalytics:!1},o=e.getHierarchicalFacetByName(t);return a.facets=o?Vt._getDisjunctiveHierarchicalFacetAttribute(e,o,n):t,i.length>0&&(a.numericFilters=i),r.length>0&&(a.facetFilters=r),pt({},e.getQueryParams(),a)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach(function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach(function(e){t!==r&&(i[e]||[]).forEach(function(t){if(Array.isArray(t)){var i=t.map(function(t){return r+e+t});n.push(i)}else n.push(r+e+t)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).forEach(function(e){(i[e]||[]).forEach(function(t){r.push(e+":"+t)})});var a=e.facetsExcludes||{};Object.keys(a).forEach(function(e){(a[e]||[]).forEach(function(t){r.push(e+":-"+t)})});var o=e.disjunctiveFacetsRefinements||{};Object.keys(o).forEach(function(e){var n=o[e]||[];if(e!==t&&n&&0!==n.length){var i=[];n.forEach(function(t){i.push(e+":"+t)}),r.push(i)}});var s=e.hierarchicalFacetsRefinements||{};return Object.keys(s).forEach(function(i){var a=(s[i]||[])[0];if(void 0!==a){var o,c,u=e.getHierarchicalFacetByName(i),l=e._getHierarchicalFacetSeparator(u),f=e._getHierarchicalRootPath(u);if(t===i){if(-1===a.indexOf(l)||!f&&!0===n||f&&f.split(l).length===a.split(l).length)return;f?(c=f.split(l).length-1,a=f):(c=a.split(l).length-2,a=a.slice(0,a.lastIndexOf(l))),o=u.attributes[c]}else c=a.split(l).length-1,o=u.attributes[c];o&&r.push([o+":"+a])}}),r},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce(function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(n),a=r.split(i).length,o=n.attributes.slice(0,a+1);return t.concat(o)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(r).length),[t.attributes[a]]}var o=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,a={facetQuery:t,facetName:e};return"number"==typeof n&&(a.maxFacetHits=n),pt({},Vt._getHitsSearchParams(i),a)}},zt=Vt;function Jt(e,t,n){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.7.0)"),this.setClient(e);var r=n||{};r.index=t,this.state=Rt.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function Kt(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function Yt(){return this.state.page}Qt(Jt,Wt),Jt.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},Jt.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},Jt.prototype.getQuery=function(){return zt._getHitsSearchParams(this.state)},Jt.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=zt._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!t)return this.client.search(r).then(function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new Mt(n,e.results),state:n,_originalResponse:e}},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e});this.client.search(r).then(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new Mt(n,e.results),n)}).catch(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,n)})},Jt.prototype.findAnswers=function(e){var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=pt({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:bt(zt._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(a);var o=this.client.initIndex(r.index);if("function"!=typeof o.findAnswers)throw new Error(a);return o.findAnswers(r.query,e.queryLanguages,i)},Jt.prototype.searchForFacetValues=function(e,t,n,r){var i="function"==typeof this.client.searchForFacetValues;if(!i&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var a=this.state.setQueryParameters(r||{}),o=a.isDisjunctiveFacet(e),s=zt.getSearchForFacetQuery(e,t,n,a);this._currentNbQueries++;var c=this;return this.emit("searchForFacetValues",{state:a,facet:e,query:t}),(i?this.client.searchForFacetValues([{indexName:a.index,params:s}]):this.client.initIndex(a.index).searchForFacetValues(s)).then(function(t){return c._currentNbQueries--,0===c._currentNbQueries&&c.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach(function(t){t.isRefined=o?a.isDisjunctiveFacetRefined(e,t.value):a.isFacetRefined(e,t.value)}),t},function(e){throw c._currentNbQueries--,0===c._currentNbQueries&&c.emit("searchQueueEmpty"),e})},Jt.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},Jt.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},Jt.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},Jt.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},Jt.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},Jt.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},Jt.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},Jt.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},Jt.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},Jt.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},Jt.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},Jt.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},Jt.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},Jt.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},Jt.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},Jt.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},Jt.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},Jt.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},Jt.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},Jt.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},Jt.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},Jt.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},Jt.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},Jt.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},Jt.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},Jt.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},Jt.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},Jt.prototype.nextPage=function(){return this.setPage((this.state.page||0)+1)},Jt.prototype.previousPage=function(){return this.setPage((this.state.page||0)-1)},Jt.prototype.setCurrentPage=Kt,Jt.prototype.setPage=Kt,Jt.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},Jt.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},Jt.prototype.setState=function(e){return this._change({state:Rt.make(e),isPageReset:!1}),this},Jt.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new Rt(e),this},Jt.prototype.hasRefinements=function(e){return!!Ot(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},Jt.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},Jt.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},Jt.prototype.hasTag=function(e){return this.state.isTagRefined(e)},Jt.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},Jt.prototype.getIndex=function(){return this.state.index},Jt.prototype.getCurrentPage=Yt,Jt.prototype.getPage=Yt,Jt.prototype.getTags=function(){return this.state.tagRefinements},Jt.prototype.getRefinements=function(e){var t=[];this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){t.push({value:e,type:"exclude"})})):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach(function(e){t.push({value:e,type:"disjunctive"})});var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach(function(e){t.push({value:n[e],operator:e,type:"numeric"})}),t},Jt.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},Jt.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},Jt.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=zt._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map(function(e){var r=e.getModifiedState(t),i=zt._getQueries(r.index,r);return n.push({state:r,queriesCount:i.length,helper:e}),e.emit("search",{state:r,results:e.lastResults}),i}),a=Array.prototype.concat.apply(r,i),o=this._queryId++;this._currentNbQueries++;try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,n,o)).catch(this._dispatchAlgoliaError.bind(this,o))}catch(e){this.emit("error",{error:e})}},Jt.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var r=n.results.slice();e.forEach(function(e){var t=e.state,n=e.helper,i=r.splice(0,e.queriesCount),a=n.lastResults=new Mt(t,i);n.emit("result",{results:a,state:t})})}},Jt.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},Jt.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},Jt.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},Jt.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},Jt.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},Jt.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.7.0)"),this.client=e),this},Jt.prototype.getClient=function(){return this.client},Jt.prototype.derive=function(e){var t=new Bt(this,e);return this.derivedHelpers.push(t),t},Jt.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},Jt.prototype.hasPendingRequests=function(){return this._currentNbQueries>0};var Gt=Jt;function Zt(e,t,n){return new Gt(e,t,n)}Zt.version="3.7.0",Zt.AlgoliaSearchHelper=Gt,Zt.SearchParameters=Rt,Zt.SearchResults=Mt;var Xt=Zt;function en(e){return e.toString().charAt(0).toUpperCase()+e.toString().slice(1)}var tn=Promise.resolve(),nn=function(e){var t=null,n=!1,r=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];null===t&&(t=tn.then(function(){t=null,n?n=!1:e.apply(void 0,i)}))};return r.wait=function(){if(null===t)throw new Error("The deferred function should be called before calling `wait()`");return t},r.cancel=function(){null!==t&&(n=!0)},r};function rn(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}function an(e,t){for(var n,r=0;r<e.length;r++)if(t(n=e[r],r,e))return n}function on(e){return String(e).replace(/^\\-/,"-")}function sn(e,t,n,r){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o={type:t,attribute:n,name:r},s=an(a,function(e){return e.name===n});"hierarchical"===t?function(){for(var t=e.getHierarchicalFacetByName(n),a=r.split(t.separator),o=function(e){var t;s=s&&s.data&&an(Object.keys(s.data).map((t=s.data,function(e){return t[e]})),function(t){return t.name===a[e]})},c=0;void 0!==s&&c<a.length;++c)o(c);i=s&&s.count}():i=s&&s.data&&s.data[o.name];var c=s&&s.exhaustive;return void 0!==i&&(o.count=i),void 0!==c&&(o.exhaustive=c),o}function cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[],i=t.facetsRefinements,a=void 0===i?{}:i,o=t.facetsExcludes,s=void 0===o?{}:o,c=t.disjunctiveFacetsRefinements,u=void 0===c?{}:c,l=t.hierarchicalFacetsRefinements,f=void 0===l?{}:l,h=t.numericRefinements,d=void 0===h?{}:h,p=t.tagRefinements,g=void 0===p?[]:p;return Object.keys(a).forEach(function(n){a[n].forEach(function(i){r.push(sn(t,"facet",n,i,e.facets))})}),Object.keys(s).forEach(function(e){s[e].forEach(function(t){r.push({type:"exclude",attribute:e,name:t,exclude:!0})})}),Object.keys(u).forEach(function(n){u[n].forEach(function(i){r.push(sn(t,"disjunctive",n,on(i),e.disjunctiveFacets))})}),Object.keys(f).forEach(function(n){f[n].forEach(function(i){r.push(sn(t,"hierarchical",n,i,e.hierarchicalFacets))})}),Object.keys(d).forEach(function(e){var t=d[e];Object.keys(t).forEach(function(n){var i=n,a=t[i];(Array.isArray(a)?a:[a]).forEach(function(t){r.push({type:"numeric",attribute:e,name:"".concat(t),numericValue:t,operator:i})})})}),g.forEach(function(e){r.push({type:"tag",attribute:"_tags",name:e})}),n&&t.query&&t.query.trim()&&r.push({attribute:"query",type:"query",name:t.query,query:t.query}),r}function un(e){var t=e.attributesToClear,n=void 0===t?[]:t,r=e.helper.state.setPage(0);return r=n.reduce(function(e,t){return r.isNumericRefined(t)?e.removeNumericRefinement(t):r.isHierarchicalFacet(t)?e.removeHierarchicalFacetRefinement(t):r.isDisjunctiveFacet(t)?e.removeDisjunctiveFacetRefinement(t):r.isConjunctiveFacet(t)?e.removeFacetRefinement(t):e},r),-1!==n.indexOf("query")&&(r=r.setQuery("")),r}function ln(e){return"number"==typeof e&&e<0&&(e=String(e).replace(/^-/,"\\-")),e}function fn(e){return Object.prototype.toString.call(e).slice(8,-1)}function hn(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat(fn(e),").\n\n").concat(t))}function dn(){}var pn=function(e,t){return e},gn=dn,mn=dn;"development"==="production".NODE_ENV&&(gn=function(e){console.warn("[InstantSearch.js]: ".concat(e.trim()))},pn=function(e,t){var n=!1;return function(){return n||(n=!0,gn(t)),e.apply(void 0,arguments)}},(mn=function(e,t){e||mn.cache[t]||(mn.cache[t]=!0,gn(t))}).cache={});var vn=Object.keys;function yn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||bn(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bn(e,t){if(e){if("string"==typeof e)return On(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?On(e,t):void 0}}function On(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wn={query:{connectors:["connectSearchBox"],widgets:["ais.searchBox","ais.autocomplete","ais.voiceSearch"]},refinementList:{connectors:["connectRefinementList"],widgets:["ais.refinementList"]},menu:{connectors:["connectMenu"],widgets:["ais.menu"]},hierarchicalMenu:{connectors:["connectHierarchicalMenu"],widgets:["ais.hierarchicalMenu"]},numericMenu:{connectors:["connectNumericMenu"],widgets:["ais.numericMenu"]},ratingMenu:{connectors:["connectRatingMenu"],widgets:["ais.ratingMenu"]},range:{connectors:["connectRange"],widgets:["ais.rangeInput","ais.rangeSlider","ais.range"]},toggle:{connectors:["connectToggleRefinement"],widgets:["ais.toggleRefinement"]},geoSearch:{connectors:["connectGeoSearch"],widgets:["ais.geoSearch"]},sortBy:{connectors:["connectSortBy"],widgets:["ais.sortBy"]},page:{connectors:["connectPagination"],widgets:["ais.pagination","ais.infiniteHits"]},hitsPerPage:{connectors:["connectHitsPerPage"],widgets:["ais.hitsPerPage"]},configure:{connectors:["connectConfigure"],widgets:["ais.configure"]},places:{connectors:[],widgets:["ais.places"]}};function Sn(e){var t=e.index,n=e.indexUiState,r=t.getWidgets().map(function(e){return e.$$type}).filter(Boolean),i=vn(n).reduce(function(e,t){var n=wn[t];if(!n)return e;var i=n.widgets;return i&&!i.some(function(e){return r.includes(e)})&&e.push([t,{connectors:n.connectors,widgets:n.widgets.map(function(e){return e.split("ais.")[1]})}]),e},[]);"development"==="production".NODE_ENV&&mn(0===i.length,'The UI state for the index "'.concat(t.getIndexId(),'" is not consistent with the widgets mounted.\n\nThis can happen when the UI state is specified via `initialUiState`, `routing` or `setUiState` but that the widgets responsible for this state were not added. This results in those query parameters not being sent to the API.\n\nTo fully reflect the state, some widgets need to be added to the index "').concat(t.getIndexId(),'":\n\n').concat(i.map(function(e){var t,n,r=yn(e,2),i=r[1].widgets;return"- `".concat(r[0],"` needs one of these widgets: ").concat((t=[]).concat.apply(t,(n=i.map(function(e){return function(e){switch(e){case"range":return[];case"menu":return["menu","menuSelect"];default:return[e]}}(e)}),function(e){if(Array.isArray(e))return On(e)}(n)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||bn(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())).map(function(e){return'"'.concat(e,'"')}).join(", "))}).join("\n"),'\n\nIf you do not wish to display widgets but still want to support their search parameters, you can mount "virtual widgets" that don\'t render anything:\n\n```\n').concat(i.filter(function(e){return yn(e,2)[1].connectors.length>0}).map(function(e){var t=yn(e,2)[1],n=t.connectors,r=en(t.widgets[0]),i=n[0];return"const virtual".concat(r," = ").concat(i,"(() => null);")}).join("\n"),"\n\nsearch.addWidgets([\n  ").concat(i.filter(function(e){return yn(e,2)[1].connectors.length>0}).map(function(e){var t=en(yn(e,2)[1].widgets[0]);return"virtual".concat(t,"({ /* ... */ })")}).join(",\n  "),"\n]);\n```\n\nIf you're using custom widgets that do set these query parameters, we recommend using connectors instead.\n\nSee https://www.algolia.com/doc/guides/building-search-ui/widgets/customize-an-existing-widget/js/#customize-the-complete-ui-of-the-widgets"))}function jn(e,t){return(Array.isArray(t)?t:t.split(".")).reduce(function(e,t){return e&&e[t]},e)}function Pn(e){return"number"==typeof e&&isFinite(e)}function Rn(e){return(Rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e){if(!function(e){return"object"===Rn(e)&&null!==e}(e)||"[object Object]"!==function(e){return null===e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function En(e){var t,n=e.start,r=void 0===n?0:n,i=e.step,a=void 0===i?1:i,o=0===a?1:a,s=Math.round((e.end-r)/o);return(t=Array(s),function(e){if(Array.isArray(e))return xn(e)}(t)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xn(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e,t){return r+t*o})}function Fn(e){return e!==Object(e)}function In(e,t){if(e===t)return!0;if(Fn(e)||Fn(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];if(!(i in t))return!1;if(!In(e[i],t[i]))return!1}return!0}var An={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tn=/[&<>"']/g,kn=RegExp(Tn.source),Dn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Nn=/&(amp|quot|lt|gt|#39);/g,Cn=RegExp(Nn.source);function Mn(){return(Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach(function(t){Hn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Un={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},qn="<mark>",Qn="</mark>";function $n(e){return function(e){return e&&kn.test(e)?e.replace(Tn,function(e){return An[e]}):e}(e).replace(new RegExp(Un.highlightPreTag,"g"),qn).replace(new RegExp(Un.highlightPostTag,"g"),Qn)}function Bn(e){return _n(e)&&"string"!=typeof e.value?Object.keys(e).reduce(function(t,n){return Wn(Wn({},t),{},Hn({},n,Bn(e[n])))},{}):Array.isArray(e)?e.map(Bn):Wn(Wn({},e),{},{value:$n(e.value)})}function Vn(e){return void 0===e.__escaped&&((e=e.map(function(e){var t=Mn({},e);return t._highlightResult&&(t._highlightResult=Bn(t._highlightResult)),t._snippetResult&&(t._snippetResult=Bn(t._snippetResult)),t})).__escaped=!0),e}function zn(e){return e.map(function(e){return Wn(Wn({},e),{},{highlighted:$n(e.highlighted)})})}function Jn(e){return e.map(function(e){return e.isHighlighted?"<mark>"+e.value+"</mark>":e.value}).join("")}function Kn(e){var t=e.split(qn),n=t.shift(),r=n?[{value:n,isHighlighted:!1}]:[];return t.forEach(function(e){var t=e.split("</mark>");r.push({value:t[0],isHighlighted:!0}),""!==t[1]&&r.push({value:t[1],isHighlighted:!1})}),r}var Yn=new RegExp(/\w/i);function Gn(e,t){var n,r,i,a=e[t],o=(null===(n=e[t+1])||void 0===n?void 0:n.isHighlighted)||!0,s=(null===(r=e[t-1])||void 0===r?void 0:r.isHighlighted)||!0;return Yn.test((i=a.value)&&Cn.test(i)?i.replace(Nn,function(e){return Dn[e]}):i)||s!==o?a.isHighlighted:s}function Zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zn(Object(n),!0).forEach(function(t){er(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tr(e){return e.some(function(e){return e.isHighlighted})?e.map(function(t,n){return Xn(Xn({},t),{},{isHighlighted:!Gn(e,n)})}):e.map(function(e){return Xn(Xn({},e),{},{isHighlighted:!1})})}function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach(function(t){ir(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ir(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ar=function(e,t){var n=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"]);return e.setQueryParameters(n)},or=function(e,t){return t.facets.reduce(function(e,t){return e.addFacet(t)},e)},sr=function(e,t){return t.disjunctiveFacets.reduce(function(e,t){return e.addDisjunctiveFacet(t)},e)},cr=function(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(e,t){var n=function(e,n){if(!Array.isArray(e))return-1;for(var r=0;r<e.length;r++)if(e[r].name===t.name)return r;return-1}(e);if(-1===n)return e.concat(t);var r=e.slice();return r.splice(n,1,t),r},e.hierarchicalFacets)})},ur=function(e,t){return t.tagRefinements.reduce(function(e,t){return e.addTagRefinement(t)},e)},lr=function(e,t){return e.setQueryParameters({facetsRefinements:rr(rr({},e.facetsRefinements),t.facetsRefinements)})},fr=function(e,t){return e.setQueryParameters({facetsExcludes:rr(rr({},e.facetsExcludes),t.facetsExcludes)})},hr=function(e,t){return e.setQueryParameters({disjunctiveFacetsRefinements:rr(rr({},e.disjunctiveFacetsRefinements),t.disjunctiveFacetsRefinements)})},dr=function(e,t){return e.setQueryParameters({numericRefinements:rr(rr({},e.numericRefinements),t.numericRefinements)})},pr=function(e,t){return e.setQueryParameters({hierarchicalFacetsRefinements:rr(rr({},e.hierarchicalFacetsRefinements),t.hierarchicalFacetsRefinements)})},gr=function(e,t){var n=rn([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return n.length>0?e.setQueryParameters({ruleContexts:n}):e},mr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(function(e,t){var n=pr(e,t),r=cr(n,t),i=ur(r,t),a=dr(i,t),o=hr(a,t),s=fr(o,t),c=lr(s,t),u=sr(c,t),l=gr(u,t),f=or(l,t);return ar(f,t)})};function vr(e){return Array.isArray(e)?e:[e]}var yr=function(e){var t=e.connector;return["https://www.algolia.com/doc/api-reference/widgets/",e.name,"/js/",void 0!==t&&t?"#connector":""].join("")},br=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return yr(e)}).join(", ");return function(e){return[e,"See documentation: ".concat(r)].filter(Boolean).join("\n\n")}};function Or(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wr(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sr=/^(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)$/;function jr(e){var t=e.match(Sr);if(!t)throw new Error('Invalid value for "aroundLatLng" parameter: "'.concat(e,'"'));return{lat:parseFloat(t[1]),lng:parseFloat(t[2])}}function Pr(e){return Array.isArray(e)?function(e){var t=Or(e,1)[0],n=Or(t=void 0===t?[void 0,void 0,void 0,void 0]:t,4),r=n[0],i=n[1],a=n[2],o=n[3];if(!(r&&i&&a&&o))throw new Error('Invalid value for "insideBoundingBox" parameter: ['.concat(e,"]"));return{northEast:{lat:r,lng:i},southWest:{lat:a,lng:o}}}(e):function(e){var t=Or(e.split(",").map(parseFloat),4),n=t[0],r=t[1],i=t[2],a=t[3];if(!(n&&r&&i&&a))throw new Error('Invalid value for "insideBoundingBox" parameter: "'.concat(e,'"'));return{northEast:{lat:n,lng:r},southWest:{lat:i,lng:a}}}(e)}function Rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rr(Object(n),!0).forEach(function(t){xr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e,t,n){return e.map(function(e,r){return _r(_r({},e),{},{__position:n*t+r+1})})}function Fr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fr(Object(n),!0).forEach(function(t){Ar(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ar(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tr(e,t){return t?e.map(function(e){return Ir(Ir({},e),{},{__queryID:t})}):e}function kr(e,t,n){return e.state.isHierarchicalFacet(t)?e.state.isHierarchicalFacetRefined(t,n):e.state.isConjunctiveFacet(t)?e.state.isFacetRefined(t,n):e.state.isDisjunctiveFacetRefined(t,n)}function Dr(e){return(Dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nr(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.widgetType;return function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];var s=a[0],c=a[1],u=a[2],l=void 0===u?"Filter Applied":u;if(1===a.length&&"object"===Dr(a[0]))t.sendEventToInsights(a[0]);else if("click"!==s||2!==a.length&&3!==a.length){if("development"==="production".NODE_ENV)throw new Error("You need to pass two arguments like:\n  sendEvent('click', facetValue);\n\nIf you want to send a custom payload, you can pass one object: sendEvent(customPayload);\n")}else kr(n,r,c)||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:i,eventType:s,payload:{eventName:l,index:n.getIndex(),filters:["".concat(r,":").concat(c)]},attribute:r})}}function Cr(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Mr(e){return(Mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Lr=function(e){var t=e.index,n=e.widgetType,r=e.methodName,i=e.args;if(1===i.length&&"object"===Mr(i[0]))return[i[0]];var a=i[0],o=i[1],s=i[2];if(!o){if("development"==="production".NODE_ENV)throw new Error("You need to pass hit or hits as the second argument like:\n  ".concat(r,"(eventType, hit);\n  "));return[]}if(("click"===a||"conversion"===a)&&!s){if("development"==="production".NODE_ENV)throw new Error("You need to pass eventName as the third argument for 'click' or 'conversion' events like:\n  ".concat(r,"('click', hit, 'Product Purchased');\n\n  To learn more about event naming: https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/in-depth/clicks-conversions-best-practices/\n  "));return[]}var c=Array.isArray(o)?function(e){return e.slice()}(o):[o];if(0===c.length)return[];var u=c[0].__queryID,l=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=[],r=0;r<Math.ceil(e.length/t);r++)n.push(e.slice(r*t,(r+1)*t));return n}(c),f=l.map(function(e){return e.map(function(e){return e.objectID})}),h=l.map(function(e){return e.map(function(e){return e.__position})});if("view"===a)return l.map(function(e,r){return{insightsMethod:"viewedObjectIDs",widgetType:n,eventType:a,payload:{eventName:s||"Hits Viewed",index:t,objectIDs:f[r]},hits:e}});if("click"===a)return l.map(function(e,r){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:{eventName:s,index:t,queryID:u,objectIDs:f[r],positions:h[r]},hits:e}});if("conversion"===a)return l.map(function(e,r){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:n,eventType:a,payload:{eventName:s,index:t,queryID:u,objectIDs:f[r]},hits:e}});if("development"==="production".NODE_ENV)throw new Error('eventType("'.concat(a,'") is not supported.\n    If you want to send a custom payload, you can pass one object: ').concat(r,"(customPayload);\n    "));return[]};function Wr(e){var t=e.instantSearchInstance,n=e.index,r=e.widgetType;return function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var o=Lr({widgetType:r,index:n,methodName:"sendEvent",args:i});o.forEach(function(e){return t.sendEventToInsights(e)})}}function Hr(e){var t=e.index,n=e.widgetType;return function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];var a=Lr({widgetType:n,index:t,methodName:"bindEvent",args:r});return a.length?"data-insights-event=".concat(Cr(a)):""}}function Ur(e,t){if(!e)return null;var n=e.numericRefinements[t],r=[];return Object.keys(n).filter(function(e){return Array.isArray(n[e])&&n[e].length>0}).forEach(function(e){n[e].forEach(function(n){r.push("".concat(t).concat(e).concat(n))})}),r}function qr(){var e=-1,t=-1,n=void 0;return function(r){var i=++e;return Promise.resolve(r).then(function(e){return n&&i<t?n:(t=i,n=e,e)})}}function Qr(e,t){var n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return new Promise(function(r,a){n&&clearTimeout(n),n=setTimeout(function(){n=null,Promise.resolve(e.apply(void 0,i)).then(r).catch(a)},t)})}}function $r(e,t){var n,r=null===(n=e.getWidgetRenderState)||void 0===n?void 0:n.call(e,t),i=null;if(r&&r.widgetParams){var a=r.widgetParams;a.attribute?i=a.attribute:Array.isArray(a.attributes)&&(i=a.attributes[0])}if("string"!=typeof i)throw new Error("Could not find the attribute of the widget:\n\n".concat(JSON.stringify(e),"\n\nPlease check whether the widget's getWidgetRenderState returns widgetParams.attribute correctly."));return i}function Br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{fallback:function(){}},n=t.fallback;return"undefined"==typeof window?n():e({window:window})}function Vr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vr(Object(n),!0).forEach(function(t){Jr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(e){return function(e){if(Array.isArray(e))return Yr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Yr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yr(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Gr=br({name:"index-widget"});function Zr(e){return"ais.index"===e.$$type}function Xr(e,t){var n=t.state,r=t.isPageReset,i=t._uiState;n!==e.state&&(e.state=n,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:r,_uiState:i}))}function ei(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce(function(e,n){return Zr(n)?e:n.getWidgetUiState||n.getWidgetState?n.getWidgetUiState?n.getWidgetUiState(e,t):n.getWidgetState(e,t):e},n)}function ti(e,t){var n=t.initialSearchParameters,r=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(t,["initialSearchParameters"]);return e.filter(function(e){return!Zr(e)}).reduce(function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,r):e},n)}function ni(e){var t=e.filter(Zr);0!==t.length&&t.forEach(function(e){var t=e.getHelper();Xr(t,{state:t.state.resetPage(),isPageReset:!0}),ni(e.getWidgets())})}function ri(e){return e.filter(Zr).reduce(function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(Kr(ri(t.getWidgets()))))},[])}var ii=function(e){if(void 0===e||void 0===e.indexName)throw new Error(Gr("The `indexName` option is required."));var t=e.indexName,n=e.indexId,r=void 0===n?t:n,i=[],a={},o=null,s=null,c=null,u=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return t},getIndexId:function(){return r},getHelper:function(){return c},getResults:function(){return u&&u.lastResults},getScopedResults:function(){var e=this.getParent();return ri(e?e.getWidgets():[this])},getParent:function(){return s},createURL:function(e){return o._createURL(Jr({},r,ei(i,{searchParameters:e,helper:c})))},getWidgets:function(){return i},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(Gr("The `addWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(Gr("The widget definition expects a `render` and/or an `init` method."));return i=i.concat(e),o&&Boolean(e.length)&&(Xr(c,{state:ti(i,{uiState:a,initialSearchParameters:c.state}),_uiState:a}),e.forEach(function(e){e.getRenderState&&ai({renderState:e.getRenderState(o.renderState[t.getIndexId()]||{},{uiState:o._initialUiState,helper:t.getHelper(),parent:t,instantSearchInstance:o,state:c.state,renderState:o.renderState,templatesConfig:o.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:o._isSearchStalled}}),instantSearchInstance:o,parent:t})}),e.forEach(function(e){e.init&&e.init({helper:c,parent:t,uiState:o._initialUiState,instantSearchInstance:o,state:c.state,renderState:o.renderState,templatesConfig:o.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:o._isSearchStalled}})}),o.scheduleSearch()),this},removeWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(Gr("The `removeWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(Gr("The widget definition expects a `dispose` method."));if(i=i.filter(function(t){return-1===e.indexOf(t)}),o&&Boolean(e.length)){var n=e.reduce(function(e,n){return n.dispose({helper:c,state:e,parent:t})||e},c.state);a=ei(i,{searchParameters:n,helper:c}),c.setState(ti(i,{uiState:a,initialSearchParameters:n})),i.length&&o.scheduleSearch()}return this},init:function(e){var n,l=this,f=e.instantSearchInstance,h=e.uiState;if(null===c){o=f,s=e.parent;var d=f.mainHelper,p=ti(i,{uiState:a=h[r]||{},initialSearchParameters:new Xt.SearchParameters({index:t})});(c=Xt({},p.index,p)).search=function(){return f.onStateChange?(f.onStateChange({uiState:f.mainIndex.getWidgetUiState({}),setUiState:f.setUiState.bind(f)}),d):d.search()},c.searchWithoutTriggeringOnStateChange=function(){return d.search()},c.searchForFacetValues=function(e,t,n,r){var i=c.state.setQueryParameters(r);return d.searchForFacetValues(e,t,n,i)},u=d.derive(function(){return mr.apply(void 0,Kr(function(e){for(var t=e.getParent(),n=[e.getHelper().state];null!==t;)n=[t.getHelper().state].concat(n),t=t.getParent();return n}(l)))});var g=null===(n=f._initialResults)||void 0===n?void 0:n[this.getIndexId()];if(g){var m=new Xt.SearchResults(new Xt.SearchParameters(g.state),g.results);u.lastResults=m,c.lastResults=m}c.on("change",function(e){e.isPageReset&&ni(i)}),u.on("search",function(){f.scheduleStalledRender(),"development"==="production".NODE_ENV&&Sn({index:l,indexUiState:a})}),u.on("result",function(e){var t=e.results;f.scheduleRender(),c.lastResults=t}),i.forEach(function(e){e.getRenderState&&ai({renderState:e.getRenderState(f.renderState[l.getIndexId()]||{},{uiState:h,helper:c,parent:l,instantSearchInstance:f,state:c.state,renderState:f.renderState,templatesConfig:f.templatesConfig,createURL:l.createURL,scopedResults:[],searchMetadata:{isSearchStalled:f._isSearchStalled}}),instantSearchInstance:f,parent:l})}),i.forEach(function(e){"development"==="production".NODE_ENV&&mn(!e.getWidgetState||Boolean(e.getWidgetUiState),"The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead."),e.init&&e.init({uiState:h,helper:c,parent:l,instantSearchInstance:f,state:c.state,renderState:f.renderState,templatesConfig:f.templatesConfig,createURL:l.createURL,scopedResults:[],searchMetadata:{isSearchStalled:f._isSearchStalled}})}),c.on("change",function(e){a=ei(i,{searchParameters:e.state,helper:c},e._uiState||{}),f.onStateChange||f.onInternalStateChange()}),g&&f.scheduleRender()}},render:function(e){var t=this,n=e.instantSearchInstance;this.getResults()&&(i.forEach(function(e){e.getRenderState&&ai({renderState:e.getRenderState(n.renderState[t.getIndexId()]||{},{helper:t.getHelper(),parent:t,instantSearchInstance:n,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:n.renderState,templatesConfig:n.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:n._isSearchStalled}}),instantSearchInstance:n,parent:t})}),i.forEach(function(e){e.render&&e.render({helper:c,parent:t,instantSearchInstance:n,results:t.getResults(),scopedResults:t.getScopedResults(),state:t.getResults()._state,renderState:n.renderState,templatesConfig:n.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:n._isSearchStalled}})}))},dispose:function(){var e=this;i.forEach(function(t){t.dispose&&t.dispose({helper:c,state:c.state,parent:e})}),o=null,s=null,c.removeAllListeners(),c=null,u.detach(),u=null},getWidgetUiState:function(e){return i.filter(Zr).reduce(function(e,t){return t.getWidgetUiState(e)},zr(zr({},e),{},Jr({},this.getIndexId(),a)))},getWidgetState:function(e){return"development"==="production".NODE_ENV&&mn(!1,"The `getWidgetState` method is renamed `getWidgetUiState` and will no longer exist under that name in InstantSearch.js 5.x. Please use `getWidgetUiState` instead."),this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){return ti(i,{uiState:t.uiState,initialSearchParameters:e})},refreshUiState:function(){a=ei(i,{searchParameters:this.getHelper().state,helper:this.getHelper()},a)}}};function ai(e){var t=e.renderState,n=e.instantSearchInstance,r=e.parent,i=r?r.getIndexId():n.mainIndex.getIndexId();n.renderState=zr(zr({},n.renderState),{},Jr({},i,zr(zr({},n.renderState[i]),t)))}var oi="4.39.0",si=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.descendantName,r=t.modifierName,i=n?"-".concat(n):"",a=r?"--".concat(r):"";return"".concat("ais","-").concat(e).concat(i).concat(a)}},ci=si("Highlight");function ui(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.cssClasses,a=void 0===i?{}:i,o=jn(e.hit._highlightResult,t);"development"==="production".NODE_ENV&&mn(o,'Could not enable highlight for "'.concat(t,'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var s=(o||{}).value,c=void 0===s?"":s,u=ci({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return c.replace(new RegExp(qn,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(Qn,"g"),"</".concat(r,">"))}var li=si("ReverseHighlight");function fi(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.cssClasses,a=void 0===i?{}:i,o=jn(e.hit._highlightResult,t);"development"==="production".NODE_ENV&&mn(o,'Could not enable reverse highlight for "'.concat(t,'", will display an empty string.\nPlease check whether this attribute exists and is either searchable or specified in `attributesToHighlight`.\n\nSee: https://alg.li/highlighting\n'));var s=(o||{}).value,c=void 0===s?"":s,u=li({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return Jn(tr(Kn(c))).replace(new RegExp(qn,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(Qn,"g"),"</".concat(r,">"))}var hi=si("Snippet");function di(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.cssClasses,a=void 0===i?{}:i,o=jn(e.hit._snippetResult,t);"development"==="production".NODE_ENV&&mn(o,'Could not enable snippet for "'.concat(t,'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var s=(o||{}).value,c=void 0===s?"":s,u=hi({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return c.replace(new RegExp(qn,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(Qn,"g"),"</".concat(r,">"))}var pi=si("ReverseSnippet");function gi(e){var t=e.attribute,n=e.highlightedTagName,r=void 0===n?"mark":n,i=e.cssClasses,a=void 0===i?{}:i,o=jn(e.hit._snippetResult,t);"development"==="production".NODE_ENV&&mn(o,'Could not enable reverse snippet for "'.concat(t,'", will display an empty string.\nPlease check whether this attribute exists and is specified in `attributesToSnippet`.\n\nSee: https://alg.li/highlighting\n'));var s=(o||{}).value,c=void 0===s?"":s,u=pi({descendantName:"highlighted"})+(a.highlighted?" ".concat(a.highlighted):"");return Jn(tr(Kn(c))).replace(new RegExp(qn,"g"),"<".concat(r,' class="').concat(u,'">')).replace(new RegExp(Qn,"g"),"</".concat(r,">"))}function mi(e){return(mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vi(e,t){return"development"==="production".NODE_ENV&&mn(!1,"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),function(e){var t,n=e.method,r=e.payload;if("object"!==mi(r))throw new Error("The insights helper expects the payload to be an object.");try{t=Cr(r)}catch(e){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(n,'" data-insights-payload="').concat(t,'"')}({method:e,payload:t})}function yi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yi(Object(n),!0).forEach(function(t){Oi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wi(e){var t=e.numberLocale;return{formatNumber:function(e,n){return Number(n(e)).toLocaleString(t)},highlight:function(e,t){try{return t(ui(bi(bi({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseHighlight:function(e,t){try{return t(fi(bi(bi({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},snippet:function(e,t){try{return t(di(bi(bi({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}},reverseSnippet:function(e,t){try{return t(gi(bi(bi({},JSON.parse(e)),{},{hit:this})))}catch(e){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}},insights:function(e,t){try{var n=JSON.parse(e);return t(vi(n.method,bi({objectIDs:[this.objectID]},n.payload)))}catch(e){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}function Si(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ji(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Si(Object(n),!0).forEach(function(t){Pi(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Si(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Pi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ri(e){return function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["configure"])}function _i(){return{stateToRoute:function(e){return Object.keys(e).reduce(function(t,n){return ji(ji({},t),{},Pi({},n,Ri(e[n])))},{})},routeToState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce(function(t,n){return ji(ji({},t),{},Pi({},n,Ri(e[n])))},{})}}}var xi=String.prototype.replace,Ei=/%20/g,Fi="RFC3986",Ii={default:Fi,formatters:{RFC1738:function(e){return xi.call(e,Ei,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:Fi},Ai=Object.prototype.hasOwnProperty,Ti=Array.isArray,ki=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),Di=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},Ni={arrayToObject:Di,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],o=Object.keys(a),s=0;s<o.length;++s){var c=o[s],u=a[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(Ti(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n,r,i){if(0===e.length)return e;var a=e;if("symbol"==typeof e?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",s=0;s<a.length;++s){var c=a.charCodeAt(s);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===Ii.RFC1738&&(40===c||41===c)?o+=a.charAt(s):c<128?o+=ki[c]:c<2048?o+=ki[192|c>>6]+ki[128|63&c]:c<55296||c>=57344?o+=ki[224|c>>12]+ki[128|c>>6&63]+ki[128|63&c]:(c=65536+((1023&c)<<10|1023&a.charCodeAt(s+=1)),o+=ki[240|c>>18]+ki[128|c>>12&63]+ki[128|c>>6&63]+ki[128|63&c])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(Ti(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!=typeof n){if(Ti(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(r&&(r.plainObjects||r.allowPrototypes)||!Ai.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var i=t;return Ti(t)&&!Ti(n)&&(i=Di(t,r)),Ti(t)&&Ti(n)?(n.forEach(function(n,i){if(Ai.call(t,i)){var a=t[i];a&&"object"==typeof a&&n&&"object"==typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n}),t):Object.keys(n).reduce(function(t,i){var a=n[i];return t[i]=Ai.call(t,i)?e(t[i],a,r):a,t},i)}},Ci=Object.prototype.hasOwnProperty,Mi={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Li=Array.isArray,Wi=String.prototype.split,Hi=Array.prototype.push,Ui=function(e,t){Hi.apply(e,Li(t)?t:[t])},qi=Date.prototype.toISOString,Qi=Ii.default,$i={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Ni.encode,encodeValuesOnly:!1,format:Qi,formatter:Ii.formatters[Qi],indices:!1,serializeDate:function(e){return qi.call(e)},skipNulls:!1,strictNullHandling:!1},Bi=function e(t,n,r,i,a,o,s,c,u,l,f,h,d,p){var g,m=t;if("function"==typeof s?m=s(n,m):m instanceof Date?m=l(m):"comma"===r&&Li(m)&&(m=Ni.maybeMap(m,function(e){return e instanceof Date?l(e):e})),null===m){if(i)return o&&!d?o(n,$i.encoder,p,"key",f):n;m=""}if("string"==typeof(g=m)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||Ni.isBuffer(m)){if(o){var v=d?n:o(n,$i.encoder,p,"key",f);if("comma"===r&&d){for(var y=Wi.call(String(m),","),b="",O=0;O<y.length;++O)b+=(0===O?"":",")+h(o(y[O],$i.encoder,p,"value",f));return[h(v)+"="+b]}return[h(v)+"="+h(o(m,$i.encoder,p,"value",f))]}return[h(n)+"="+h(String(m))]}var w,S=[];if(void 0===m)return S;if("comma"===r&&Li(m))w=[{value:m.length>0?m.join(",")||null:void 0}];else if(Li(s))w=s;else{var j=Object.keys(m);w=c?j.sort(c):j}for(var P=0;P<w.length;++P){var R=w[P],_="object"==typeof R&&void 0!==R.value?R.value:m[R];if(!a||null!==_){var x=Li(m)?"function"==typeof r?r(n,R):n:n+(u?"."+R:"["+R+"]");Ui(S,e(_,x,r,i,a,o,s,c,u,l,f,h,d,p))}}return S},Vi=Object.prototype.hasOwnProperty,zi=Array.isArray,Ji={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ni.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ki=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},Yi=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Gi=function(e,t,n,r){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,o=n.depth>0&&/(\[[^[\]]*])/.exec(i),s=o?i.slice(0,o.index):i,c=[];if(s){if(!n.plainObjects&&Vi.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var u=0;n.depth>0&&null!==(o=a.exec(i))&&u<n.depth;){if(u+=1,!n.plainObjects&&Vi.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(o[1])}return o&&c.push("["+i.slice(o.index)+"]"),function(e,t,n,r){for(var i=r?t:Yi(t,n),a=e.length-1;a>=0;--a){var o,s=e[a];if("[]"===s&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(c,10);n.parseArrays||""!==c?!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&n.parseArrays&&u<=n.arrayLimit?(o=[])[u]=i:"__proto__"!==c&&(o[c]=i):o={0:i}}i=o}return i}(c,t,n,r)}},Zi={formats:Ii,parse:function(e,t){var n=function(e){if(!e)return Ji;if(null!=e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:void 0===e.allowDots?Ji.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:Ji.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:Ji.arrayLimit,charset:void 0===e.charset?Ji.charset:e.charset,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:Ji.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:Ji.comma,decoder:"function"==typeof e.decoder?e.decoder:Ji.decoder,delimiter:"string"==typeof e.delimiter||Ni.isRegExp(e.delimiter)?e.delimiter:Ji.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:Ji.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:Ji.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:Ji.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:Ji.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:Ji.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){var n,r={},i=(t.ignoreQueryPrefix?e.replace(/^\?/,""):e).split(t.delimiter,Infinity===t.parameterLimit?void 0:t.parameterLimit),a=-1,o=t.charset;if(t.charsetSentinel)for(n=0;n<i.length;++n)0===i[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===i[n]?o="utf-8":"utf8=%26%2310003%3B"===i[n]&&(o="iso-8859-1"),a=n,n=i.length);for(n=0;n<i.length;++n)if(n!==a){var s,c,u=i[n],l=u.indexOf("]="),f=-1===l?u.indexOf("="):l+1;-1===f?(s=t.decoder(u,Ji.decoder,o,"key"),c=t.strictNullHandling?null:""):(s=t.decoder(u.slice(0,f),Ji.decoder,o,"key"),c=Ni.maybeMap(Yi(u.slice(f+1),t),function(e){return t.decoder(e,Ji.decoder,o,"value")})),c&&t.interpretNumericEntities&&"iso-8859-1"===o&&(c=Ki(c)),u.indexOf("[]=")>-1&&(c=zi(c)?[c]:c),r[s]=Vi.call(r,s)?Ni.combine(r[s],c):c}return r}(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),o=0;o<a.length;++o){var s=a[o],c=Gi(s,r[s],n,"string"==typeof e);i=Ni.merge(i,c,n)}return Ni.compact(i)},stringify:function(e,t){var n,r=e,i=function(e){if(!e)return $i;if(null!=e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||$i.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ii.default;if(void 0!==e.format){if(!Ci.call(Ii.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=Ii.formatters[n],i=$i.filter;return("function"==typeof e.filter||Li(e.filter))&&(i=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:$i.addQueryPrefix,allowDots:void 0===e.allowDots?$i.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:$i.charsetSentinel,delimiter:void 0===e.delimiter?$i.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:$i.encode,encoder:"function"==typeof e.encoder?e.encoder:$i.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:$i.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:$i.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:$i.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:$i.strictNullHandling}}(t);"function"==typeof i.filter?r=(0,i.filter)("",r):Li(i.filter)&&(n=i.filter);var a=[];if("object"!=typeof r||null===r)return"";var o=Mi[t&&t.arrayFormat in Mi?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices"];n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var s=0;s<n.length;++s){var c=n[s];i.skipNulls&&null===r[c]||Ui(a,Bi(r[c],c,o,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset))}var u=a.join(i.delimiter),l=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&(l+="iso-8859-1"===i.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),u.length>0?l+u:""}};function Xi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ea=function(e){e&&(window.document.title=e)},ta=function(){function e(t){var n=this,r=t.windowTitle,i=t.writeDelay,a=void 0===i?400:i,o=t.createURL,s=t.parseURL,c=t.getLocation;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Xi(this,"windowTitle",void 0),Xi(this,"writeDelay",void 0),Xi(this,"_createURL",void 0),Xi(this,"parseURL",void 0),Xi(this,"getLocation",void 0),Xi(this,"writeTimer",void 0),Xi(this,"shouldPushState",!0),Xi(this,"isDisposed",!1),Xi(this,"latestAcknowledgedHistory",0),this.windowTitle=r,this.writeTimer=void 0,this.writeDelay=a,this._createURL=o,this.parseURL=s,this.getLocation=c,Br(function(e){var t=e.window,r=n.windowTitle&&n.windowTitle(n.read());ea(r),n.latestAcknowledgedHistory=t.history.length})}var t;return(t=[{key:"read",value:function(){return this.parseURL({qsModule:Zi,location:this.getLocation()})}},{key:"write",value:function(e){var t=this;Br(function(n){var r=n.window,i=t.createURL(e),a=t.windowTitle&&t.windowTitle(e);t.writeTimer&&clearTimeout(t.writeTimer),t.writeTimer=setTimeout(function(){ea(a),t.shouldPushState&&(!t.isDisposed||t.latestAcknowledgedHistory===r.history.length)&&(r.history.pushState(e,a||"",i),t.latestAcknowledgedHistory=r.history.length),t.shouldPushState=!0,t.writeTimer=void 0},t.writeDelay)})}},{key:"onUpdate",value:function(e){var t=this;this._onPopState=function(n){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.shouldPushState=!1,e(n.state||t.read())},Br(function(e){e.window.addEventListener("popstate",t._onPopState)})}},{key:"createURL",value:function(e){return this._createURL({qsModule:Zi,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var e=this;this.isDisposed=!0,Br(function(t){e._onPopState&&t.window.removeEventListener("popstate",e._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createURL,n=void 0===t?function(e){var t=e.location,n=t.protocol,r=t.hostname,i=t.port,a=void 0===i?"":i,o=t.pathname,s=t.hash,c=e.qsModule.stringify(e.routeState),u=""===a?"":":".concat(a);return c?"".concat(n,"//").concat(r).concat(u).concat(o,"?").concat(c).concat(s):"".concat(n,"//").concat(r).concat(u).concat(o).concat(s)}:t,r=e.parseURL,i=void 0===r?function(e){return e.qsModule.parse(e.location.search.slice(1),{arrayLimit:99})}:r,a=e.writeDelay,o=void 0===a?400:a,s=e.windowTitle,c=e.getLocation,u=void 0===c?function(){return Br(function(e){return e.window.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:c;return new ta({createURL:n,parseURL:i,writeDelay:o,windowTitle:s,getLocation:u})}function ra(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ra(Object(n),!0).forEach(function(t){aa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ra(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oa(e,t,n){var r=t.mainIndex,i={instantSearchInstance:t,parent:r,scopedResults:[],state:r.getHelper().state,helper:r.getHelper(),createURL:r.createURL,uiState:t._initialUiState,renderState:t.renderState,templatesConfig:t.templatesConfig,searchMetadata:{isSearchStalled:t._isSearchStalled}};e.forEach(function(e){var r={};if(e.getWidgetRenderState){var a=e.getWidgetRenderState(i);a&&a.widgetParams&&(r=a.widgetParams)}var o=Object.keys(r).filter(function(e){return void 0!==r[e]});n.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:o}),"ais.index"===e.$$type&&oa(e.getWidgets(),t,n)})}function sa(){return function(e){var t=e.instantSearchInstance,n={widgets:[]},r=document.createElement("meta"),i=document.querySelector("head");return r.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout(function(){var e=t.client;n.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,oa(t.mainIndex.getWidgets(),t,n),r.content=JSON.stringify(n),i.appendChild(r)},0)},unsubscribe:function(){r.remove()}}}}function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function la(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(n),!0).forEach(function(t){ga(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ua(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ha(e,t){return!t||"object"!==ca(t)&&"function"!=typeof t?da(e):t}function da(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pa(e){return(pa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ga(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ma=br({name:"instantsearch"});function va(){return"#"}var ya=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(a,e);var t,n,r,i=(n=a,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}(),function(){var e,t=pa(n);if(r){var i=pa(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ha(this,e)});function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ga(da(t=i.call(this)),"client",void 0),ga(da(t),"indexName",void 0),ga(da(t),"insightsClient",void 0),ga(da(t),"onStateChange",null),ga(da(t),"helper",void 0),ga(da(t),"mainHelper",void 0),ga(da(t),"mainIndex",void 0),ga(da(t),"started",void 0),ga(da(t),"templatesConfig",void 0),ga(da(t),"renderState",{}),ga(da(t),"_stalledSearchDelay",void 0),ga(da(t),"_searchStalledTimer",void 0),ga(da(t),"_isSearchStalled",void 0),ga(da(t),"_initialUiState",void 0),ga(da(t),"_initialResults",void 0),ga(da(t),"_createURL",void 0),ga(da(t),"_searchFunction",void 0),ga(da(t),"_mainHelperSearch",void 0),ga(da(t),"middleware",[]),ga(da(t),"sendEventToInsights",void 0),ga(da(t),"scheduleSearch",nn(function(){t.started&&t.mainHelper.search()})),ga(da(t),"scheduleRender",nn(function(){t.mainHelper.hasPendingRequests()||(clearTimeout(t._searchStalledTimer),t._searchStalledTimer=null,t._isSearchStalled=!1),t.mainIndex.render({instantSearchInstance:da(t)}),t.emit("render")})),ga(da(t),"onInternalStateChange",nn(function(){var e=t.mainIndex.getWidgetUiState({});t.middleware.forEach(function(t){t.instance.onStateChange({uiState:e})})}));var n=e.indexName,r=void 0===n?null:n,o=e.numberLocale,s=e.initialUiState,c=void 0===s?{}:s,u=e.routing,l=void 0===u?null:u,f=e.searchFunction,h=e.stalledSearchDelay,d=void 0===h?200:h,p=e.searchClient,g=void 0===p?null:p,m=e.insightsClient,v=void 0===m?null:m,y=e.onStateChange,b=void 0===y?null:y;if(null===r)throw new Error(ma("The `indexName` option is required."));if(null===g)throw new Error(ma("The `searchClient` option is required."));if("function"!=typeof g.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof g.addAlgoliaAgent&&g.addAlgoliaAgent("instantsearch.js (".concat(oi,")")),"development"==="production".NODE_ENV&&mn(null===v,"`insightsClient` property has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),v&&"function"!=typeof v)throw new Error(ma("The `insightsClient` option should be a function."));return"development"==="production".NODE_ENV&&mn(!e.searchParameters,"The `searchParameters` option is deprecated and will not be supported in InstantSearch.js 4.x.\n\nYou can replace it with the `configure` widget:\n\n```\nsearch.addWidgets([\n  configure(".concat(JSON.stringify(e.searchParameters,null,2),")\n]);\n```\n\nSee ").concat(yr({name:"configure"}))),t.client=g,t.insightsClient=v,t.indexName=r,t.helper=null,t.mainHelper=null,t.mainIndex=ii({indexName:r}),t.onStateChange=b,t.started=!1,t.templatesConfig={helpers:wi({numberLocale:o}),compileOptions:{}},t._stalledSearchDelay=d,t._searchStalledTimer=null,t._isSearchStalled=!1,t._createURL=va,t._initialUiState=c,t._initialResults=null,f&&(t._searchFunction=f),t.sendEventToInsights=dn,l&&t.use(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,n=void 0===t?na():t,r=e.stateMapping,i=void 0===r?_i():r;return function(e){var t=e.instantSearchInstance;t._createURL=function(e){var r=Object.keys(e).reduce(function(t,n){return ia(ia({},t),{},aa({},n,e[n]))},t.mainIndex.getWidgetUiState({})),a=i.stateToRoute(r);return n.createURL(a)};var r=void 0,a=t._initialUiState;return{onStateChange:function(e){var t=i.stateToRoute(e.uiState);void 0!==r&&In(r,t)||(n.write(t),r=t)},subscribe:function(){t._initialUiState=ia(ia({},a),i.routeToState(n.read())),n.onUpdate(function(e){t.setUiState(i.routeToState(e))})},unsubscribe:function(){n.dispose()}}}}("boolean"==typeof l?void 0:l)),Br(function(e){var t,n;return(null===(t=e.window.navigator)||void 0===t||null===(n=t.userAgent)||void 0===n?void 0:n.indexOf("Algolia Crawler"))>-1},{fallback:function(){return!1}})&&t.use(sa()),t}return(t=[{key:"use",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.map(function(t){var n=la({subscribe:dn,unsubscribe:dn,onStateChange:dn},t({instantSearchInstance:e}));return e.middleware.push({creator:t,instance:n}),n});return this.started&&i.forEach(function(e){e.subscribe()}),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.middleware.filter(function(e){return t.includes(e.creator)}).forEach(function(e){return e.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(e){return!t.includes(e.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return"development"==="production".NODE_ENV&&mn(!1,"The middleware API is now considered stable, so we recommend replacing `EXPERIMENTAL_use` with `use` before upgrading to the next major version."),this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return"development"==="production".NODE_ENV&&mn(!1,"addWidget will still be supported in 4.x releases, but not further. It is replaced by `addWidgets([widget])`"),this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(ma("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(ma("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return"development"==="production".NODE_ENV&&mn(!1,"removeWidget will still be supported in 4.x releases, but not further. It is replaced by `removeWidgets([widget])`"),this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(ma("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(ma("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var e=this;if(this.started)throw new Error(ma("The `start` method has already been called once."));var t=this.mainHelper||Xt(this.client,this.indexName);if(t.search=function(){return t.searchOnlyWithDerivedHelpers()},this._searchFunction){var n={search:function(){return new Promise(dn)}};this._mainHelperSearch=t.search.bind(t),t.search=function(){var r=e.mainIndex.getHelper(),i=Xt(n,r.state.index,r.state);return i.once("search",function(t){r.overrideStateWithoutTriggeringChangeEvent(t.state),e._mainHelperSearch()}),i.on("change",function(e){r.setState(e.state)}),e._searchFunction(i),t}}if(t.on("error",function(t){var n=t.error;n.error=n,e.emit("error",n)}),this.mainHelper=t,this.middleware.forEach(function(e){e.instance.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults){var r=this.scheduleSearch;this.scheduleSearch=nn(dn),nn(function(){e.scheduleSearch=r})()}else this.scheduleSearch();this.helper=this.mainIndex.getHelper(),this.started=!0}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(e){e.instance.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){e._isSearchStalled=!0,e.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(e){if(!this.mainHelper)throw new Error(ma("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var t="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;!function e(n){var r=t[n.getIndexId()]||{};"development"==="production".NODE_ENV&&Sn({index:n,indexUiState:r}),n.getHelper().setState(n.getWidgetSearchParameters(n.getHelper().state,{uiState:r})),n.getWidgets().filter(Zr).forEach(e)}(this.mainIndex),this.scheduleSearch(),this.onInternalStateChange()}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.started)throw new Error(ma("The `start` method needs to be called before `createURL`."));return this._createURL(e)}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(ma("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(a.prototype,t),a}(Wt);function ba(e){return function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e||{},["page"])}var Oa="ais.infiniteHits",wa=function(e){return new ya(e)};function Sa(e){return function(e){if(Array.isArray(e))return ja(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ja(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ja(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(n),!0).forEach(function(t){_a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pa(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wa.version=oi,wa.createInfiniteHitsSessionStorageCache=pn(function(){return{read:function(e){var t=e.state,n=Br(function(e){return e.window.sessionStorage});if(!n)return null;try{var r=JSON.parse(n.getItem(Oa));return r&&In(r.state,ba(t))?r.hits:null}catch(e){if(e instanceof SyntaxError)try{n.removeItem(Oa)}catch(e){}return null}},write:function(e){var t=e.state,n=e.hits,r=Br(function(e){return e.window.sessionStorage});if(r)try{r.setItem(Oa,JSON.stringify({state:ba(t),hits:n}))}catch(e){}}}},"import { createInfiniteHitsSessionStorageCache } from 'instantsearch.js/es/helpers'"),wa.highlight=pn(ui,"import { highlight } from 'instantsearch.js/es/helpers'"),wa.reverseHighlight=pn(fi,"import { reverseHighlight } from 'instantsearch.js/es/helpers'"),wa.snippet=pn(di,"import { snippet } from 'instantsearch.js/es/helpers'"),wa.reverseSnippet=pn(gi,"import { reverseSnippet } from 'instantsearch.js/es/helpers'"),wa.insights=vi,wa.getInsightsAnonymousUserToken=function(){return"development"==="production".NODE_ENV&&mn(!1,"`getInsightsAnonymousUserToken` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),function(e){for(var t="".concat("_ALGOLIA","="),n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(t.length,i.length)}}()},Object.defineProperty(wa,"widgets",{get:function(){throw new ReferenceError("\"instantsearch.widgets\" are not available from the ES build.\n\nTo import the widgets:\n\nimport { searchBox } from 'instantsearch.js/es/widgets'")}}),Object.defineProperty(wa,"connectors",{get:function(){throw new ReferenceError("\"instantsearch.connectors\" are not available from the ES build.\n\nTo import the connectors:\n\nimport { connectSearchBox } from 'instantsearch.js/es/connectors'")}});var xa=br({name:"clear-refinements",connector:!0});function Ea(e){var t=e.scopedResult,n=e.includedAttributes,r=e.excludedAttributes,i=e.transformItems,a=e.results,o=-1!==n.indexOf("query")||-1===r.indexOf("query");return{helper:t.helper,items:i(rn(cn(t.results,t.helper.state,o).map(function(e){return e.attribute}).filter(function(e){return 0===n.length||-1!==n.indexOf(e)}).filter(function(e){return"query"===e&&o||-1===r.indexOf(e)})),{results:a})}}function Fa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ia(Object(n),!0).forEach(function(t){Ta(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ia(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ta(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ka=br({name:"current-refinements",connector:!0});function Da(e){var t=e.results,n=e.helper,r=e.includedAttributes,i=e.excludedAttributes,a=-1!==(r||[]).indexOf("query")||-1===(i||[]).indexOf("query"),o=r?function(e){return-1!==r.indexOf(e.attribute)}:function(e){return-1===i.indexOf(e.attribute)},s=cn(t,n.state,a).map(Ma).filter(o);return s.reduce(function(e,t){return[].concat(function(e){if(Array.isArray(e))return Fa(e)}(r=e.filter(function(e){return e.attribute!==t.attribute}))||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(r)||function(e,t){if(e){if("string"==typeof e)return Fa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fa(e,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[{indexName:n.state.index,attribute:t.attribute,label:t.attribute,refinements:s.filter(function(e){return e.attribute===t.attribute}).sort(function(e,t){return"numeric"===e.type?e.value-t.value:0}),refine:function(e){return Ca(n,e)}}]);var r},[])}function Na(e,t){switch(t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return"development"==="production".NODE_ENV&&mn(!1,'The refinement type "'.concat(t.type,'" does not exist and cannot be cleared from the current refinements.')),e}}function Ca(e,t){e.setState(Na(e.state,t)).search()}function Ma(e){var t="numeric"===e.type?Number(e.name):e.name,n=e.operator?"".concat(function(e){switch(e){case">=":return"";case"<=":return"";default:return e}}(e.operator)," ").concat(e.name):e.name,r={attribute:e.attribute,type:e.type,value:t,label:n};return void 0!==e.operator&&(r.operator=e.operator),void 0!==e.count&&(r.count=e.count),void 0!==e.exhaustive&&(r.exhaustive=e.exhaustive),r}function La(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Wa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?La(Object(n),!0).forEach(function(t){Ha(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):La(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ha(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ua(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Qa(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Qa(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qa(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $a=br({name:"hierarchical-menu",connector:!0}),Ba=["name:asc"];function Va(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Va(Object(n),!0).forEach(function(t){Ja(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Va(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ka=br({name:"hits",connector:!0}),Ya=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,Ka()),function(n){var r,i,a=n||{},o=a.escapeHTML,s=void 0===o||o,c=a.transformItems,u=void 0===c?function(e){return e}:c;return{$$type:"ais.hits",init:function(t){e(za(za({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=this.getWidgetRenderState(t);n.sendEvent("view",n.hits),e(za(za({},n),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return za(za({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,a=e.helper;if(r||(r=Wr({instantSearchInstance:e.instantSearchInstance,index:a.getIndex(),widgetType:this.$$type})),i||(i=Hr({index:a.getIndex(),widgetType:this.$$type})),!t)return{hits:[],results:void 0,sendEvent:r,bindEvent:i,widgetParams:n};s&&t.hits.length>0&&(t.hits=Vn(t.hits));var o=Tr(Er(t.hits,t.page,t.hitsPerPage),t.queryID);return{hits:u(o,{results:t}),results:t,sendEvent:r,bindEvent:i,widgetParams:n}},dispose:function(e){var n=e.state;return t(),s?n.setQueryParameters(Object.keys(Un).reduce(function(e,t){return za(za({},e),{},Ja({},t,void 0))},{})):n},getWidgetSearchParameters:function(e){return s?e.setQueryParameters(Un):e}}}};function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Za(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach(function(t){Xa(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var eo=function(e){var t,n=e.method,r=e.objectIDs,i=e.results.index,a=(t=e.hits,r.map(function(e){var n=an(t,function(t){return t.objectID===e});if(void 0===n)throw new Error('Could not find objectID "'.concat(e,'" passed to `clickedObjectIDsAfterSearch` in the returned hits. This is necessary to infer the absolute position and the query ID.'));return n})),o=function(e){var t=rn(e.map(function(e){return e.__queryID}));if(t.length>1)throw new Error("Insights currently allows a single `queryID`. The `objectIDs` provided map to multiple `queryID`s.");var n=t[0];if("string"!=typeof n)throw new Error("Could not infer `queryID`. Ensure InstantSearch `clickAnalytics: true` was added with the Configure widget.\n\nSee: https://alg.li/lNiZZ7");return n}(a);switch(n){case"clickedObjectIDsAfterSearch":return{index:i,queryID:o,objectIDs:r,positions:function(e){return e.map(function(e){return e.__position})}(a)};case"convertedObjectIDsAfterSearch":return{index:i,queryID:o,objectIDs:r};default:throw new Error('Unsupported method passed to insights: "'.concat(n,'".'))}};function to(e){return function(t,n){return e(function(e,n){var r=e.results,i=e.hits,a=e.instantSearchInstance;if(r&&i&&a){var o=function(e,t,n){return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];var s=a[0];if("development"==="production".NODE_ENV&&mn(!1,"`insights` function has been deprecated. It is still supported in 4.x releases, but not further. It is replaced by the `insights` middleware.\n\nFor more information, visit https://www.algolia.com/doc/guides/getting-insights-and-analytics/search-analytics/click-through-and-conversions/how-to/send-click-and-conversion-events-with-instantsearch/js/"),!e){var c=br({name:"instantsearch"});throw new Error(c("The `insightsClient` option has not been provided to `instantsearch`."))}if(!Array.isArray(s.objectIDs))throw new TypeError("Expected `objectIDs` to be an array.");var u=eo({method:r,results:t,hits:n,objectIDs:s.objectIDs});e(r,Za(Za({},u),s))}}(a.insightsClient,r,i);return t(Za(Za({},e),{},{insights:o}),n)}return t(e,n)},n)}}var no=to(Ya);function ro(e){return function(e){if(Array.isArray(e))return io(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?io(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ao(Object(n),!0).forEach(function(t){so(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ao(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function so(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var co=br({name:"hits-per-page",connector:!0});function uo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function lo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uo(Object(n),!0).forEach(function(t){fo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ho(e){return function(e){if(Array.isArray(e))return po(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return po(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?po(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function po(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var go=br({name:"infinite-hits",connector:!0});function mo(e){return function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e||{},["page"])}function vo(){var e=null,t=null;return{read:function(n){return In(t,mo(n.state))?e:null},write:function(n){var r=n.hits;t=mo(n.state),e=r}}}function yo(e){return Object.keys(e).map(Number).sort(function(e,t){return e-t}).reduce(function(t,n){return t.concat(e[n])},[])}var bo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,go()),function(n){var r,i,a,o,s=n||{},c=s.escapeHTML,u=void 0===c||c,l=s.transformItems,f=void 0===l?function(e){return e}:l,h=s.cache,d=void 0===h?vo():h,p=function(e,t){var n=e.page,r=void 0===n?0:n,i=Object.keys(t).map(Number);return 0===i.length?r:Math.min.apply(Math,[r].concat(ho(i)))},g=function(e,t){var n=e.page,r=void 0===n?0:n,i=Object.keys(t).map(Number);return 0===i.length?r:Math.max.apply(Math,[r].concat(ho(i)))};return{$$type:"ais.infiniteHits",init:function(t){e(lo(lo({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=t.instantSearchInstance,r=this.getWidgetRenderState(t);a("view",r.currentPageHits),e(lo(lo({},r),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return lo(lo({},e),{},{infiniteHits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,s=e.results,c=e.helper,l=e.state,h=e.instantSearchInstance,m=[],v=d.read({state:l})||{};if(s){var y=l.page,b=void 0===y?0:y;u&&s.hits.length>0&&(s.hits=Vn(s.hits));var O=Tr(Er(s.hits,s.page,s.hitsPerPage),s.queryID),w=f(O,{results:s});void 0===v[b]&&(v[b]=w,d.write({state:l,hits:v})),m=w,t=0===p(l,v)}else r=function(e){return function(){e.overrideStateWithoutTriggeringChangeEvent(lo(lo({},e.state),{},{page:p(e.state,d.read({state:e.state})||{})-1})).searchWithoutTriggeringOnStateChange()}}(c),i=function(e){return function(){e.setPage(g(e.state,d.read({state:e.state})||{})+1).search()}}(c),a=Wr({instantSearchInstance:h,index:c.getIndex(),widgetType:this.$$type}),o=Hr({index:c.getIndex(),widgetType:this.$$type}),t=void 0===l.page||0===p(l,v);var S=yo(v),j=!s||s.nbPages<=g(l,v)+1;return{hits:S,currentPageHits:m,sendEvent:a,bindEvent:o,results:s,showPrevious:r,showMore:i,isFirstPage:t,isLastPage:j,widgetParams:n}},dispose:function(e){var n=e.state;t();var r=n.setQueryParameter("page",void 0);return u?r.setQueryParameters(Object.keys(Un).reduce(function(e,t){return lo(lo({},e),{},fo({},t,void 0))},{})):r},getWidgetUiState:function(e,t){var n=t.searchParameters.page||0;return n?lo(lo({},e),{},{page:n+1}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=e;return u&&(r=e.setQueryParameters(Un)),r.setQueryParameter("page",n.page?n.page-1:0)}}}},Oo=to(bo);function wo(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function So(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return jo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach(function(t){_o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xo=br({name:"menu",connector:!0}),Eo=["isRefined","name:asc"];function Fo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Io(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Io(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Io(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ao(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ao(Object(n),!0).forEach(function(t){ko(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ao(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ko(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Do=br({name:"numeric-menu",connector:!0}),No="ais.numericMenu",Co=function(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute;return function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];if(1!==i.length){var o=i[0],s=i[1],c=i[2],u=void 0===c?"Filter Applied":c;if("click"===o){var l=Ur(Lo(n.state,r,s),r);l&&l.length>0&&t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:No,eventType:o,payload:{eventName:u,index:n.getIndex(),filters:l},attribute:r})}}else t.sendEventToInsights(i[0])}};function Mo(e,t,n){var r=e.getNumericRefinements(t);return void 0!==n.start&&void 0!==n.end?n.start===n.end?Wo(r,"=",n.start):Wo(r,">=",n.start)&&Wo(r,"<=",n.end):void 0!==n.start?Wo(r,">=",n.start):void 0!==n.end?Wo(r,"<=",n.end):void 0===n.start&&void 0===n.end&&Object.keys(r).every(function(e){return 0===(r[e]||[]).length})}function Lo(e,t,n){var r=e,i=JSON.parse(decodeURI(n)),a=r.getNumericRefinements(t);if(void 0===i.start&&void 0===i.end)return r.removeNumericRefinement(t);if(Mo(r,t,i)||(r=r.removeNumericRefinement(t)),void 0!==i.start&&void 0!==i.end){if(i.start>i.end)throw new Error("option.start should be > to option.end");if(i.start===i.end)return Wo(a,"=",i.start)?r.removeNumericRefinement(t,"=",i.start):r.addNumericRefinement(t,"=",i.start)}return void 0!==i.start&&(Wo(a,">=",i.start)&&(r=r.removeNumericRefinement(t,">=",i.start)),r=r.addNumericRefinement(t,">=",i.start)),void 0!==i.end&&(Wo(a,"<=",i.end)&&(r=r.removeNumericRefinement(t,"<=",i.end)),r=r.addNumericRefinement(t,"<=",i.end)),"number"==typeof r.page&&(r.page=0),r}function Wo(e,t,n){return void 0!==e[t]&&e[t].includes(n)}function Ho(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Uo=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ho(this,"currentPage",void 0),Ho(this,"total",void 0),Ho(this,"padding",void 0),this.currentPage=t.currentPage,this.total=t.total,this.padding=t.padding}var t;return(t=[{key:"pages",value:function(){var e=this.total,t=this.currentPage,n=this.padding;if(0===e)return[0];var r=this.nbPagesDisplayed(n,e);if(r===e)return En({end:e});var i=this.calculatePaddingLeft(t,n,e,r);return En({start:t-i,end:t+(r-i)})}},{key:"nbPagesDisplayed",value:function(e,t){return Math.min(2*e+1,t)}},{key:"calculatePaddingLeft",value:function(e,t,n,r){return e<=t?e:e>=n-t?r-(n-e):t}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||0===this.total}},{key:"isFirstPage",value:function(){return 0===this.currentPage}}])&&function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,t),e}();function qo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qo(Object(n),!0).forEach(function(t){$o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bo=br({name:"pagination",connector:!0});function Vo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function zo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vo(Object(n),!0).forEach(function(t){Jo(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vo(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ko(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Yo(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yo(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Yo(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Go=br({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),Zo="ais.range";function Xo(e){var t=e.min,n=e.max,r=Math.pow(10,e.precision);return{min:t?Math.floor(t*r)/r:t,max:n?Math.ceil(n*r)/r:n}}function es(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?es(Object(n),!0).forEach(function(t){ns(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):es(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ns(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rs(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var is=br({name:"refinement-list",connector:!0}),as=["isRefined","count:desc","name:asc"];function os(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ss(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?os(Object(n),!0).forEach(function(t){cs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):os(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function cs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var us=br({name:"search-box",connector:!0}),ls=function(e,t){return t(e)};function fs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function hs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fs(Object(n),!0).forEach(function(t){ds(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ps=br({name:"sort-by",connector:!0});function gs(e){return function(e){if(Array.isArray(e))return ws(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Os(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ms(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ms(Object(n),!0).forEach(function(t){ys(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ms(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ys(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bs(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||Os(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Os(e,t){if(e){if("string"==typeof e)return ws(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ws(e,t):void 0}}function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ss=br({name:"rating-menu",connector:!0}),js="ais.ratingMenu",Ps=1e3,Rs=function(e){var t=e.instantSearchInstance,n=e.helper,r=e.getRefinedStar,i=e.attribute;return function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];if(1!==a.length){var s=a[0],c=a[1],u=a[2],l=void 0===u?"Filter Applied":u;if("click"===s){var f=r()===Number(c);f||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:js,eventType:s,payload:{eventName:l,index:n.getIndex(),filters:["".concat(i,">=").concat(c)]},attribute:i})}}else t.sendEventToInsights(a[0])}};function _s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_s(Object(n),!0).forEach(function(t){Es(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Es(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fs=br({name:"stats",connector:!0});function Is(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function As(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Is(Object(n),!0).forEach(function(t){Ts(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Is(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ts(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ks=br({name:"toggle-refinement",connector:!0}),Ds="ais.toggleRefinement",Ns=function(e){var t=e.instantSearchInstance,n=e.helper,r=e.attribute,i=e.on;return function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];if(1!==a.length){var s=a[0],c=a[1],u=a[2],l=void 0===u?"Filter Applied":u;"click"===s&&void 0!==i&&(c||t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Ds,eventType:s,payload:{eventName:l,index:n.getIndex(),filters:i.map(function(e){return"".concat(r,":").concat(e)})},attribute:r}))}else t.sendEventToInsights(a[0])}};function Cs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ms(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cs(Object(n),!0).forEach(function(t){Ls(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ls(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ws(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Hs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Hs(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Us=br({name:"breadcrumb",connector:!0});function qs(e){return e.reduce(function(e,t){return t.isRefined&&(e.push({label:t.name,value:t.path}),Array.isArray(t.data)&&(e=e.concat(qs(t.data)))),e},[])}function Qs(e){return e.map(function(t,n){return{label:t.label,value:n+1===e.length?null:e[n+1].value}})}function $s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Bs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$s(Object(n),!0).forEach(function(t){Vs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Vs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zs=br({name:"geo-search",connector:!0});function Js(e){return e.insideBoundingBox||""}function Ks(e,t){return e.setQueryParameter("insideBoundingBox",t)}var Ys="ais.geoSearch";function Gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Zs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gs(Object(n),!0).forEach(function(t){Xs(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gs(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Xs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ec=br({name:"powered-by",connector:!0});function tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tc(Object(n),!0).forEach(function(t){rc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function rc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ic=br({name:"configure",connector:!0});function ac(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(e,t){return nc(nc({},e),{},rc({},t,void 0))},{}))}var oc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return function(n){if(!n||!_n(n.searchParameters))throw new Error(ic("The `searchParameters` option expects an object."));var r={};return{$$type:"ais.configure",init:function(t){var n=t.instantSearchInstance;e(nc(nc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(nc(nc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var r=e.state;return t(),ac(r,n)},getRenderState:function(e,t){var n,r=this.getWidgetRenderState(t);return nc(nc({},e),{},{configure:nc(nc({},r),{},{widgetParams:nc(nc({},r.widgetParams),{},{searchParameters:mr(new Xt.SearchParameters(null===(n=e.configure)||void 0===n?void 0:n.widgetParams.searchParameters),new Xt.SearchParameters(r.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(e){return r.refine||(r.refine=(t=e.helper,function(e){var r=ac(t.state,n),i=mr(r,new Xt.SearchParameters(e));n.searchParameters=e,t.setState(i).search()})),{refine:r.refine,widgetParams:n};var t},getWidgetSearchParameters:function(e,t){return mr(e,new Xt.SearchParameters(nc(nc({},t.uiState.configure),n.searchParameters)))},getWidgetUiState:function(e){return nc(nc({},e),{},{configure:nc(nc({},e.configure),n.searchParameters)})}}}};function sc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function cc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sc(Object(n),!0).forEach(function(t){uc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lc(e){return function(e){if(Array.isArray(e))return fc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return fc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var hc=br({name:"configure-related-items",connector:!0});function dc(e){var t=e.attributeValue,n=e.attributeScore;return"".concat(e.attributeName,":").concat(t,"<score=").concat(n||1,">")}function pc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function gc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pc(Object(n),!0).forEach(function(t){mc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function mc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var vc=br({name:"autocomplete",connector:!0});function yc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yc(Object(n),!0).forEach(function(t){Oc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Oc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wc(e){return function(e){if(Array.isArray(e))return Sc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Sc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sc(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Sc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var jc=br({name:"query-rules",connector:!0});function Pc(e){return[e.disjunctiveFacetsRefinements,e.facetsRefinements,e.hierarchicalFacetsRefinements,e.numericRefinements].some(function(e){return Boolean(e&&Object.keys(e).length>0)})}function Rc(e){var t=this.helper,n=this.initialRuleContexts,r=this.transformRuleContexts,i=e.state,a=i.ruleContexts||[],o=function(e){var t=e.helper,n=e.sharedHelperState,r=e.trackedFilters;return Object.keys(r).reduce(function(e,i){var a=cn(t.lastResults||{},n,!0).filter(function(e){return e.attribute===i}).map(function(e){return e.numericValue||e.name}),o=(0,r[i])(a);return[].concat(wc(e),wc(a.filter(function(e){return o.includes(e)}).map(function(e){return"ais-".concat(i,"-").concat(e).replace(/[^a-z0-9-_]+/gi,"_")})))},[])}({helper:t,sharedHelperState:i,trackedFilters:this.trackedFilters}),s=[].concat(wc(n),wc(o));"development"==="production".NODE_ENV&&mn(s.length<=10,"\nThe maximum number of `ruleContexts` is 10. They have been sliced to that limit.\nConsider using `transformRuleContexts` to minimize the number of rules sent to Algolia.\n");var c=r(s).slice(0,10);In(a,c)||t.overrideStateWithoutTriggeringChangeEvent(bc(bc({},i),{},{ruleContexts:c}))}function _c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function xc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_c(Object(n),!0).forEach(function(t){Ec(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fc=function(e){var t,n=e.searchAsYouSpeak,r=e.language,i=e.onQueryChange,a=e.onStateChange,o=window.webkitSpeechRecognition||window.SpeechRecognition,s=function(e){return{status:e,transcript:"",isSpeechFinal:!1,errorCode:void 0}},c=s("initial"),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c=xc(xc({},c),e),a()},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";u(s(e))},f=function(){u({status:"waiting"})},h=function(e){u({status:"error",errorCode:e.error})},d=function(e){u({status:"recognizing",transcript:e.results[0]&&e.results[0][0]&&e.results[0][0].transcript||"",isSpeechFinal:e.results[0]&&e.results[0].isFinal}),n&&c.transcript&&i(c.transcript)},p=function(){c.errorCode||!c.transcript||n||i(c.transcript),"error"!==c.status&&u({status:"finished"})},g=function(){t&&(t.stop(),t.removeEventListener("start",f),t.removeEventListener("error",h),t.removeEventListener("result",d),t.removeEventListener("end",p),t=void 0)};return{getState:function(){return c},isBrowserSupported:function(){return Boolean(o)},isListening:function(){return"askingPermission"===c.status||"waiting"===c.status||"recognizing"===c.status},startListening:function(){(t=new o)&&(l("askingPermission"),t.interimResults=!0,r&&(t.lang=r),t.addEventListener("start",f),t.addEventListener("error",h),t.addEventListener("result",d),t.addEventListener("end",p),t.start())},stopListening:function(){g(),l("finished")},dispose:g}};function Ic(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ac(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ic(Object(n),!0).forEach(function(t){Tc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ic(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Tc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kc=br({name:"voice-search",connector:!0});function Dc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dc(Object(n),!0).forEach(function(t){Cc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Cc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mc(e){return"function"==typeof e.findAnswers}var Lc=br({name:"answers",connector:!0});function Wc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wc(Object(n),!0).forEach(function(t){Uc(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Uc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qc(Object(n),!0).forEach(function(t){$c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qc(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bc(e){return(Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Vc=br({name:"dynamic-widgets",connector:!0}),zc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,Vc()),function(n){var r=n.widgets,i=n.maxValuesPerFacet,a=void 0===i?20:i,o=n.facets,s=void 0===o?["*"]:o,c=n.transformItems,u=void 0===c?function(e){return e}:c,l=n.fallbackWidget;if(!(r&&Array.isArray(r)&&r.every(function(e){return"object"===Bc(e)})))throw new Error(Vc("The `widgets` option expects an array of widgets."));if(!(Array.isArray(s)&&s.length<=1)||"*"!==s[0]&&void 0!==s[0])throw new Error(Vc('The `facets` option only accepts [] or ["*"], you passed '.concat(JSON.stringify(s))));var f=new Map;return{$$type:"ais.dynamicWidgets",init:function(t){r.forEach(function(e){var n=$r(e,t);f.set(n,{widget:e,isMounted:!1})}),e(Qc(Qc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=t.parent,r=this.getWidgetRenderState(t),i=[],a=[];l&&r.attributesToRender.forEach(function(e){if(!f.has(e)){var t=l({attribute:e});f.set(e,{widget:t,isMounted:!1})}}),f.forEach(function(e,t){var n=e.widget,o=e.isMounted,s=r.attributesToRender.indexOf(t)>-1;!o&&s?(a.push(n),f.set(t,{widget:n,isMounted:!0})):o&&!s&&(i.push(n),f.set(t,{widget:n,isMounted:!1}))}),n.addWidgets(a),setTimeout(function(){return n.removeWidgets(i)},0),e(Qc(Qc({},r),{},{instantSearchInstance:t.instantSearchInstance}),!1)},dispose:function(e){var n=e.parent,r=[];f.forEach(function(e){e.isMounted&&r.push(e.widget)}),n.removeWidgets(r),t()},getWidgetSearchParameters:function(e){return s.reduce(function(e,t){return e.addFacet(t)},e.setQueryParameters({maxValuesPerFacet:Math.max(a||0,e.maxValuesPerFacet||0)}))},getRenderState:function(e,t){return Qc(Qc({},e),{},{dynamicWidgets:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,r,i,o,s=e.results,c=e.state;if(!s)return{attributesToRender:[],widgetParams:n};var l=u(null!==(t=null===(r=s.renderingContent)||void 0===r||null===(i=r.facetOrdering)||void 0===i||null===(o=i.facets)||void 0===o?void 0:o.order)&&void 0!==t?t:[],{results:s});if(!Array.isArray(l))throw new Error(Vc("The `transformItems` option expects a function that returns an Array."));return"development"==="production".NODE_ENV&&mn(a>=(c.maxValuesPerFacet||0),"The maxValuesPerFacet set by dynamic widgets (".concat(a,") is smaller than one of the limits set by a widget (").concat(c.maxValuesPerFacet,"). This causes a mismatch in query parameters and thus an extra network request when that widget is mounted.")),"development"==="production".NODE_ENV&&mn(l.length<=20||void 0!==n.facets,"More than ".concat(20," facets are requested to be displayed without explicitly setting which facets to retrieve. This could have a performance impact. Set \"facets\" to [] to do two smaller network requests, or explicitly to ['*'] to avoid this warning.")),{attributesToRender:l,widgetParams:n}}}}};function Jc(){return(Jc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}return function(e,t,n){var r=function(r,i){var a=i.applicationId,o=i.searchKey,s=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}(i,["applicationId","searchKey"]),c=t(Jc({searchClient:e(a,o)},s));return{widgets:[],instantsearch:t,addWidget:function(e,t,r){var i=n["connect"+e](r);this.widgets.push(i(t))},init:function(){var e=this;setTimeout(function(){c.addWidgets(e.widgets),c.start()},1)}}};return r.widget=function(e,t,n,r){return Jc({},r,{name:t,config:n,isFirstRender:!0,init:function(){var e=this;this.addWidget(t,n,function(t,n){e.isFirstRender=n,Object.entries(t).forEach(function(t){e[t[0]]=t[1]})})}})},r}(ft,wa,{__proto__:null,connectDynamicWidgets:zc,EXPERIMENTAL_connectDynamicWidgets:pn(zc,"use connectDynamicWidgets"),connectClearRefinements:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,xa()),function(n){var r=n||{},i=r.includedAttributes,a=void 0===i?[]:i,o=r.excludedAttributes,s=void 0===o?["query"]:o,c=r.transformItems,u=void 0===c?function(e){return e}:c;if(n&&n.includedAttributes&&n.excludedAttributes)throw new Error(xa("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var l={refine:dn,createURL:function(){return""},attributesToClear:[]},f=function(){return l.refine()},h=function(){return l.createURL()};return{$$type:"ais.clearRefinements",init:function(t){var n=t.instantSearchInstance;e(Ra(Ra({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Ra(Ra({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(){t()},getRenderState:function(e,t){return Ra(Ra({},e),{},{clearRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.createURL,r=e.results;l.attributesToClear=e.scopedResults.reduce(function(e,t){return e.concat(Ea({scopedResult:t,includedAttributes:a,excludedAttributes:s,transformItems:u,results:r}))},[]),l.refine=function(){l.attributesToClear.forEach(function(e){var t=e.helper;t.setState(un({helper:t,attributesToClear:e.items})).search()})},l.createURL=function(){return t(mr.apply(void 0,Sa(l.attributesToClear.map(function(e){return un({helper:e.helper,attributesToClear:e.items})}))))};var i=l.attributesToClear.some(function(e){return e.items.length>0});return{canRefine:i,hasRefinements:i,refine:f,createURL:h,widgetParams:n}}}}},connectCurrentRefinements:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,ka()),function(n){if((n||{}).includedAttributes&&(n||{}).excludedAttributes)throw new Error(ka("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var r=n||{},i=r.includedAttributes,a=r.excludedAttributes,o=void 0===a?["query"]:a,s=r.transformItems,c=void 0===s?function(e){return e}:s;return{$$type:"ais.currentRefinements",init:function(t){var n=t.instantSearchInstance;e(Aa(Aa({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Aa(Aa({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(){t()},getRenderState:function(e,t){return Aa(Aa({},e),{},{currentRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,r=e.createURL,a=e.helper,s=t?e.scopedResults.reduce(function(e,n){return e.concat(c(Da({results:n.results,helper:n.helper,includedAttributes:i,excludedAttributes:o}),{results:t}))},[]):c(Da({results:{},helper:a,includedAttributes:i,excludedAttributes:o}),{results:t});return{items:s,canRefine:s.length>0,refine:function(e){return Ca(a,e)},createURL:function(e){return r(Na(a.state,e))},widgetParams:n}}}}},connectHierarchicalMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,$a()),function(n){var r=n||{},i=r.attributes,a=r.separator,o=void 0===a?" > ":a,s=r.rootPath,c=void 0===s?null:s,u=r.showParentLevel,l=void 0===u||u,f=r.limit,h=void 0===f?10:f,d=r.showMore,p=void 0!==d&&d,g=r.showMoreLimit,m=void 0===g?20:g,v=r.sortBy,y=void 0===v?Ba:v,b=r.transformItems,O=void 0===b?function(e){return e}:b;if(!i||!Array.isArray(i)||0===i.length)throw new Error($a("The `attributes` option expects an array of strings."));if(!0===p&&m<=h)throw new Error($a("The `showMoreLimit` option must be greater than `limit`."));var w,S,j=qa(i,1)[0],P=function(){};function R(){P()}var _=!1;function x(){return _?m:h}function E(e){return e.slice(0,x()).map(function(e){var t=e.name,n=e.path,r=e.data,i=Wa(Wa({},Ua(e,["name","path","data"])),{},{label:t,value:n,data:null});return Array.isArray(r)&&(i.data=E(r)),i})}return{$$type:"ais.hierarchicalMenu",init:function(t){var n=t.instantSearchInstance;e(Wa(Wa({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;P=function(e,t){return function(){_=!_,t.render(e)}}(t,this),e(Wa(Wa({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.removeHierarchicalFacet(j).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return Wa(Wa({},e),{},{hierarchicalMenu:Wa(Wa({},e.hierarchicalMenu),{},Ha({},j,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.results,r=e.state,i=e.createURL,a=e.helper,o=[],s=!1;if(w||(w=Nr({instantSearchInstance:e.instantSearchInstance,helper:a,attribute:j,widgetType:this.$$type})),S||(S=function(e){w("click",e),a.toggleFacetRefinement(j,e).search()}),t){var c=t.getFacetValues(j,{sortBy:y,facetOrdering:y===Ba}),u=c&&!Array.isArray(c)&&c.data?c.data:[],l=(r.maxValuesPerFacet||0)>x()?u.length<=x():u.length<x();s=p&&(_||!l),o=O(E(u),{results:t})}return{items:o,refine:S,canRefine:o.length>0,createURL:function(e){return i(r.resetPage().toggleFacetRefinement(j,e))},sendEvent:w,widgetParams:n,isShowingMore:_,toggleShowMore:R,canToggleShowMore:s}},getWidgetUiState:function(e,t){var n=t.searchParameters.getHierarchicalFacetBreadcrumb(j);return n.length?Wa(Wa({},e),{},{hierarchicalMenu:Wa(Wa({},e.hierarchicalMenu),{},Ha({},j,n))}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.hierarchicalMenu&&n.hierarchicalMenu[j];if(e.isHierarchicalFacet(j)){var a=e.getHierarchicalFacetByName(j);"development"==="production".NODE_ENV&&mn(In(a.attributes,i)&&a.separator===o&&a.rootPath===c,"Using Breadcrumb and HierarchicalMenu on the same facet with different options overrides the configuration of the HierarchicalMenu.")}var s=e.removeHierarchicalFacet(j).addHierarchicalFacet({name:j,attributes:i,separator:o,rootPath:c,showParentLevel:l}),u=Math.max(s.maxValuesPerFacet||0,p?m:h),f=s.setQueryParameter("maxValuesPerFacet",u);return r?f.addHierarchicalFacetRefinement(j,r.join(o)):f.setQueryParameters({hierarchicalFacetsRefinements:Wa(Wa({},f.hierarchicalFacetsRefinements),{},Ha({},j,[]))})}}}},connectHits:Ya,connectHitsWithInsights:no,connectHitsPerPage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,co()),function(n){var r=n||{},i=r.items,a=r.transformItems,o=void 0===a?function(e){return e}:a;if(!Array.isArray(i))throw new Error(co("The `items` option expects an array of objects."));var s=i,c=s.filter(function(e){return!0===e.default});if(0===c.length)throw new Error(co("A default value must be specified in `items`."));if(c.length>1)throw new Error(co("More than one default value is specified in `items`."));var u=c[0],l=function(e){return function(t){return t||0===t?e.setQueryParameter("hitsPerPage",t).search():e.setQueryParameter("hitsPerPage",void 0).search()}},f=function(e){var t=e.state,n=e.createURL;return function(e){return n(t.resetPage().setQueryParameter("hitsPerPage",e||0===e?e:void 0))}};return{$$type:"ais.hitsPerPage",init:function(t){var n=t.state,r=t.instantSearchInstance;s.some(function(e){return Number(n.hitsPerPage)===Number(e.value)})||("development"==="production".NODE_ENV&&mn(void 0!==n.hitsPerPage,"\n`hitsPerPage` is not defined.\nThe option `hitsPerPage` needs to be set using the `configure` widget.\n\nLearn more: https://www.algolia.com/doc/api-reference/widgets/hits-per-page/js/\n            "),"development"==="production".NODE_ENV&&mn(!1,'\nThe `items` option of `hitsPerPage` does not contain the "hits per page" value coming from the state: '.concat(n.hitsPerPage,".\n\nYou may want to add another entry to the `items` option with this value.")),s=[{value:"",label:""}].concat(ro(s))),e(oo(oo({},this.getWidgetRenderState(t)),{},{instantSearchInstance:r}),!0)},render:function(t){var n=t.instantSearchInstance;e(oo(oo({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(e,t){return oo(oo({},e),{},{hitsPerPage:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,r,i=e.state,a=e.results,c=e.createURL,u=e.helper;return{items:o((t=i,r=t.hitsPerPage,s.map(function(e){return oo(oo({},e),{},{isRefined:Number(e.value)===Number(r)})})),{results:a}),refine:l(u),createURL:f({state:i,createURL:c}),hasNoResults:!a||0===a.nbHits,widgetParams:n}},getWidgetUiState:function(e,t){var n=t.searchParameters.hitsPerPage;return void 0===n||n===u.value?e:oo(oo({},e),{},{hitsPerPage:n})},getWidgetSearchParameters:function(e,t){return e.setQueryParameters({hitsPerPage:t.uiState.hitsPerPage||u.value})}}}},connectInfiniteHits:bo,connectInfiniteHitsWithInsights:Oo,connectMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,xo()),function(n){var r,i,a,o=n||{},s=o.attribute,c=o.limit,u=void 0===c?10:c,l=o.showMore,f=void 0!==l&&l,h=o.showMoreLimit,d=void 0===h?20:h,p=o.sortBy,g=void 0===p?Eo:p,m=o.transformItems,v=void 0===m?function(e){return e}:m;if(!s)throw new Error(xo("The `attribute` option is required."));if(!0===f&&d<=u)throw new Error(xo("The `showMoreLimit` option must be greater than `limit`."));var y=!1,b=function(){};function O(){b()}function w(){return y?d:u}return{$$type:"ais.menu",init:function(t){var n=t.instantSearchInstance;e(Ro(Ro({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Ro(Ro({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.removeHierarchicalFacet(s).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return Ro(Ro({},e),{},{menu:Ro(Ro({},e.menu),{},_o({},s,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.results,o=e.createURL,c=e.helper,u=[],l=!1;if(r||(r=Nr({instantSearchInstance:e.instantSearchInstance,helper:c,attribute:s,widgetType:this.$$type})),i||(i=function(e){return o(c.state.resetPage().toggleFacetRefinement(s,e))}),a||(a=function(e){var t=So(c.getHierarchicalFacetBreadcrumb(s),1)[0];r("click",e||t),c.toggleFacetRefinement(s,e||t).search()}),e.results&&(b=function(e,t){return function(){y=!y,t.render(e)}}(e,this)),t){var h=t.getFacetValues(s,{sortBy:g,facetOrdering:g===Eo}),d=h&&!Array.isArray(h)&&h.data?h.data:[];l=f&&(y||d.length>w()),u=v(d.slice(0,w()).map(function(e){var t=e.name,n=e.path;return Ro(Ro({},wo(e,["name","path"])),{},{label:t,value:n})}),{results:t})}return{items:u,createURL:i,refine:a,sendEvent:r,canRefine:u.length>0,widgetParams:n,isShowingMore:y,toggleShowMore:O,canToggleShowMore:l}},getWidgetUiState:function(e,t){var n=So(t.searchParameters.getHierarchicalFacetBreadcrumb(s),1)[0];return n?Ro(Ro({},e),{},{menu:Ro(Ro({},e.menu),{},_o({},s,n))}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.menu&&n.menu[s],i=e.removeHierarchicalFacet(s).addHierarchicalFacet({name:s,attributes:[s]}),a=Math.max(i.maxValuesPerFacet||0,f?d:u),o=i.setQueryParameter("maxValuesPerFacet",a);return r?o.addHierarchicalFacetRefinement(s,r):o.setQueryParameters({hierarchicalFacetsRefinements:Ro(Ro({},o.hierarchicalFacetsRefinements),{},_o({},s,[]))})}}}},connectNumericMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,Do()),function(n){var r=n||{},i=r.attribute,a=void 0===i?"":i,o=r.items,s=void 0===o?[]:o,c=r.transformItems,u=void 0===c?function(e){return e}:c;if(""===a)throw new Error(Do("The `attribute` option is required."));if(!s||0===s.length)throw new Error(Do("The `items` option expects an array of objects."));var l=function(e){return s.map(function(t){var n=t.start,r=t.end,i=t.label;return{label:i,value:encodeURI(JSON.stringify({start:n,end:r})),isRefined:Mo(e,a,{start:n,end:r,label:i})}})},f={};return{$$type:No,init:function(t){var n=t.instantSearchInstance;e(To(To({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(To(To({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.clearRefinements(a)},getWidgetUiState:function(e,t){var n=t.searchParameters.getNumericRefinements(a),r=n["="]&&n["="][0];if(r||0===r)return To(To({},e),{},{numericMenu:To(To({},e.numericMenu),{},ko({},a,"".concat(n["="])))});var i=n[">="]&&n[">="][0]||"",o=n["<="]&&n["<="][0]||"";return""===i&&""===o?e:To(To({},e),{},{numericMenu:To(To({},e.numericMenu),{},ko({},a,"".concat(i,":").concat(o)))})},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.numericMenu&&n.numericMenu[a],i=e.clearRefinements(a);if(!r)return i.setQueryParameters({numericRefinements:To(To({},i.numericRefinements),{},ko({},a,{}))});if(-1===r.indexOf(":"))return i.addNumericRefinement(a,"=",Number(r));var o=Fo(r.split(":").map(parseFloat),2),s=o[0],c=o[1],u=Pn(s)?i.addNumericRefinement(a,">=",s):i;return Pn(c)?u.addNumericRefinement(a,"<=",c):u},getRenderState:function(e,t){return To(To({},e),{},{numericMenu:To(To({},e.numericMenu),{},ko({},a,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.results,r=e.state,i=e.instantSearchInstance,o=e.helper,s=e.createURL;return f.refine||(f.refine=function(e){var t=Lo(o.state,a,e);f.sendEvent("click",e),o.setState(t).search()}),f.createURL||(f.createURL=function(e){return function(t){return s(Lo(e,a,t))}}),f.sendEvent||(f.sendEvent=Co({instantSearchInstance:i,helper:o,attribute:a})),{createURL:f.createURL(r),items:u(l(r),{results:t}),hasNoResults:!t||0===t.nbHits,refine:f.refine,sendEvent:f.sendEvent,widgetParams:n}}}}},connectPagination:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,Bo()),function(n){var r=n||{},i=r.totalPages,a=r.padding,o=new Uo({currentPage:0,total:0,padding:void 0===a?3:a}),s={};return{$$type:"ais.pagination",init:function(t){var n=t.instantSearchInstance;e(Qo(Qo({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Qo(Qo({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("page",void 0)},getWidgetUiState:function(e,t){var n=t.searchParameters.page||0;return n?Qo(Qo({},e),{},{page:n+1}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState;return e.setQueryParameter("page",n.page?n.page-1:0)},getWidgetRenderState:function(e){var t=e.results,r=e.helper,a=e.state,c=e.createURL;s.refine||(s.refine=function(e){r.setPage(e),r.search()}),s.createURL||(s.createURL=function(e){return function(t){return c(e.setPage(t))}});var u=a.page||0,l=function(e){var t=e.nbPages;return void 0!==i?Math.min(i,t):t}(t||{nbPages:0});return o.currentPage=u,o.total=l,{createURL:s.createURL(a),refine:s.refine,canRefine:l>1,currentRefinement:u,nbHits:(null==t?void 0:t.nbHits)||0,nbPages:l,pages:t?o.pages():[],isFirstPage:o.isFirstPage(),isLastPage:o.isLastPage(),widgetParams:n}},getRenderState:function(e,t){return Qo(Qo({},e),{},{pagination:this.getWidgetRenderState(t)})}}}},connectRange:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,Go()),function(n){var r=n||{},i=r.attribute,a=void 0===i?"":i,o=r.min,s=r.max,c=r.precision,u=void 0===c?0:c;if(!a)throw new Error(Go("The `attribute` option is required."));if(Pn(o)&&Pn(s)&&o>s)throw new Error(Go("The `max` option can't be lower than `min`."));var l={from:function(e){return e.toLocaleString()},to:function(e){return function(e){return Number(Number(e).toFixed(u))}(e).toLocaleString()}},f=function(e,t,n,r){var i,c,l=e.state,f=t.min,h=t.max,d=Ko(l.getNumericRefinement(a,">=")||[],1)[0],p=Ko(l.getNumericRefinement(a,"<=")||[],1)[0],g=void 0===n||""===n,m=void 0===r||""===r,v=Xo({min:g?void 0:parseFloat(n),max:m?void 0:parseFloat(r),precision:u}),y=v.min,b=v.max;i=Pn(o)||f!==y?Pn(o)&&g?o:y:void 0,c=Pn(s)||h!==b?Pn(s)&&m?s:b:void 0;var O=void 0===i,w=Pn(f)&&f<=i,S=O||Pn(i)&&(!Pn(f)||w),j=void 0===c,P=Pn(c)&&h>=c,R=j||Pn(c)&&(!Pn(h)||P);return(d!==i||p!==c)&&S&&R?(l=l.removeNumericRefinement(a),Pn(i)&&(l=l.addNumericRefinement(a,">=",i)),Pn(c)&&(l=l.addNumericRefinement(a,"<=",c)),l.resetPage()):null},h=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Filter Applied",i=Ur(e,a);i&&i.length>0&&t.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Zo,eventType:"click",payload:{eventName:r,index:n.getIndex(),filters:i},attribute:a})},d=function(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];if(1!==i.length){var o=i[0],s=i[1],c=i[2];if("click"===o){var u=Ko(s,2),l=u[0],d=u[1],p=f(t,n,l,d);h(p,e,t,c)}}else e.sendEventToInsights(i[0])}};function p(e,t,n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[void 0,void 0],i=Ko(r,2),a=i[0],o=i[1],s=f(t,n,a,o);s&&(h(s,e,t),t.setState(s).search())}}return{$$type:Zo,init:function(t){e(zo(zo({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(zo(zo({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return zo(zo({},e),{},{range:zo(zo({},e.range),{},Jo({},a,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,r=e.results,i=e.helper,c=e.instantSearchInstance,f=an(r&&r.disjunctiveFacets||[],function(e){return e.name===a}),h=(t=f&&f.stats||{min:void 0,max:void 0},Xo({min:Pn(o)?o:Pn(t.min)?t.min:0,max:Pn(s)?s:Pn(t.max)?t.max:0,precision:u})),g=function(e){var t=Ko(e.getNumericRefinement(a,">=")||[],1)[0],n=Ko(e.getNumericRefinement(a,"<=")||[],1)[0];return[Pn(t)?t:-Infinity,Pn(n)?n:Infinity]}(i);return{refine:p(c,i,r?h:{min:void 0,max:void 0}),canRefine:h.min!==h.max,format:l,range:h,sendEvent:d(c,i,h),widgetParams:zo(zo({},n),{},{precision:u}),start:g}},dispose:function(e){var n=e.state;return t(),n.removeDisjunctiveFacet(a).removeNumericRefinement(a)},getWidgetUiState:function(e,t){var n=t.searchParameters.getNumericRefinements(a),r=n[">="],i=void 0===r?[]:r,o=n["<="],s=void 0===o?[]:o;return 0===i.length&&0===s.length?e:zo(zo({},e),{},{range:zo(zo({},e.range),{},Jo({},a,"".concat(i,":").concat(s)))})},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=e.addDisjunctiveFacet(a).setQueryParameters({numericRefinements:zo(zo({},e.numericRefinements),{},Jo({},a,{}))});Pn(o)&&(r=r.addNumericRefinement(a,">=",o)),Pn(s)&&(r=r.addNumericRefinement(a,"<=",s));var i=n.range&&n.range[a];if(!i||-1===i.indexOf(":"))return r;var c=Ko(i.split(":").map(parseFloat),2),u=c[0],l=c[1];return Pn(u)&&(!Pn(o)||o<u)&&(r=(r=r.removeNumericRefinement(a,">=")).addNumericRefinement(a,">=",u)),Pn(l)&&(!Pn(s)||l<s)&&(r=(r=r.removeNumericRefinement(a,"<=")).addNumericRefinement(a,"<=",l)),r}}}},connectRefinementList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,is()),function(n){var r=n||{},i=r.attribute,a=r.operator,o=void 0===a?"or":a,s=r.limit,c=void 0===s?10:s,u=r.showMore,l=void 0!==u&&u,f=r.showMoreLimit,h=void 0===f?20:f,d=r.sortBy,p=void 0===d?as:d,g=r.escapeFacetValues,m=void 0===g||g,v=r.transformItems,y=void 0===v?function(e){return e}:v;if(!i)throw new Error(is("The `attribute` option is required."));if(!/^(and|or)$/.test(o))throw new Error(is('The `operator` must one of: `"and"`, `"or"` (got "'.concat(o,'").')));if(!0===l&&h<=c)throw new Error(is("`showMoreLimit` should be greater than `limit`."));var b,O,w,S=function(e){var t=e.name;return ts(ts({},rs(e,["name"])),{},{label:t,value:t,highlighted:t})},j=[],P=!0,R=!1,_=function(){};function x(){_()}function E(){return R?h:c}var F=function(){return function(){}};return{$$type:"ais.refinementList",init:function(t){e(ts(ts({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(ts(ts({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},getRenderState:function(e,t){return ts(ts({},e),{},{refinementList:ts(ts({},e.refinementList),{},ns({},i,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(t){var r=t.results,a=t.state,o=t.createURL,s=t.helper,u=[],f=[];if(w&&O&&F||(w=Nr({instantSearchInstance:t.instantSearchInstance,helper:s,attribute:i,widgetType:this.$$type}),O=function(e){w("click",e),s.toggleFacetRefinement(i,e).search()},F=function(t,n){return function(r){return function(a){var o=r.instantSearchInstance,s=r.results;if(""===a&&j)e(ts(ts({},n.getWidgetRenderState(ts(ts({},r),{},{results:b}))),{},{instantSearchInstance:o}),!1);else{var c={highlightPreTag:m?Un.highlightPreTag:qn,highlightPostTag:m?Un.highlightPostTag:Qn};t.searchForFacetValues(i,a,Math.min(E(),100),c).then(function(t){var i=m?zn(t.facetHits):t.facetHits,a=y(i.map(function(e){var t=e.value;return ts(ts({},rs(e,["value"])),{},{value:t,label:t})}),{results:s});e(ts(ts({},n.getWidgetRenderState(ts(ts({},r),{},{results:b}))),{},{items:a,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:o}),!1)})}}}}(s,this)),r){var h=r.getFacetValues(i,{sortBy:p,facetOrdering:p===as});f=h&&Array.isArray(h)?h:[],u=y(f.slice(0,E()).map(S),{results:r});var d=a.maxValuesPerFacet,g=E();P=d>g?f.length<=g:f.length<g,b=r,j=u,t.results&&(_=function(e,t){return function(){R=!R,t.render(e)}}(t,this))}var v=F&&F(t);return{createURL:function(e){return o(a.resetPage().toggleFacetRefinement(i,e))},items:u,refine:O,searchForItems:v,isFromSearch:!1,canRefine:u.length>0,widgetParams:n,isShowingMore:R,canToggleShowMore:R&&j.length>c||l&&!P,toggleShowMore:x,sendEvent:w,hasExhaustiveItems:P}},dispose:function(e){var n=e.state;t();var r=n.setQueryParameter("maxValuesPerFacet",void 0);return"and"===o?r.removeFacet(i):r.removeDisjunctiveFacet(i)},getWidgetUiState:function(e,t){var n=t.searchParameters,r="or"===o?n.getDisjunctiveRefinements(i):n.getConjunctiveRefinements(i);return r.length?ts(ts({},e),{},{refinementList:ts(ts({},e.refinementList),{},ns({},i,r))}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r="or"===o,a=n.refinementList&&n.refinementList[i],s=e.clearRefinements(i),u=r?s.addDisjunctiveFacet(i):s.addFacet(i),f=Math.max(u.maxValuesPerFacet||0,l?h:c),d=u.setQueryParameter("maxValuesPerFacet",f);if(!a){var p=r?"disjunctiveFacetsRefinements":"facetsRefinements";return d.setQueryParameters(ns({},p,ts(ts({},d[p]),{},ns({},i,[]))))}return a.reduce(function(e,t){return r?e.addDisjunctiveFacetRefinement(i,t):e.addFacetRefinement(i,t)},d)}}}},connectSearchBox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,us()),function(n){var r,i,a=(n||{}).queryHook,o=void 0===a?ls:a;return{$$type:"ais.searchBox",init:function(t){var n=t.instantSearchInstance;e(ss(ss({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(ss(ss({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("query",void 0)},getRenderState:function(e,t){return ss(ss({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.helper;return r||(r=function(e){o(e,function(e){return t.setQuery(e).search()})},i=function(){t.setQuery("").search()}),{query:e.state.query||"",refine:r,clear:i,widgetParams:n,isSearchStalled:e.searchMetadata.isSearchStalled}},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return""===n||e&&e.query===n?e:ss(ss({},e),{},{query:n})},getWidgetSearchParameters:function(e,t){return e.setQueryParameter("query",t.uiState.query||"")}}}},connectSortBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;hn(e,ps());var n={};return function(r){var i=r||{},a=i.items,o=i.transformItems,s=void 0===o?function(e){return e}:o;if(!Array.isArray(a))throw new Error(ps("The `items` option expects an array of objects."));return{$$type:"ais.sortBy",init:function(t){var n=t.instantSearchInstance,r=this.getWidgetRenderState(t),i=r.currentRefinement,o=an(a,function(e){return e.value===i});"development"==="production".NODE_ENV&&mn(void 0!==o,'The index named "'.concat(i,'" is not listed in the `items` of `sortBy`.')),e(hs(hs({},r),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(hs(hs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var r=e.state;return t(),n.initialIndex?r.setIndex(n.initialIndex):r},getRenderState:function(e,t){return hs(hs({},e),{},{sortBy:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,i=e.helper,o=e.state,c=e.parent;return!n.initialIndex&&c&&(n.initialIndex=c.getIndexName()),n.setIndex||(n.setIndex=function(e){i.setIndex(e).search()}),{currentRefinement:o.index,options:s(a,{results:t}),refine:n.setIndex,hasNoResults:!t||0===t.nbHits,widgetParams:r}},getWidgetUiState:function(e,t){var r=t.searchParameters.index;return hs(hs({},e),{},{sortBy:r!==n.initialIndex?r:void 0})},getWidgetSearchParameters:function(e,t){return e.setQueryParameter("index",t.uiState.sortBy||n.initialIndex||e.index)}}}},connectRatingMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,Ss()),function(n){var r,i=n||{},a=i.attribute,o=i.max,s=void 0===o?5:o;if(!a)throw new Error(Ss("The `attribute` option is required."));var c=function(e){var t,n=e.getNumericRefinements(a);if(null!==(t=n[">="])&&void 0!==t&&t.length)return n[">="][0]};function u(e,t){var n=c(e)===Number(t),r=e.resetPage().removeNumericRefinement(a);return n?r:r.addNumericRefinement(a,"<=",s).addNumericRefinement(a,">=",Number(t))}var l=function(e,t){r("click",t),e.setState(u(e.state,t)).search()},f=function(e){return l.bind(null,e)},h=function(e){var t=e.state,n=e.createURL;return function(e){return n(u(t,e))}};return{$$type:js,init:function(t){var n=t.instantSearchInstance;e(vs(vs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(vs(vs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return vs(vs({},e),{},{ratingMenu:vs(vs({},e.ratingMenu),{},ys({},a,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.helper,i=e.results,o=e.state,u=e.createURL,l=[];if(r||(r=Rs({instantSearchInstance:e.instantSearchInstance,helper:t,getRefinedStar:function(){return c(t.state)},attribute:a})),i){var d=i.getFacetValues(a,{}),p=d.length,g=function(e){var t=0;return e.forEach(function(e){var n=bs(e.name.split("."),2)[1];t=Math.max(t,(void 0===n?"":n).length)}),t}(d),m=Math.pow(10,g)*s;"development"==="production".NODE_ENV&&mn(m<=p,function(e){var t=e.maxDecimalPlaces,n=e.maxFacets,r=e.maxValuesPerFacet,i=Math.max(0,Math.floor(Math.log10(Ps/s))),o=Math.min(Ps,Math.pow(10,i)*s),c=[];return n>Ps&&c.push('- Update your records to lower the precision of the values in the "'.concat(a,'" attribute (for example: ').concat(5.123456789.toPrecision(t+1)," to ").concat(5.123456789.toPrecision(i+1),")")),r<o&&c.push("- Increase the maximum number of facet values to ".concat(o,' using the "configure" widget ').concat(yr({name:"configure"}),' and the "maxValuesPerFacet" parameter https://www.algolia.com/doc/api-reference/api-parameters/maxValuesPerFacet/')),"The ".concat(a," attribute can have ").concat(n," different values (0 to ").concat(s," with a maximum of ").concat(t," decimals = ").concat(n,") but you retrieved only ").concat(r," facet values. Therefore the number of results that match the refinements can be incorrect.\n    ").concat(c.length?"To resolve this problem you can:\n".concat(c.join("\n")):"")}({maxDecimalPlaces:g,maxFacets:m,maxValuesPerFacet:p}));for(var v=c(o),y=function(e){var t=v===e,n=d.filter(function(t){return Number(t.name)>=e&&Number(t.name)<=s}).map(function(e){return e.count}).reduce(function(e,t){return e+t},0);if(v&&!t&&0===n)return"continue";var r=gs(new Array(Math.floor(s/1))).map(function(t,n){return 1*n<e});l.push({stars:r,name:String(e),label:String(e),value:String(e),count:n,isRefined:t})},b=1;b<s;b+=1)y(b)}return{items:l=l.reverse(),hasNoResults:!i||0===i.nbHits,canRefine:l.length>0,refine:f(t),sendEvent:r,createURL:h({state:o,createURL:u}),widgetParams:n}},dispose:function(e){var n=e.state;return t(),n.removeNumericRefinement(a)},getWidgetUiState:function(e,t){var n=c(t.searchParameters);return"number"!=typeof n?e:vs(vs({},e),{},{ratingMenu:vs(vs({},e.ratingMenu),{},ys({},a,n))})},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=n.ratingMenu&&n.ratingMenu[a],i=e.clearRefinements(a).addDisjunctiveFacet(a);return r?i.addNumericRefinement(a,"<=",s).addNumericRefinement(a,">=",r):i.setQueryParameters({numericRefinements:vs(vs({},i.numericRefinements),{},ys({},a,{}))})}}}},connectStats:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,Fs()),function(n){return{$$type:"ais.stats",init:function(t){var n=t.instantSearchInstance;e(xs(xs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(xs(xs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(){t()},getRenderState:function(e,t){return xs(xs({},e),{},{stats:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,r=e.state;return t?{hitsPerPage:t.hitsPerPage,nbHits:t.nbHits,nbSortedHits:t.nbSortedHits,areHitsSorted:void 0!==t.appliedRelevancyStrictness&&t.appliedRelevancyStrictness>0&&t.nbSortedHits!==t.nbHits,nbPages:t.nbPages,page:t.page,processingTimeMS:t.processingTimeMS,query:t.query,widgetParams:n}:{hitsPerPage:r.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:r.page||0,processingTimeMS:-1,query:r.query||"",widgetParams:n}}}}},connectToggleRefinement:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,ks()),function(n){var r=n||{},i=r.attribute,a=r.on,o=void 0===a||a,s=r.off;if(!i)throw new Error(ks("The `attribute` option is required."));var c,u=void 0!==s,l=vr(o).map(ln),f=u?vr(s).map(ln):void 0,h=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isRefined:!1},n=t.isRefined;n?(l.forEach(function(t){return e.removeDisjunctiveFacetRefinement(i,t)}),u&&f.forEach(function(t){return e.addDisjunctiveFacetRefinement(i,t)})):(c("click",n),u&&f.forEach(function(t){return e.removeDisjunctiveFacetRefinement(i,t)}),l.forEach(function(t){return e.addDisjunctiveFacetRefinement(i,t)})),e.search()}},d=function(e,t){var n=t.state,r=t.createURL;return function(){n=n.resetPage();var t=e?l:f;t&&t.forEach(function(e){n=n.removeDisjunctiveFacetRefinement(i,e)});var a=e?f:l;return a&&a.forEach(function(e){n=n.addDisjunctiveFacetRefinement(i,e)}),r(n)}};return{$$type:Ds,init:function(t){var n=t.instantSearchInstance;e(As(As({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(As(As({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.removeDisjunctiveFacet(i)},getRenderState:function(e,t){return As(As({},e),{},{toggleRefinement:As(As({},e.toggleRefinement),{},Ts({},i,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.state,r=e.helper,a=e.results,o=e.createURL,s=e.instantSearchInstance,p=l.every(function(e){return t.isDisjunctiveFacetRefined(i,e)}),g={isRefined:p,count:0},m={isRefined:u&&!p,count:0};if(a){var v=vr(f||!1),y=a.getFacetValues(i,{})||[],b=l.map(function(e){return an(y,function(t){return t.name===on(e)})}).filter(function(e){return void 0!==e}),O=u?v.map(function(e){return an(y,function(t){return t.name===on(e)})}).filter(function(e){return void 0!==e}):[];g={isRefined:!!b.length&&b.every(function(e){return e.isRefined}),count:b.reduce(function(e,t){return e+t.count},0)||null},m={isRefined:!!O.length&&O.every(function(e){return e.isRefined}),count:O.reduce(function(e,t){return e+t.count},0)||y.reduce(function(e,t){return e+t.count},0)}}c||(c=Ns({instantSearchInstance:s,attribute:i,on:l,helper:r}));var w=p?m:g;return{value:{name:i,isRefined:p,count:a?w.count:null,onFacetValue:g,offFacetValue:m},createURL:d(p,{state:t,createURL:o}),sendEvent:c,canRefine:Boolean(a?w.count:null),refine:h(r),widgetParams:n}},getWidgetUiState:function(e,t){var n=t.searchParameters,r=l&&l.every(function(e){return n.isDisjunctiveFacetRefined(i,e)});return r?As(As({},e),{},{toggle:As(As({},e.toggle),{},Ts({},i,r))}):e},getWidgetSearchParameters:function(e,t){var n=t.uiState,r=e.clearRefinements(i).addDisjunctiveFacet(i);return Boolean(n.toggle&&n.toggle[i])?(l&&l.forEach(function(e){r=r.addDisjunctiveFacetRefinement(i,e)}),r):u?(f&&f.forEach(function(e){r=r.addDisjunctiveFacetRefinement(i,e)}),r):r.setQueryParameters({disjunctiveFacetsRefinements:As(As({},e.disjunctiveFacetsRefinements),{},Ts({},i,[]))})}}}},connectBreadcrumb:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;hn(e,Us());var n={};return function(r){var i=r||{},a=i.attributes,o=i.separator,s=void 0===o?" > ":o,c=i.rootPath,u=void 0===c?null:c,l=i.transformItems,f=void 0===l?function(e){return e}:l;if(!a||!Array.isArray(a)||0===a.length)throw new Error(Us("The `attributes` option expects an array of strings."));var h=Ws(a,1)[0];function d(e,t){if(!t){var n=e.getHierarchicalFacetBreadcrumb(h);return 0===n.length?e:e.resetPage().toggleFacetRefinement(h,n[0])}return e.resetPage().toggleFacetRefinement(h,t)}return{$$type:"ais.breadcrumb",init:function(t){e(Ms(Ms({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){e(Ms(Ms({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)},dispose:function(){t()},getRenderState:function(e,t){return Ms(Ms({},e),{},{breadcrumb:Ms(Ms({},e.breadcrumb),{},Ls({},h,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.helper,i=e.createURL,a=e.results,o=e.state,s=function(){if(!a||0===o.hierarchicalFacets.length)return[];var e=Ws(o.hierarchicalFacets,1),t=a.getFacetValues(e[0].name,{}),n=Array.isArray(t.data)?t.data:[];return f(Qs(qs(n)),{results:a})}();return n.createURL||(n.createURL=function(e){return i(d(t.state,e))}),n.refine||(n.refine=function(e){t.setState(d(t.state,e)).search()}),{canRefine:s.length>0,createURL:n.createURL,items:s,refine:n.refine,widgetParams:r}},getWidgetSearchParameters:function(e){if(e.isHierarchicalFacet(h)){var t=e.getHierarchicalFacetByName(h);return"development"==="production".NODE_ENV&&mn(In(t.attributes,a)&&t.separator===s&&t.rootPath===u,"Using Breadcrumb and HierarchicalMenu on the same facet with different options overrides the configuration of the HierarchicalMenu."),e}return e.addHierarchicalFacet({name:h,attributes:a,separator:s,rootPath:u})}}}},connectGeoSearch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,zs()),function(n){var r,i=n||{},a=i.enableRefineOnMapMove,o=i.transformItems,s=void 0===o?function(e){return e}:o,c={isRefineOnMapMove:void 0===a||a,hasMapMoveSinceLastRefine:!1,lastRefinePosition:"",lastRefineBoundingBox:"",internalToggleRefineOnMapMove:dn,internalSetMapMoveSinceLastRefine:dn},u=function(e){return e.aroundLatLng?jr(e.aroundLatLng):void 0},l=function(e){return e.insideBoundingBox&&Pr(e.insideBoundingBox)},f=function(e){return function(t){var n=t.northEast,r=t.southWest,i=[n.lat,n.lng,r.lat,r.lng].join();e.setState(Ks(e.state,i).resetPage()).search(),c.hasMapMoveSinceLastRefine=!1,c.lastRefineBoundingBox=i}},h=function(e){return function(){e.setQueryParameter("insideBoundingBox",void 0).search()}},d=function(e){return function(){return Boolean(e.insideBoundingBox)}},p=function(){return c.internalToggleRefineOnMapMove()},g=function(e,t){return function(){c.isRefineOnMapMove=!c.isRefineOnMapMove,t(e)}},m=function(){return c.isRefineOnMapMove},v=function(){return c.internalSetMapMoveSinceLastRefine()},y=function(e,t){return function(){var n=!0!==c.hasMapMoveSinceLastRefine;c.hasMapMoveSinceLastRefine=!0,n&&t(e)}},b=function(){return c.hasMapMoveSinceLastRefine};return{$$type:Ys,init:function(t){var n=t.instantSearchInstance;c.internalToggleRefineOnMapMove=g(t,dn),c.internalSetMapMoveSinceLastRefine=y(t,dn),e(Bs(Bs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance,i=t.helper.state,a=Boolean(i.aroundLatLng)&&Boolean(c.lastRefinePosition)&&i.aroundLatLng!==c.lastRefinePosition,o=!i.insideBoundingBox&&Boolean(c.lastRefineBoundingBox)&&i.insideBoundingBox!==c.lastRefineBoundingBox;(a||o)&&(c.hasMapMoveSinceLastRefine=!1),c.lastRefinePosition=i.aroundLatLng||"",c.lastRefineBoundingBox=Js(i),c.internalToggleRefineOnMapMove=g(t,this.render.bind(this)),c.internalSetMapMoveSinceLastRefine=y(t,this.render.bind(this));var s=this.getWidgetRenderState(t);r("view",s.items),e(Bs(Bs({},s),{},{instantSearchInstance:n}),!1)},getWidgetRenderState:function(e){var t=e.helper,i=e.results,a=e.instantSearchInstance,o=t.state,c=i?s(i.hits.filter(function(e){return e._geoloc}),{results:i}):[];return r||(r=Wr({instantSearchInstance:a,index:t.getIndex(),widgetType:Ys})),{items:c,position:u(o),currentRefinement:l(o),refine:f(t),sendEvent:r,clearMapRefinement:h(t),isRefinedWithMap:d(o),toggleRefineOnMapMove:p,isRefineOnMapMove:m,setMapMoveSinceLastRefine:v,hasMapMoveSinceLastRefine:b,widgetParams:n}},getRenderState:function(e,t){return Bs(Bs({},e),{},{geoSearch:this.getWidgetRenderState(t)})},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("insideBoundingBox",void 0)},getWidgetUiState:function(e,t){var n=Js(t.searchParameters);return!n||e&&e.geoSearch&&e.geoSearch.boundingBox===n?e:Bs(Bs({},e),{},{geoSearch:{boundingBox:n}})},getWidgetSearchParameters:function(e,t){var n=t.uiState;return n&&n.geoSearch?Ks(e,n.geoSearch.boundingBox):e.setQueryParameter("insideBoundingBox",void 0)}}}},connectPoweredBy:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;hn(e,ec());var n="https://www.algolia.com/?utm_source=instantsearch.js&utm_medium=website&"+"utm_content=".concat(Br(function(e){var t;return(null===(t=e.window.location)||void 0===t?void 0:t.hostname)||""},{fallback:function(){return""}}),"&")+"utm_campaign=poweredby";return function(r){var i=(r||{}).url,a=void 0===i?n:i;return{$$type:"ais.poweredBy",init:function(t){var n=t.instantSearchInstance;e(Zs(Zs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Zs(Zs({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return Zs(Zs({},e),{},{poweredBy:this.getWidgetRenderState(t)})},getWidgetRenderState:function(){return{url:a,widgetParams:r}},dispose:function(){t()}}}},connectConfigure:oc,EXPERIMENTAL_connectConfigureRelatedItems:function(e,t){return function(n){var r=n||{},i=r.hit,a=r.matchingPatterns,o=r.transformSearchParameters,s=void 0===o?function(e){return e}:o;if(!i)throw new Error(hc("The `hit` option is required."));if(!a)throw new Error(hc("The `matchingPatterns` option is required."));var c=Object.keys(a).reduce(function(e,t){var n=a[t],r=jn(i,t),o=n.score;return Array.isArray(r)?[].concat(lc(e),[r.map(function(e){return dc({attributeName:t,attributeValue:e,attributeScore:o})})]):"string"==typeof r?[].concat(lc(e),[dc({attributeName:t,attributeValue:r,attributeScore:o})]):("development"==="production".NODE_ENV&&mn(!1,"\nThe `matchingPatterns` option returned a value of type ".concat(fn(r),' for the "').concat(t,'" key. This value was not sent to Algolia because `optionalFilters` only supports strings and array of strings.\n\nYou can remove the "').concat(t,'" key from the `matchingPatterns` option.\n\nSee https://www.algolia.com/doc/api-reference/api-parameters/optionalFilters/\n            ')),e)},[]),u=cc({},s(new Xt.SearchParameters({sumOrFiltersScores:!0,facetFilters:["objectID:-".concat(i.objectID)],optionalFilters:c})));return cc(cc({},oc(e,t)({searchParameters:u})),{},{$$type:"ais.configureRelatedItems"})}},connectAutocomplete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,vc()),function(n){var r=(n||{}).escapeHTML,i=void 0===r||r;"development"==="production".NODE_ENV&&mn(!n.indices,"\nThe option `indices` has been removed from the Autocomplete connector.\n\nThe indices to target are now inferred from the widgets tree.\n".concat(Array.isArray(n.indices)?"\nAn alternative would be:\n\nconst autocomplete = connectAutocomplete(renderer);\n\nsearch.addWidgets([\n  ".concat(n.indices.map(function(e){return"index({ indexName: '".concat(e.value,"' }),")}).join("\n  "),"\n  autocomplete()\n]);\n"):"","\n      "));var a={};return{$$type:"ais.autocomplete",init:function(t){var n=t.instantSearchInstance;e(gc(gc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance,r=this.getWidgetRenderState(t);r.indices.forEach(function(e){(0,e.sendEvent)("view",e.hits)}),e(gc(gc({},r),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return gc(gc({},e),{},{autocomplete:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=this,r=e.helper,o=e.state,s=e.scopedResults,c=e.instantSearchInstance;a.refine||(a.refine=function(e){r.setQuery(e).search()});var u=s.map(function(e){e.results.hits=i?Vn(e.results.hits):e.results.hits;var n=Wr({instantSearchInstance:c,index:e.results.index,widgetType:t.$$type});return{indexId:e.indexId,indexName:e.results.index,hits:e.results.hits,results:e.results,sendEvent:n}});return{currentRefinement:o.query||"",indices:u,refine:a.refine,widgetParams:n}},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return""===n||e&&e.query===n?e:gc(gc({},e),{},{query:n})},getWidgetSearchParameters:function(e,t){var n={query:t.uiState.query||""};return e.setQueryParameters(i?gc(gc({},n),Un):n)},dispose:function(e){var n=e.state;t();var r=n.setQueryParameter("query",void 0);return i?r.setQueryParameters(Object.keys(Un).reduce(function(e,t){return gc(gc({},e),{},mc({},t,void 0))},{})):r}}}},connectQueryRules:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,jc()),function(n){var r=n||{},i=r.trackedFilters,a=void 0===i?{}:i,o=r.transformRuleContexts,s=void 0===o?function(e){return e}:o,c=r.transformItems,u=void 0===c?function(e){return e}:c;Object.keys(a).forEach(function(e){if("function"!=typeof a[e])throw new Error(jc("'The \"".concat(e,'" filter value in the `trackedFilters` option expects a function.')))});var l,f=Object.keys(a).length>0,h=[];return{$$type:"ais.queryRules",init:function(t){var r=t.helper,i=t.state,o=t.instantSearchInstance;l=Rc.bind({helper:r,initialRuleContexts:h=i.ruleContexts||[],trackedFilters:a,transformRuleContexts:s}),f&&((Pc(i)||Boolean(n.transformRuleContexts))&&l({state:i}),r.on("change",l)),e(bc(bc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:o}),!0)},render:function(t){var n=t.instantSearchInstance;e(bc(bc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getWidgetRenderState:function(e){var t=e.results,r=(t||{}).userData;return{items:u(void 0===r?[]:r,{results:t}),widgetParams:n}},getRenderState:function(e,t){return bc(bc({},e),{},{queryRules:this.getWidgetRenderState(t)})},dispose:function(e){var n=e.helper,r=e.state;return t(),f?(n.removeListener("change",l),r.setQueryParameter("ruleContexts",h)):r}}}},connectVoiceSearch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,kc()),function(n){var r=n.searchAsYouSpeak,i=void 0!==r&&r,a=n.language,o=n.additionalQueryParameters,s=n.createVoiceSearchHelper,c=void 0===s?Fc:s;return{$$type:"ais.voiceSearch",init:function(t){var n=t.instantSearchInstance;e(Ac(Ac({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Ac(Ac({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},getRenderState:function(e,t){return Ac(Ac({},e),{},{voiceSearch:this.getWidgetRenderState(t)})},getWidgetRenderState:function(t){var r=this,s=t.helper,u=t.instantSearchInstance;this._refine||(this._refine=function(e){if(e!==s.state.query){var t=a?[a.split("-")[0]]:void 0;s.setQueryParameter("queryLanguages",t),"function"==typeof o&&s.setState(s.state.setQueryParameters(Ac({ignorePlurals:!0,removeStopWords:!0,optionalWords:e},o({query:e})))),s.setQuery(e).search()}}),this._voiceSearchHelper||(this._voiceSearchHelper=c({searchAsYouSpeak:i,language:a,onQueryChange:function(e){return r._refine(e)},onStateChange:function(){e(Ac(Ac({},r.getWidgetRenderState(t)),{},{instantSearchInstance:u}),!1)}}));var l=this._voiceSearchHelper,f=l.isBrowserSupported,h=l.isListening,d=l.startListening,p=l.stopListening,g=l.getState;return{isBrowserSupported:f(),isListening:h(),toggleListening:function(){f()&&(h()?p():d())},voiceListeningState:g(),widgetParams:n}},dispose:function(e){var n=e.state;this._voiceSearchHelper.dispose(),t();var r=n;if("function"==typeof o){var i=o({query:""}),a=i?Object.keys(i).reduce(function(e,t){return e[t]=void 0,e},{}):{};r=n.setQueryParameters(Ac({queryLanguages:void 0,ignorePlurals:void 0,removeStopWords:void 0,optionalWords:void 0},a))}return r.setQueryParameter("query",void 0)},getWidgetUiState:function(e,t){var n=t.searchParameters.query||"";return n?Ac(Ac({},e),{},{query:n}):e},getWidgetSearchParameters:function(e,t){return e.setQueryParameter("query",t.uiState.query||"")}}}},EXPERIMENTAL_connectAnswers:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return hn(e,Lc()),function(n){var r=n||{},i=r.queryLanguages,a=r.attributesForPrediction,o=r.nbHits,s=void 0===o?1:o,c=r.renderDebounceTime,u=void 0===c?100:c,l=r.searchDebounceTime,f=void 0===l?100:l,h=r.escapeHTML,d=void 0===h||h,p=r.extraParameters,g=void 0===p?{}:p;if(!i||0===i.length)throw new Error(Lc("The `queryLanguages` expects an array of strings."));var m,v=qr(),y=[],b=!1,O=Qr(e,u);return{$$type:"ais.answers",init:function(t){var n=t.instantSearchInstance.client.initIndex(t.state.index);if(!Mc(n))throw new Error(Lc("`algoliasearch` >= 4.8.0 required."));m=Qr(n.findAnswers,f),e(Nc(Nc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!0)},render:function(t){var n=this,r=t.state.query;if(!r)return y=[],b=!1,void e(Nc(Nc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1);y=[],b=!0,e(Nc(Nc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1),v(m(r,i,Nc(Nc({},g),{},{nbHits:s,attributesForPrediction:a}))).then(function(e){if(e){d&&e.hits.length>0&&(e.hits=Vn(e.hits));var r=Tr(Er(e.hits,0,s),e.queryID);y=r,b=!1,O(Nc(Nc({},n.getWidgetRenderState(t)),{},{instantSearchInstance:t.instantSearchInstance}),!1)}})},getRenderState:function(e,t){return Nc(Nc({},e),{},{answers:this.getWidgetRenderState(t)})},getWidgetRenderState:function(){return{hits:y,isLoading:b,widgetParams:n}},dispose:function(e){var n=e.state;return t(),n},getWidgetSearchParameters:function(e){return e}}}},connectRelevantSort:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dn;return function(n){var r={};return{$$type:"ais.relevantSort",init:function(t){var n=t.instantSearchInstance;e(Hc(Hc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!0)},render:function(t){var n=t.instantSearchInstance;e(Hc(Hc({},this.getWidgetRenderState(t)),{},{instantSearchInstance:n}),!1)},dispose:function(e){var n=e.state;return t(),n.setQueryParameter("relevancyStrictness",void 0)},getRenderState:function(e,t){return Hc(Hc({},e),{},{relevantSort:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,i=e.helper;r.refine||(r.refine=function(e){i.setQueryParameter("relevancyStrictness",e).search()});var a=(t||{}).appliedRelevancyStrictness,o=void 0!==a;return{isRelevantSorted:void 0!==a&&a>0,isVirtualReplica:o,canRefine:o,refine:r.refine,widgetParams:n}},getWidgetSearchParameters:function(e,t){var n;return e.setQueryParameter("relevancyStrictness",null!==(n=t.uiState.relevantSort)&&void 0!==n?n:e.relevancyStrictness)},getWidgetUiState:function(e,t){var n=t.searchParameters;return Hc(Hc({},e),{},{relevantSort:n.relevancyStrictness||e.relevantSort})}}}}})}();
